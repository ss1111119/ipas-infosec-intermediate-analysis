<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iPAS 資安題組教學 - 零信任架構設計原則 (Canvas Interactive)</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --accent-color: #3498db;
            --correct-color: #27ae60;
            --wrong-color: #c0392b;
            --bg-color: #f4f6f7;
            --text-color: #333;
            --card-bg: rgba(255, 255, 255, 0.95); /* Slightly transparent for canvas */
            --border-color: #ddd;
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: "Noto Sans TC", "Microsoft JhengHei", Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }

        /* Canvas Background Styling */
        #bgCanvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1; /* Behind content */
            pointer-events: none; /* Let clicks pass through, but we track mouse via JS */
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: var(--card-bg);
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255,255,255,0.5);
            position: relative;
            z-index: 1;
        }

        header {
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 15px;
            margin-bottom: 20px;
            text-align: center;
        }

        h1 {
            font-size: 1.5rem;
            color: var(--primary-color);
            margin: 0;
        }

        h2 {
            font-size: 1.2rem;
            color: var(--accent-color);
            margin-top: 5px;
        }

        .context-box {
            background-color: rgba(232, 244, 248, 0.9);
            border-left: 5px solid var(--accent-color);
            padding: 15px;
            margin-bottom: 20px;
            font-size: 0.95rem;
        }

        .question-box {
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .highlight-term {
            background-color: #fff3cd;
            padding: 0 4px;
            border-radius: 2px;
        }

        .glossary {
            color: #666;
            font-size: 0.9em;
            font-weight: normal;
        }

        /* Options Interaction */
        .options-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 20px;
        }

        .option-btn {
            padding: 15px;
            border: 2px solid var(--border-color);
            border-radius: 6px;
            background: #fff;
            cursor: pointer;
            text-align: left;
            font-size: 1rem;
            transition: all 0.2s;
            position: relative;
            overflow: hidden;
        }

        .option-btn:hover {
            background-color: #f0f0f0;
            border-color: #aaa;
            transform: translateY(-2px);
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .option-btn.selected {
            border-color: var(--accent-color);
            background-color: #ebf5fb;
            color: var(--primary-color);
            font-weight: bold;
        }

        .action-area {
            text-align: center;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }

        .btn {
            padding: 12px 30px;
            font-size: 1rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            color: white;
            transition: transform 0.2s, background 0.3s;
        }

        .btn:active {
            transform: scale(0.98);
        }

        .btn-submit {
            background-color: var(--primary-color);
        }

        .btn-submit:hover {
            background-color: #1a252f;
        }

        .btn-reset {
            background-color: #7f8c8d;
            margin-left: 10px;
            display: none;
        }

        /* Result & Feedback */
        #feedback-area {
            margin-top: 20px;
            padding: 15px;
            border-radius: 6px;
            text-align: center;
            font-weight: bold;
            display: none;
        }

        .feedback-correct {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .feedback-wrong {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        /* Accordion Style */
        .explanation-container {
            margin-top: 30px;
            display: none;
        }

        .accordion {
            background-color: rgba(238, 238, 238, 0.8);
            color: #444;
            cursor: pointer;
            padding: 18px;
            width: 100%;
            border: none;
            text-align: left;
            outline: none;
            font-size: 1rem;
            transition: 0.4s;
            border-bottom: 1px solid #ddd;
            font-weight: bold;
        }

        .accordion:hover, .accordion.active {
            background-color: #ccc;
        }

        .accordion:after {
            content: '\002B'; /* + sign */
            color: #777;
            font-weight: bold;
            float: right;
            margin-left: 5px;
        }

        .accordion.active:after {
            content: "\2212"; /* - sign */
        }

        .panel {
            padding: 0 18px;
            background-color: rgba(255, 255, 255, 0.9);
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
            border-left: 3px solid #ccc;
        }

        .panel-content {
            padding: 15px 0;
        }

        /* Table Style */
        .analysis-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }

        .analysis-table th, .analysis-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }

        .analysis-table th {
            background-color: #f2f2f2;
            font-weight: bold;
        }

        .highlight-marker {
            background-color: yellow;
            font-weight: bold;
        }

        ul {
            padding-left: 20px;
        }

        li {
            margin-bottom: 8px;
        }

        /* Responsive */
        @media (max-width: 600px) {
            .container {
                padding: 15px;
            }
            .btn {
                width: 100%;
                margin-bottom: 10px;
                margin-left: 0;
            }
        }
    </style>
</head>
<body>

<!-- Canvas Background -->
<canvas id="bgCanvas"></canvas>

<div class="container">
    <header>
        <h1>iPAS 資安【題組題】</h1>
        <h2>題組 4：零信任架構設計原則判斷</h2>
    </header>

    <div class="context-box">
        <strong>【題組共用情境】</strong><br>
        依循 NIST SP 800-207 <span class="glossary">（美國國家標準與技術研究院發布的標準文件）</span> 中的 Zero Trust Architecture <span class="glossary">（零信任架構，一種不預設信任任何使用者或裝置，需持續驗證的資安策略）</span>，企業因應供應鏈 <span class="glossary">（產品從原料到成品的整個生產與銷售網絡）</span> 上下游需求，包含遠端使用供應鏈管理系統、資料存取、設備辨識與權限控管等，進行零信任架構規劃。
    </div>

    <div class="question-box">
        第 30 題（單選）：<br>
        針對遠端使用供應鏈管理系統、資料存取、設備辨識等項目規劃零信任架構。在設計資安架構時，「不」包含下列何項原則？
    </div>

    <div class="options-group">
        <button class="option-btn" onclick="selectOption('A')" id="btn-A">(A) 資產採購</button>
        <button class="option-btn" onclick="selectOption('B')" id="btn-B">(B) 元件關係</button>
        <button class="option-btn" onclick="selectOption('C')" id="btn-C">(C) 工作流程規劃</button>
        <button class="option-btn" onclick="selectOption('D')" id="btn-D">(D) 存取政策</button>
    </div>

    <div id="feedback-area"></div>

    <div class="action-area">
        <button class="btn btn-submit" onclick="submitAnswer()" id="submit-btn">提交答案</button>
        <button class="btn btn-reset" onclick="resetQuiz()" id="reset-btn">重作一次</button>
    </div>

    <!-- Explanation Section (Accordion) -->
    <div class="explanation-container" id="explanation-area">
        <h3 style="border-bottom: 2px solid #ddd; padding-bottom: 10px;">試題詳解</h3>

        <button class="accordion">A. 題組情境重點整理</button>
        <div class="panel">
            <div class="panel-content">
                <ul>
                    <li><strong>依據標準：</strong> NIST SP 800-207。</li>
                    <li><strong>目標：</strong> 規劃零信任架構（ZTA）。</li>
                    <li><strong>涵蓋範圍：</strong> 遠端系統使用、資料存取、設備辨識。</li>
                    <li><strong>核心重點：</strong> 本題聚焦於「架構設計的原則」，也就是在畫設計圖階段該考慮的事，而非後續的「採購行為」。</li>
                </ul>
            </div>
        </div>

        <button class="accordion">B. 題目重述</button>
        <div class="panel">
            <div class="panel-content">
                針對遠端使用供應鏈管理系統、資料存取、設備辨識等項目規劃零信任架構。在設計資安架構時，「不」包含下列何項原則？
            </div>
        </div>

        <button class="accordion">C. 第一步：找關鍵字</button>
        <div class="panel">
            <div class="panel-content">
                <p>請注意題目中的這些關鍵詞：</p>
                <ul>
                    <li><span class="highlight-marker">零信任架構</span>：本次規劃的核心主題。</li>
                    <li><span class="highlight-marker">設計資安架構</span>：指規劃邏輯、規則與流程的階段。</li>
                    <li><span class="highlight-marker">不包含</span>：這是否定題，要選出「錯誤」或「格格不入」的選項。</li>
                    <li><span class="highlight-marker">原則</span>：指核心指導方針，而非具體執行的買賣動作。</li>
                </ul>
                <p><strong>解讀：</strong> 本題要找的是一個「不屬於設計原則」，而是屬於「行政程序」或「採購執行」的選項。</p>
            </div>
        </div>

        <button class="accordion">D. 第二步：白話翻譯</button>
        <div class="panel">
            <div class="panel-content">
                <p>用高中生日常口語來說明：</p>
                <p>「在設計一套嚴格的門禁系統（零信任）時，我們要先想好『誰可以進來』、『走哪條路』、『要檢查什麼證件』（這些是設計原則）。而不是一開始就討論『要去哪一家店買鎖頭』或『要花多少錢買監視器』（這是採購）。」</p>
            </div>
        </div>

        <button class="accordion">E. 第三步：解題思路</button>
        <div class="panel">
            <div class="panel-content">
                <ul>
                    <li><strong>這題在考什麼觀念？</strong><br>
                        一句話：零信任設計原則關注「如何控管與互動」，而不是「買什麼產品」。
                    </li>
                    <li><strong>解題步驟：</strong>
                        <ol>
                            <li>判斷哪些選項屬於「架構設計思考」（例如：A跟B怎麼溝通？規則怎麼訂？）。</li>
                            <li>排除與「採購、買設備、花錢」相關的行政行為。</li>
                        </ol>
                    </li>
                    <li><strong>原理與規則（白話）：</strong>
                        <ul>
                            <li>零信任是架構與邏輯，不是單純的產品清單。</li>
                            <li>採購是設計完成後，後續執行的階段。</li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>

        <button class="accordion">F. 第四步：選項分析</button>
        <div class="panel">
            <div class="panel-content">
                <table class="analysis-table">
                    <thead>
                        <tr>
                            <th width="15%">選項</th>
                            <th width="20%">屬設計原則？</th>
                            <th>理由（白話解析）</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="background-color: #fff3cd;">
                            <td><strong>(A) 資產採購</strong></td>
                            <td><strong>否 (答案)</strong></td>
                            <td><strong>這是「買東西」。</strong> 資產採購 <span class="glossary">（購買軟硬體設備的商業行為）</span> 屬於執行層面或行政流程，並非零信任架構的邏輯設計原則。</td>
                        </tr>
                        <tr>
                            <td>(B) 元件關係</td>
                            <td>是</td>
                            <td><strong>這是「畫關係圖」。</strong> 規劃時必須定義使用者、設備、應用程式之間如何互動與連接。</td>
                        </tr>
                        <tr>
                            <td>(C) 工作流程規劃</td>
                            <td>是</td>
                            <td><strong>這是「訂流程」。</strong> 決定驗證通過後，資料流向為何，以及業務如何運作。</td>
                        </tr>
                        <tr>
                            <td>(D) 存取政策</td>
                            <td>是</td>
                            <td><strong>這是「訂規則」。</strong> 零信任的核心就是 Policy <span class="glossary">（政策）</span>，規定誰在什麼條件下能存取什麼資源。</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <button class="accordion">G. 觀念補充與延伸</button>
        <div class="panel">
            <div class="panel-content">
                <ul>
                    <li><strong>核心觀念定位：</strong>
                        <ul>
                            <li>零信任架構設計原則。</li>
                            <li>考試常見度：高（常考「下列何者不是原則」來混淆考生）。</li>
                        </ul>
                    </li>
                    <li><strong>定義整理：</strong>
                        <ul>
                            <li><strong>設計原則：</strong> 決定系統怎麼管、怎麼驗、怎麼放行。</li>
                            <li><strong>採購行為：</strong> 買設備、買系統、選廠商，屬於執行層。</li>
                        </ul>
                    </li>
                    <li><strong>變化題型預測：</strong>
                        <ul>
                            <li>如果題目把選項改成「選用某廠牌防火牆」，這也不是設計原則，而是產品選型。</li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>

        <button class="accordion">H. 記憶口訣</button>
        <div class="panel">
            <div class="panel-content">
                <p style="font-size: 1.2rem; font-weight: bold; color: var(--accent-color); text-align: center;">
                    「零信任先設計，不是先刷卡」
                </p>
                <p>意思：先想好架構怎麼設計，而不是先想採購（刷卡買單）。</p>
            </div>
        </div>

        <button class="accordion">I. 常見陷阱</button>
        <div class="panel">
            <div class="panel-content">
                <ul>
                    <li><strong>易錯點：</strong> 看到「資產」兩個字，就以為是零信任強調的「資產盤點」，但這裡寫的是「採購」。</li>
                    <li><strong>心理盲點：</strong> 很多學生以為做資安就是「買設備」，所以誤以為採購也是架構設計的一部分。</li>
                    <li><strong>避坑指南：</strong> 作答時問自己：「這是在『想規則』，還是『買東西』？」如果是買東西，通常就不是設計原則。</li>
                </ul>
            </div>
        </div>

        <button class="accordion">J. 正確答案</button>
        <div class="panel">
            <div class="panel-content">
                <p><strong>答案：(A)</strong></p>
                <p><strong>一句話理由：</strong> 資產採購屬執行與行政層面，非零信任架構本身的邏輯設計原則。</p>
            </div>
        </div>

        <button class="accordion">K. 自我檢測</button>
        <div class="panel">
            <div class="panel-content">
                <p>試著回答下列問題，點擊可查看參考答案：</p>
                
                <div style="margin-bottom: 15px; border-bottom: 1px dashed #ccc; padding-bottom: 10px;">
                    <p style="font-weight: bold;">1) 為什麼零信任設計不能從「買設備」開始？</p>
                    <button class="btn" style="background: #eee; color: #333; padding: 5px 10px; font-size: 0.8rem;" onclick="this.nextElementSibling.style.display = (this.nextElementSibling.style.display === 'block') ? 'none' : 'block'">看答案</button>
                    <div style="display: none; margin-top: 5px; color: var(--correct-color);">
                        參考答案：因為若未先定義存取與驗證原則（架構），設備可能買了卻無法有效整合，或不符合安全需求。
                    </div>
                </div>

                <div style="margin-bottom: 15px; border-bottom: 1px dashed #ccc; padding-bottom: 10px;">
                    <p style="font-weight: bold;">2) 存取政策在零信任中扮演什麼角色？</p>
                    <button class="btn" style="background: #eee; color: #333; padding: 5px 10px; font-size: 0.8rem;" onclick="this.nextElementSibling.style.display = (this.nextElementSibling.style.display === 'block') ? 'none' : 'block'">看答案</button>
                    <div style="display: none; margin-top: 5px; color: var(--correct-color);">
                        參考答案：它是核心控制中樞，決定誰（User）、在什麼條件下（Condition）、可存取哪些資源（Resource）。
                    </div>
                </div>

                <div>
                    <p style="font-weight: bold;">3) 若題目出現「選用 A 廠牌防火牆」，多半屬於哪一類？</p>
                    <button class="btn" style="background: #eee; color: #333; padding: 5px 10px; font-size: 0.8rem;" onclick="this.nextElementSibling.style.display = (this.nextElementSibling.style.display === 'block') ? 'none' : 'block'">看答案</button>
                    <div style="display: none; margin-top: 5px; color: var(--correct-color);">
                        參考答案：屬於「採購」或「執行」層面，而非架構的「設計原則」。
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

<script>
    // --- CANVAS ANIMATION LOGIC ---
    const canvas = document.getElementById('bgCanvas');
    const ctx = canvas.getContext('2d');
    
    let particlesArray;
    let mouse = { x: null, y: null, radius: 150 };

    // Set canvas size
    function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();

    // Mouse position tracking
    window.addEventListener('mousemove', function(event) {
        mouse.x = event.x;
        mouse.y = event.y;
    });

    // Particle Class
    class Particle {
        constructor() {
            this.x = Math.random() * canvas.width;
            this.y = Math.random() * canvas.height;
            this.size = (Math.random() * 3) + 1;
            this.baseX = this.x;
            this.baseY = this.y;
            this.density = (Math.random() * 30) + 1;
            // Velocity
            this.vx = (Math.random() * 0.5) - 0.25;
            this.vy = (Math.random() * 0.5) - 0.25;
        }

        draw() {
            ctx.fillStyle = '#bdc3c7';
            ctx.beginPath();
            ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
            ctx.closePath();
            ctx.fill();
        }

        update() {
            // Movement
            this.x += this.vx;
            this.y += this.vy;

            // Boundary Check
            if (this.x < 0 || this.x > canvas.width) this.vx = -this.vx;
            if (this.y < 0 || this.y > canvas.height) this.vy = -this.vy;

            // Mouse Interaction (Zero Trust: "Verification")
            // Particles move away slightly from mouse (like a force field)
            let dx = mouse.x - this.x;
            let dy = mouse.y - this.y;
            let distance = Math.sqrt(dx * dx + dy * dy);
            
            if (distance < mouse.radius) {
                // Determine direction to move
                const forceDirectionX = dx / distance;
                const forceDirectionY = dy / distance;
                const maxDistance = mouse.radius;
                const force = (maxDistance - distance) / maxDistance;
                const directionX = forceDirectionX * force * this.density;
                const directionY = forceDirectionY * force * this.density;

                this.x -= directionX;
                this.y -= directionY;
            } 
        }
    }

    function initParticles() {
        particlesArray = [];
        let numberOfParticles = (canvas.width * canvas.height) / 9000;
        for (let i = 0; i < numberOfParticles; i++) {
            particlesArray.push(new Particle());
        }
    }

    function connect() {
        let opacityValue = 1;
        for (let a = 0; a < particlesArray.length; a++) {
            for (let b = a; b < particlesArray.length; b++) {
                let distance = ((particlesArray[a].x - particlesArray[b].x) * (particlesArray[a].x - particlesArray[b].x)) + 
                               ((particlesArray[a].y - particlesArray[b].y) * (particlesArray[a].y - particlesArray[b].y));
                
                if (distance < (canvas.width/7) * (canvas.height/7)) {
                    opacityValue = 1 - (distance/20000);
                    ctx.strokeStyle = 'rgba(189, 195, 199,' + opacityValue + ')';
                    ctx.lineWidth = 1;
                    ctx.beginPath();
                    ctx.moveTo(particlesArray[a].x, particlesArray[a].y);
                    ctx.lineTo(particlesArray[b].x, particlesArray[b].y);
                    ctx.stroke();
                }
            }
        }
    }

    function animate() {
        requestAnimationFrame(animate);
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        
        for (let i = 0; i < particlesArray.length; i++) {
            particlesArray[i].update();
            particlesArray[i].draw();
        }
        connect();
    }

    // Start Canvas
    initParticles();
    animate();


    // --- QUIZ LOGIC (Original) ---
    let currentSelection = null;
    let isSubmitted = false;

    // Accordion Logic
    const acc = document.getElementsByClassName("accordion");
    for (let i = 0; i < acc.length; i++) {
        acc[i].addEventListener("click", function() {
            this.classList.toggle("active");
            var panel = this.nextElementSibling;
            if (panel.style.maxHeight) {
                panel.style.maxHeight = null;
            } else {
                panel.style.maxHeight = panel.scrollHeight + "px";
            }
        });
    }

    // Select Option Logic
    function selectOption(option) {
        if (isSubmitted) return; 

        currentSelection = option;
        
        const buttons = document.querySelectorAll('.option-btn');
        buttons.forEach(btn => btn.classList.remove('selected'));
        
        document.getElementById('btn-' + option).classList.add('selected');
    }

    // Submit Answer Logic
    function submitAnswer() {
        if (!currentSelection) {
            alert("請先選擇一個答案！");
            return;
        }

        isSubmitted = true;
        const feedbackArea = document.getElementById('feedback-area');
        const explanationArea = document.getElementById('explanation-area');
        const submitBtn = document.getElementById('submit-btn');
        const resetBtn = document.getElementById('reset-btn');

        feedbackArea.style.display = "block";
        explanationArea.style.display = "block";
        submitBtn.disabled = true;
        submitBtn.style.opacity = "0.6";
        resetBtn.style.display = "inline-block";

        if (currentSelection === 'A') {
            feedbackArea.className = "feedback-correct";
            feedbackArea.innerHTML = "回答正確！<br>（請參閱下方詳細解析）";
            // Auto open steps
            acc[3].click(); 
            acc[5].click(); 
        } else {
            feedbackArea.className = "feedback-wrong";
            feedbackArea.innerHTML = "回答錯誤。<br>提示：設計原則 ≠ 採購行為。<br>（請參閱下方詳細解析）";
            // Auto open steps
            acc[2].click(); 
            acc[5].click(); 
        }

        feedbackArea.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }

    // Reset Quiz Logic
    function resetQuiz() {
        currentSelection = null;
        isSubmitted = false;

        const buttons = document.querySelectorAll('.option-btn');
        buttons.forEach(btn => btn.classList.remove('selected'));

        const feedbackArea = document.getElementById('feedback-area');
        feedbackArea.style.display = "none";
        feedbackArea.className = "";
        feedbackArea.innerHTML = "";

        const explanationArea = document.getElementById('explanation-area');
        explanationArea.style.display = "none";
        
        for (let i = 0; i < acc.length; i++) {
            acc[i].classList.remove("active");
            acc[i].nextElementSibling.style.maxHeight = null;
            
            const internalDivs = acc[i].nextElementSibling.querySelectorAll('div[style*="color: var(--correct-color)"]');
            internalDivs.forEach(div => div.style.display = 'none');
        }

        const submitBtn = document.getElementById('submit-btn');
        const resetBtn = document.getElementById('reset-btn');
        submitBtn.disabled = false;
        submitBtn.style.opacity = "1";
        resetBtn.style.display = "none";
        
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }
</script>

</body>
</html>