<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iPAS 資安題組教學 - 第 16 題</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --accent-color: #3498db;
            --highlight-color: #e67e22; /* 用於強調完整性 */
            --correct-color: #27ae60;
            --wrong-color: #c0392b;
            --bg-color: #f4f7f6;
            --card-bg: #ffffff;
            --border-radius: 8px;
        }

        body {
            font-family: "Microsoft JhengHei", "Heiti TC", sans-serif;
            background-color: var(--bg-color);
            color: #333;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: var(--card-bg);
            padding: 30px;
            border-radius: var(--border-radius);
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        /* Header */
        header {
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 15px;
            margin-bottom: 20px;
        }

        h1 {
            font-size: 1.5rem;
            color: var(--primary-color);
            margin: 0;
        }

        h2 {
            font-size: 1.2rem;
            color: var(--accent-color);
            margin-top: 5px;
        }

        .tag {
            display: inline-block;
            background-color: var(--primary-color);
            color: white;
            padding: 4px 8px;
            font-size: 0.8rem;
            border-radius: 4px;
            margin-right: 10px;
        }

        /* Scenario Box */
        .scenario-box {
            background-color: #eef2f5;
            padding: 15px;
            border-left: 5px solid var(--accent-color);
            margin-bottom: 20px;
            font-size: 0.95rem;
        }

        /* Question Section */
        .question-section {
            margin-bottom: 30px;
        }

        .question-title {
            font-weight: bold;
            font-size: 1.1rem;
            margin-bottom: 15px;
        }

        .options-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option-label {
            display: flex;
            align-items: flex-start;
            cursor: pointer;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            transition: background-color 0.2s;
        }

        .option-label:hover {
            background-color: #f9f9f9;
        }

        .option-label input[type="checkbox"] {
            margin-top: 5px;
            margin-right: 12px;
            transform: scale(1.2);
        }

        /* Buttons */
        .btn-group {
            margin-top: 20px;
            display: flex;
            gap: 10px;
        }

        button {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            font-size: 1rem;
            cursor: pointer;
            font-weight: bold;
        }

        .btn-submit {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-submit:hover {
            background-color: #1a252f;
        }

        .btn-reset {
            background-color: #bdc3c7;
            color: #2c3e50;
        }

        .btn-reset:hover {
            background-color: #95a5a6;
        }

        /* Feedback */
        .feedback {
            margin-top: 15px;
            padding: 15px;
            border-radius: 4px;
            font-weight: bold;
            display: none; /* Hidden by default */
        }

        .feedback.correct {
            background-color: #d4edda;
            color: var(--correct-color);
            border: 1px solid #c3e6cb;
            display: block;
        }

        .feedback.wrong {
            background-color: #f8d7da;
            color: var(--wrong-color);
            border: 1px solid #f5c6cb;
            display: block;
        }

        /* CIA Diagram (CSS Only) */
        .cia-diagram {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .cia-item {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: 2px solid #ccc;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-size: 0.9rem;
            background-color: white;
            color: #777;
        }

        .cia-item.integrity {
            border-color: var(--highlight-color);
            background-color: #fff5e6; /* Light orange */
            color: var(--highlight-color);
            font-weight: bold;
            box-shadow: 0 0 10px rgba(230, 126, 34, 0.3);
            transform: scale(1.1);
        }

        /* Analysis Section (Accordion) */
        .analysis-container {
            margin-top: 30px;
            border-top: 2px dashed #ccc;
            padding-top: 20px;
            display: none; /* Hidden initially until submit */
        }

        .analysis-container.visible {
            display: block;
        }

        details {
            margin-bottom: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            background-color: white;
        }

        summary {
            padding: 12px;
            cursor: pointer;
            background-color: #f8f9fa;
            font-weight: bold;
            color: var(--primary-color);
            list-style: none; /* Remove default triangle */
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        summary::-webkit-details-marker {
            display: none;
        }

        summary::after {
            content: '+';
            font-size: 1.2rem;
            font-weight: bold;
        }

        details[open] summary::after {
            content: '-';
        }

        .details-content {
            padding: 15px;
            border-top: 1px solid #ddd;
        }

        /* Utility Classes */
        .highlight-text {
            background-color: yellow;
            padding: 0 2px;
            border-radius: 2px;
        }

        .highlight-keyword {
            color: var(--highlight-color);
            font-weight: bold;
        }

        /* Table Style */
        .analysis-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }

        .analysis-table th, .analysis-table td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: left;
        }

        .analysis-table th {
            background-color: #f2f2f2;
            color: var(--primary-color);
        }

        /* Self Check Styles */
        .self-check-item {
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        
        .answer-reveal {
            margin-top: 5px;
            color: var(--accent-color);
            font-weight: bold;
        }

    </style>
</head>
<body>

<div class="container">
    <header>
        <span class="tag">題組 2</span>
        <h1>iPAS 資安重點複習：第 16 題</h1>
        <h2>主題：資安三要素 - 完整性 (Integrity)</h2>
    </header>

    <!-- Context -->
    <div class="scenario-box">
        <strong>【題組情境】(第 13–16 題共用)</strong><br>
        在準備上市公司的董事會會議中，資通安全是議程的重點。公司在導入新資安框架與強化治理的同時，也重新檢視資安三要素（CIA Triad），確保資訊在不同情境下都能被正確保護。資安主管以實際事件為例，說明機密性、完整性與可用性在資安事件中各自對應的風險與影響。
    </div>

    <!-- CIA Visual -->
    <div class="cia-diagram">
        <div class="cia-item">
            機密性<br>(Confidentiality)
        </div>
        <div class="cia-item integrity">
            完整性<br>(Integrity)<br>★本題重點
        </div>
        <div class="cia-item">
            可用性<br>(Availability)
        </div>
    </div>

    <!-- Question -->
    <div class="question-section">
        <div class="question-title">
            第 16 題（複選）：<br>
            下列哪些選項描述的狀況，符合資安三要素中「完整性（Integrity：資料未被未授權竄改或破壞）」的特性？
        </div>
        
        <div class="options-group">
            <label class="option-label">
                <input type="checkbox" name="q16" value="A">
                <span>(A) 人員到職後，因預設密碼未進行變更，該員的帳號被登入並且外洩了公司的資料</span>
            </label>
            <label class="option-label">
                <input type="checkbox" name="q16" value="B">
                <span>(B) 公司執行資安檢測時，發現 SQL Injection 的問題，變更部分資料庫內容</span>
            </label>
            <label class="option-label">
                <input type="checkbox" name="q16" value="C">
                <span>(C) 公司的電子郵件透過憑證進行電子郵件加密</span>
            </label>
            <label class="option-label">
                <input type="checkbox" name="q16" value="D">
                <span>(D) 因使用者資安意識不足，點擊了勒索軟體，以致部分文件內容無法讀取</span>
            </label>
        </div>

        <div class="btn-group">
            <button class="btn-submit" onclick="checkAnswer()">提交答案</button>
            <button class="btn-reset" onclick="resetQuiz()">重作一次</button>
        </div>

        <div id="feedbackResult" class="feedback"></div>
    </div>

    <!-- Analysis Section (Initially Hidden) -->
    <div id="analysisArea" class="analysis-container">
        <h3>題目解析與重點整理</h3>

        <details>
            <summary>A. 題組情境重點整理</summary>
            <div class="details-content">
                <ul>
                    <li><strong>資安三要素 (CIA)：</strong>資訊安全的基石，包含機密性、完整性、可用性。</li>
                    <li><strong>本題核心：</strong>聚焦於 <span class="highlight-keyword">完整性 (Integrity)</span>。</li>
                    <li><strong>完整性重點：</strong>確保資料在傳輸或儲存過程中，<span class="highlight-text">沒有被未授權的竄改、破壞，且保持正確一致</span>。</li>
                </ul>
            </div>
        </details>

        <details>
            <summary>B. 題目重述</summary>
            <div class="details-content">
                <p>題目要求選出符合「完整性」定義的情境。這是一個<strong>複選題</strong>，必須選出所有正確的選項。</p>
            </div>
        </details>

        <details open>
            <summary>C. 第一步：找關鍵字</summary>
            <div class="details-content">
                <p>請拿起虛擬螢光筆，畫下這些詞：</p>
                <ul>
                    <li><span class="highlight-text">完整性 (Integrity)</span>：這是題目的過濾鏡。</li>
                    <li>選項 (B) 的 <span class="highlight-text">變更部分資料庫內容</span>。</li>
                    <li>選項 (D) 的 <span class="highlight-text">文件內容無法讀取</span> (暗示內容結構被破壞)。</li>
                </ul>
                <p><strong>解釋：</strong>完整性的核心線索就是「資料被改變」、「內容被破壞」或「不再正確」。</p>
            </div>
        </details>

        <details>
            <summary>D. 第二步：白話翻譯</summary>
            <div class="details-content">
                <p>用高中生的話來說：</p>
                <p style="background-color: #eef; padding: 10px; border-radius: 4px;">
                    這題是在問：「下面哪一種狀況，代表資料被<strong>亂改</strong>、被<strong>弄壞</strong>，導致內容變得不正確或跟原本長得不一樣？」
                </p>
            </div>
        </details>

        <details>
            <summary>E. 第三步：解題思路</summary>
            <div class="details-content">
                <p><strong>這題在考什麼？</strong> 資安三要素中「完整性」的判斷能力。</p>
                <p><strong>解題步驟：</strong></p>
                <ol>
                    <li>排除「資料被偷看但沒被改」的情境（這是機密性）。</li>
                    <li>尋找「資料被修改、加密破壞、無法維持原狀」的描述。</li>
                    <li>複選題檢查：確認選出的每一項都符合上述特質。</li>
                </ol>
                <p><strong>原理與規則：</strong></p>
                <ul>
                    <li>完整性關心的是「資料對不對、有沒有被改壞」。</li>
                    <li>不一定只是「能不能讀」(那是可用性)，重點是「資料內容是否保持正確與一致」。如果勒索軟體把檔案內容加密成亂碼，那檔案的內容就不是原本的內容了，即喪失完整性。</li>
                </ul>
            </div>
        </details>

        <details open>
            <summary>F. 第四步：選項分析</summary>
            <div class="details-content">
                <table class="analysis-table">
                    <thead>
                        <tr>
                            <th width="10%">選項</th>
                            <th width="20%">CIA 要素</th>
                            <th>白話原因解析</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>(A)</td>
                            <td>機密性</td>
                            <td>因為帳號被登入且資料「外洩」，是被不該看的人看到了，但資料內容本身沒被改動。</td>
                        </tr>
                        <tr style="background-color: #fff5e6;">
                            <td>(B)</td>
                            <td><span class="highlight-keyword">完整性</span></td>
                            <td><strong>SQL Injection (資料隱碼攻擊)</strong> 導致資料庫內容被「變更」。資料被亂改了，就不完整了。</td>
                        </tr>
                        <tr>
                            <td>(C)</td>
                            <td>機密性</td>
                            <td>電子郵件加密是為了保護內容不被偷看。加密是保護機密性的常見手段。</td>
                        </tr>
                        <tr style="background-color: #fff5e6;">
                            <td>(D)</td>
                            <td><span class="highlight-keyword">完整性</span></td>
                            <td><strong>勒索軟體 (Ransomware)</strong> 強制加密或破壞檔案，雖然結果是無法讀取，但本質上它「改變」了檔案內容的狀態，使其不再維持原本的樣子。</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </details>

        <details>
            <summary>G. 觀念補充與延伸</summary>
            <div class="details-content">
                <p><strong>核心觀念定位：</strong>這是資安最基礎也最必考的題目。</p>
                <p><strong>CIA 定義整理：</strong></p>
                <ul>
                    <li><strong>機密性 (Confidentiality)：</strong>不該看到的人看不到。（關鍵字：外洩、竊聽、加密）</li>
                    <li><strong>完整性 (Integrity)：</strong>資料不能被亂改或破壞。（關鍵字：竄改、變更、雜湊值不符）</li>
                    <li><strong>可用性 (Availability)：</strong>需要用的時候用得到。（關鍵字：當機、DDoS、斷線）</li>
                </ul>
                <p><strong>觸類旁通：</strong></p>
                <ul>
                    <li><strong>勒索軟體：</strong>通常同時影響完整性（檔案被改壞）與可用性（檔案打不開）。在本題脈絡下，它破壞資料結構，故選完整性。</li>
                    <li><strong>SQL Injection：</strong>如果只是用來偷資料，是機密性；如果像本題說「變更」資料，就是完整性。</li>
                </ul>
            </div>
        </details>

        <details>
            <summary>H. 記憶口訣</summary>
            <div class="details-content">
                <p style="font-size: 1.1rem; text-align: center; color: var(--primary-color); font-weight: bold; border: 2px dashed var(--accent-color); padding: 10px;">
                    「完整看資料，有沒有被亂改；<br>勒索一來，內容就壞。」
                </p>
            </div>
        </details>

        <details>
            <summary>I. 常見陷阱</summary>
            <div class="details-content">
                <ul>
                    <li><strong>易錯點：</strong>看到「外洩」就覺得資料不完整？<br>→ 錯！外洩只是被複製出去，原始資料還是完整的，這是機密性問題。</li>
                    <li><strong>心理盲點：</strong>看到「無法讀取」只想到可用性？<br>→ 要小心！勒索軟體讓無法讀取的原因是因為它「修改」了檔案檔頭或內容，既然被修改，完整性就先沒了。</li>
                    <li><strong>避坑指南：</strong>問自己一句話：「資料內容還是不是原本正確的那個樣子？」</li>
                </ul>
            </div>
        </details>

        <details>
            <summary>J. 正確答案</summary>
            <div class="details-content">
                <p><strong>正確答案：B、D</strong></p>
                <p>理由：資料被未授權變更 (B) 或被勒索軟體破壞內容 (D)，都會影響資料的正確與一致，符合完整性定義。</p>
            </div>
        </details>

        <details>
            <summary>K. 自我檢測</summary>
            <div class="details-content">
                <div class="self-check-item">
                    <strong>題目 1：</strong>若資料被偷看但內容完全沒變，屬於哪一個資安要素？
                    <div class="answer-reveal">參考答案：機密性 (Confidentiality)。</div>
                </div>
                <div class="self-check-item">
                    <strong>題目 2：</strong>若系統當機導致資料暫時無法存取，但資料未被修改，主要影響哪一要素？
                    <div class="answer-reveal">參考答案：可用性 (Availability)。</div>
                </div>
                <div class="self-check-item">
                    <strong>題目 3：</strong>若駭客竄改成績資料但系統仍可正常使用，主要影響哪一要素？
                    <div class="answer-reveal">參考答案：完整性 (Integrity)。</div>
                </div>
            </div>
        </details>
    </div>
</div>

<script>
    function checkAnswer() {
        const checkboxes = document.querySelectorAll('input[name="q16"]:checked');
        const userAnswers = Array.from(checkboxes).map(cb => cb.value).sort();
        const correctAnswers = ['B', 'D'];
        const feedbackDiv = document.getElementById('feedbackResult');
        const analysisArea = document.getElementById('analysisArea');

        // 清除可能殘留的行內樣式，確保 CSS class 能控制顯示
        feedbackDiv.style.display = ''; 

        // 檢查陣列是否相等
        const isCorrect = JSON.stringify(userAnswers) === JSON.stringify(correctAnswers);

        if (isCorrect) {
            feedbackDiv.innerHTML = "正確！恭喜你掌握了完整性的核心概念。請往下閱讀詳細解析。";
            feedbackDiv.className = "feedback correct";
            analysisArea.classList.add("visible");
            // 自動滾動到解析區
            setTimeout(() => {
                analysisArea.scrollIntoView({ behavior: 'smooth' });
            }, 100);
        } else {
            let msg = "錯誤。";
            if (userAnswers.length === 0) {
                msg += "請至少選擇一個選項。";
            } else {
                msg += "本題為複選題，且必須完全正確才得分。";
            }
            msg += "<br><span style='font-weight:normal; font-size: 0.9em;'>提示：完整性的關鍵在於資料是否被「竄改」或「破壞」。外洩是被看光光(機密性)，不是被改壞。</span>";
            
            feedbackDiv.innerHTML = msg;
            feedbackDiv.className = "feedback wrong";
            analysisArea.classList.remove("visible"); // 答錯隱藏解析，強迫思考
        }
    }

    function resetQuiz() {
        // 清空選項
        const checkboxes = document.querySelectorAll('input[name="q16"]');
        checkboxes.forEach(cb => cb.checked = false);

        // 隱藏回饋與解析
        const feedbackDiv = document.getElementById('feedbackResult');
        feedbackDiv.style.display = ''; // 修正：清除行內樣式，而不是設為 none，讓 CSS .feedback class 接手隱藏
        feedbackDiv.innerHTML = ""; // 清空內容
        feedbackDiv.className = "feedback";
        
        const analysisArea = document.getElementById('analysisArea');
        analysisArea.classList.remove("visible");

        // 摺疊所有 details (選擇性)
        const allDetails = document.querySelectorAll('details');
        allDetails.forEach(detail => {
            // 除了題目解析那幾個可能想留著，這裡全部折疊
            if (detail.querySelector('summary').innerText.includes("第一步") === false) { 
               detail.open = false; 
            }
        });
        
        // 確保第一步提示是關閉的，或者重設為題目預設狀態
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }
</script>

</body>
</html>