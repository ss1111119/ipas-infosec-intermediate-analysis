<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>互動式教學網頁：SLA與資安事件處置</title>
    <!-- 引入 Noto Sans TC -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- 引入 Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 引入 FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* 樣式 Tokens 固定 */
        :root {
            --font-main: "Noto Sans TC", system-ui, sans-serif;
            --color-law: #7f8c8d;
            --color-iso: #27ae60;
            --color-zt: #8e44ad;
            --color-net: #2980b9;
            --color-sec: #c0392b;
            --color-mgm: #d35400;
        }

        body {
            font-family: var(--font-main);
            background-color: #f3f4f6;
            color: #333;
            line-height: 1.6;
        }

        /* 標籤顏色規範 */
        .tag-law { background-color: var(--color-law); color: white; }
        .tag-iso { background-color: var(--color-iso); color: white; }
        .tag-zt { background-color: var(--color-zt); color: white; }
        .tag-net { background-color: var(--color-net); color: white; }
        .tag-sec { background-color: var(--color-sec); color: white; }
        .tag-mgm { background-color: var(--color-mgm); color: white; }

        /* 版型與寬度規範 */
        .page-container {
            max-width: 960px;
            width: 100%;
            margin: 0 auto;
            padding: 20px;
            box-sizing: border-box;
        }

        /* 卡片共用樣式 */
        .card {
            background: white;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 12px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .section-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 12px;
            color: #1f2937;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* 選項樣式 */
        .option-label {
            display: flex;
            align-items: flex-start;
            padding: 12px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            margin-bottom: 8px;
        }

        .option-label:hover {
            border-color: #d1d5db;
            background-color: #f9fafb;
        }

        .option-input {
            margin-top: 5px;
            margin-right: 12px;
            width: 18px;
            height: 18px;
            accent-color: #2563eb;
        }

        /* 解析段落卡樣式 */
        .explain-block {
            background-color: #f8fafc;
            border-left: 4px solid #94a3b8;
            padding: 16px;
            margin-bottom: 12px;
            border-radius: 0 8px 8px 0;
        }

        .explain-title {
            font-weight: 700;
            color: #475569;
            margin-bottom: 8px;
            font-size: 16px;
        }
        
        .explain-subtitle {
            font-weight: 700;
            color: #4b5563;
            margin-top: 8px;
            margin-bottom: 4px;
            font-size: 15px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        /* 標籤樣式 */
        .topic-tag {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
            margin-right: 6px;
            vertical-align: middle;
        }

        /* 自我檢測樣式 */
        details summary {
            cursor: pointer;
            padding: 12px;
            background-color: #eef2ff;
            border-radius: 8px;
            font-weight: 700;
            color: #4338ca;
            list-style: none;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        details summary::after {
            content: '\f078';
            font-family: "Font Awesome 6 Free";
            font-weight: 900;
            transition: transform 0.3s;
        }

        details[open] summary::after {
            transform: rotate(180deg);
        }

        details[open] summary {
            border-bottom-left-radius: 0;
            border-bottom-right-radius: 0;
        }

        .check-content {
            padding: 16px;
            border: 1px solid #e0e7ff;
            border-top: none;
            border-bottom-left-radius: 8px;
            border-bottom-right-radius: 8px;
            background-color: white;
        }

        /* 重點標註 */
        mark {
            background-color: #fef3c7;
            padding: 0 4px;
            border-radius: 2px;
            color: #92400e;
        }

        .btn-submit {
            display: block;
            width: 100%;
            padding: 12px;
            background-color: #2563eb;
            color: white;
            text-align: center;
            border-radius: 8px;
            font-weight: 700;
            border: none;
            cursor: pointer;
            transition: background 0.2s;
            font-size: 16px;
        }

        .btn-submit:hover {
            background-color: #1d4ed8;
        }

        /* 隱藏/顯示控制 */
        .hidden {
            display: none;
        }
        
        /* 模糊遮罩效果 */
        .blur-reveal {
            filter: blur(5px);
            transition: filter 0.3s ease;
            cursor: pointer;
            user-select: none;
        }
        
        .blur-reveal:hover {
            filter: blur(0);
        }
    </style>
</head>
<body>

<div class="page-container">
    
    <!-- Header -->
    <header class="card flex justify-between items-center bg-white sticky top-0 z-10 border-b border-gray-100">
        <div class="flex items-center gap-3">
            <span class="bg-blue-600 text-white px-3 py-1 rounded font-bold text-sm">第 20 題</span>
            <span class="text-gray-600 font-medium text-sm">複選題</span>
        </div>
        <div id="status-badge" class="px-3 py-1 rounded text-sm font-bold bg-gray-100 text-gray-500">
            尚未作答
        </div>
    </header>

    <!-- Context -->
    <section class="card">
        <div class="section-title">
            <i class="fa-solid fa-file-contract text-blue-500"></i> 情境描述
        </div>
        <div class="text-gray-700">
            某政府一級單位官網，交付政府維運機房代管，要求服務層級協議（Service Level Agreement, SLA）<mark>99.999%</mark>服務水平。監測發現該政府官網，固定在<mark>每週日半夜 12:00 會自動停止服務 30 分鐘</mark>。該事件已經持續<mark>半年才被發現</mark>。
            <br><br>
            在風險問題排除過程中：
            <ul class="list-disc pl-5 mt-2 space-y-1 text-sm text-gray-600">
                <li>(1) IIS Web Server 服務正常</li>
                <li>(2) MS-SQL 資料庫服務正常</li>
                <li>(3) 防火牆未變動政策</li>
                <li>(4) 檢查排程有每月一次定期備份</li>
                <li>(5) 在檔案異動上發現多了一個 <mark class="text-red-600 font-bold">Lcx.exe</mark> 惡意程序放在 Web Root 目錄</li>
            </ul>
        </div>
    </section>

    <!-- Question -->
    <section class="card">
        <div class="section-title">
            <i class="fa-solid fa-circle-question text-blue-500"></i> 題目
        </div>
        <p class="mb-4 font-medium">下列哪些選項屬於合適的風險處置措施？（複選）</p>
        
        <form id="quiz-form">
            <label class="option-label">
                <input type="checkbox" name="option" value="A" class="option-input">
                <span>(A) 問題經半年才被發現，表示目前缺乏有效監管網站存活狀態，可利用工具建立監控機制，監控 Web Server、URL 連結、資料庫 1433 通訊，就可以知道系統服務層級協議狀態與降低中斷服務的風險</span>
            </label>
            
            <label class="option-label">
                <input type="checkbox" name="option" value="B" class="option-input">
                <span>(B) 在 Web root 目錄出現 Lcx.exe，確定屬被駭客入侵的資安事件，必須先通知部會主管後，緊急補救風險處理</span>
            </label>

            <label class="option-label">
                <input type="checkbox" name="option" value="C" class="option-input">
                <span>(C) 以 99.999%服務層級協議來看，本次事件長達半年，以一年 365 天計算仍符合 99.999%服務層級協議</span>
            </label>

            <label class="option-label">
                <input type="checkbox" name="option" value="D" class="option-input">
                <span>(D) 必須依規定進行通報，例如：「國家資通安全通報應變網站」進行通報</span>
            </label>
        </form>

        <button type="button" id="submit-btn" class="btn-submit mt-4">提交答案</button>
    </section>

    <!-- Feedback -->
    <section id="feedback-card" class="card hidden">
        <div class="section-title">
            <i class="fa-solid fa-check-to-slot text-blue-500"></i> 判定結果
        </div>
        <div id="feedback-content" class="text-lg font-bold mb-2"></div>
        <p id="feedback-reason" class="text-gray-600"></p>
    </section>

    <!-- Explain -->
    <details class="card p-0 overflow-hidden" id="explain-section">
        <summary class="p-6 bg-white hover:bg-gray-50 cursor-pointer list-none flex justify-between items-center text-lg font-bold text-gray-800">
            <span><i class="fa-solid fa-book-open text-blue-500 mr-2"></i> 查看詳解</span>
            <i class="fa-solid fa-chevron-down text-gray-400"></i>
        </summary>
        <div class="p-6 border-t border-gray-100 bg-white">
            
            <!-- 第一步：找關鍵字 -->
            <div class="explain-block">
                <div class="explain-title">
                    <span class="topic-tag tag-mgm">第一步</span>
                    找關鍵字
                </div>
                <ul class="list-disc pl-5 text-sm text-gray-700 space-y-1">
                    <li><strong>政府一級單位官網</strong>：高關注、高影響服務，對事件處理與通報有嚴格要求。</li>
                    <li><strong>SLA 99.999%</strong>：考點在於「可用性計算」與「允許停機時間」。</li>
                    <li><strong>每週日 00:00 停 30 分鐘，持續半年</strong>：暗示「監控不足」（太晚發現）與「固定週期異常」（可能是排程或攻擊行為）。</li>
                    <li><strong>Web Root 出現 Lcx.exe</strong>：關鍵證據。Lcx.exe 是常見的通訊埠轉發工具（駭客工具），出現在網頁根目錄代表<strong>已被入侵（Intrusion）</strong>。</li>
                </ul>
            </div>

            <!-- 第二步：白話翻譯 -->
            <div class="explain-block">
                <div class="explain-title">
                    <span class="topic-tag tag-mgm">第二步</span>
                    白話翻譯
                </div>
                <p class="text-sm text-gray-700">
                    這個官網要求「幾乎不可以壞掉」（99.999%），結果每週日都固定壞 30 分鐘，而且還過了半年才有人發現。檢查後發現，伺服器裡多了一個駭客用的惡意程式。題目問你：現在該怎麼辦才對？（是要加強監控？還是要通報抓駭客？）
                </p>
            </div>

            <!-- 第三步：解題思路 -->
            <div class="explain-block">
                <div class="explain-title">
                    <span class="topic-tag tag-sec">第三步</span>
                    解題思路
                </div>
                
                <div class="explain-subtitle"><i class="fa-solid fa-shoe-prints text-blue-500"></i> 解題步驟</div>
                <ol class="list-decimal pl-5 text-sm text-gray-700 space-y-1">
                    <li><strong>判斷監控狀態</strong>：半年才發現 → 監控失效 → <strong>選 (A)</strong> 建立監控。</li>
                    <li><strong>判斷入侵事實</strong>：發現 Lcx.exe → 確定被駭 → <strong>選 (B)</strong> 緊急處置。</li>
                    <li><strong>驗證 SLA 數據</strong>：計算 99.999% 允許時間 vs 實際停機時間 → <strong>剔除 (C)</strong>。</li>
                    <li><strong>確認合規要求</strong>：政府機關遭駭 → 必須通報 → <strong>選 (D)</strong>。</li>
                </ol>

                <div class="explain-subtitle"><i class="fa-solid fa-calculator text-blue-500"></i> 原理與規則：SLA 計算</div>
                <p class="text-sm text-gray-700 mb-2">
                    SLA 99.999% 代表一年內不可用時間只有 0.001%。
                    <br>一年總分鐘數 ≈ 525,600 分。
                    <br><strong>允許停機時間</strong> = 525,600 × 0.00001 ≈ <strong>5.25 分鐘/年</strong>。
                    <br><strong>實際停機時間</strong> = 30 分/週 × 26 週 = <strong>780 分鐘</strong>。
                    <br><span class="text-red-600 font-bold">780 分鐘 ≫ 5.25 分鐘，嚴重違約。</span>
                </p>

                <div class="explain-subtitle"><i class="fa-solid fa-mug-hot text-blue-500"></i> 生活例子</div>
                <p class="text-sm text-gray-700">
                    想像你開了一間標榜「全能便利商店」，承諾全年無休（SLA 99.999%）。結果你每週日半夜都關門睡覺 30 分鐘，持續了半年。這時候你不能跟客人說「我還是符合全年無休」，因為你累積關門時間已經遠遠超過承諾的額度了。
                </p>
            </div>

            <!-- 第四步：選項分析 -->
            <div class="explain-block">
                <div class="explain-title">
                    <span class="topic-tag tag-mgm">第四步</span>
                    選項分析
                </div>
                <ul class="space-y-2 text-sm text-gray-700">
                    <li><span class="text-green-600 font-bold">(A) 正確</span>：因為拖了半年才發現，證明目前「眼睛瞎了」（缺乏監控）。加裝監控工具（如 Ping, HTTP Check, Port Check）是合理的補強措施。</li>
                    <li><span class="text-green-600 font-bold">(B) 正確</span>：Lcx.exe 是明確的惡意程式（IoC），代表家裡遭小偷了。必須通知主管並進行緊急風險處理（如隔離主機、保存證據）。</li>
                    <li><span class="text-red-600 font-bold">(C) 錯誤</span>：如上計算，780 分鐘遠大於 5 分鐘，絕對不符合 99.999%。</li>
                    <li><span class="text-green-600 font-bold">(D) 正確</span>：政府機關資安事件通報是法規義務（資通安全管理法），必須通報至 NCERT 等單位。</li>
                </ul>
            </div>

            <!-- 觀念補充與延伸 -->
            <div class="explain-block">
                <div class="explain-title">
                    <span class="topic-tag tag-law">補充</span>
                    觀念補充與延伸
                </div>
                <div class="explain-subtitle">法條或定義（白話）</div>
                <p class="text-sm text-gray-700 mb-2">
                    <strong>資安事件 (Security Incident)</strong>：系統被入侵、資料外洩或服務中斷。像本題的惡意程式植入就是典型的資安事件。<br>
                    <strong>SLA (服務層級協議)</strong>：白話就是「合約保證書」，保證服務要有多好（多快、多穩）。
                </p>
                <div class="explain-subtitle">觸類旁通（舉一反三）</div>
                <ul class="list-disc pl-5 text-sm text-gray-700">
                    <li><strong>變化題型</strong>：如果把 99.999% 改成 99.9%，允許停機時間變成約 8.76 小時（525 分鐘）。那每週停 30 分鐘半年累積 780 分鐘，<strong>依然不符合</strong>。</li>
                    <li><strong>對比概念</strong>：監控（發現問題） vs. 應變（解決問題） vs. 通報（告知長官）。這三者是並行的。</li>
                </ul>
            </div>

            <!-- 記憶口訣 -->
            <div class="explain-block">
                <div class="explain-title">
                    <span class="topic-tag tag-mgm">口訣</span>
                    記憶口訣
                </div>
                <div class="p-3 bg-yellow-50 rounded border border-yellow-200 text-center font-bold text-gray-800">
                    「五個九很嚴苛，一年只准五分多」
                </div>
                <p class="text-xs text-gray-500 text-center mt-1">SLA 99.999% ≈ 一年停機 5.25 分鐘</p>
            </div>

            <!-- 常見陷阱 -->
            <div class="explain-block">
                <div class="explain-title">
                    <span class="topic-tag tag-sec">陷阱</span>
                    常見陷阱
                </div>
                <ul class="list-disc pl-5 text-sm text-gray-700">
                    <li><strong>心理盲點</strong>：看到選項 (C) 寫「一年 365 天計算仍符合」，容易被文字引導，誤以為總時數很大所以 30 分鐘很小。<strong>避坑指南：只要看到 SLA 數字，請務必拿筆計算一下。</strong></li>
                    <li><strong>誤區</strong>：以為只要刪除 Lcx.exe 就好了。<strong>錯！</strong>必須先通報並保留證據，才能知道駭客還做了什麼壞事。</li>
                </ul>
            </div>

        </div>
    </details>

    <!-- SelfCheck -->
    <div class="card p-0 bg-transparent shadow-none mt-4">
        <details>
            <summary>
                <span><i class="fa-solid fa-clipboard-check mr-2"></i> 自我檢測</span>
            </summary>
            <div class="check-content space-y-4">
                <div>
                    <p class="font-bold mb-1 text-gray-800">Q1: 如果 SLA 是 99.9%（三個九），一年允許停機大約多久？</p>
                    <div class="text-sm text-gray-600 relative p-2 bg-gray-50 rounded border border-gray-200">
                        <span class="blur-reveal">
                            一年約 525,600 分鐘。0.1% 的不可用時間 ≈ 525.6 分鐘（約 8.76 小時）。
                        </span>
                        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-xs text-gray-400 pointer-events-none">
                            (游標移至此處查看答案)
                        </div>
                    </div>
                </div>
                
                <div>
                    <p class="font-bold mb-1 text-gray-800">Q2: 在 Web Root 發現惡意程式，第一步能不能直接刪除？為什麼？</p>
                    <div class="text-sm text-gray-600 relative p-2 bg-gray-50 rounded border border-gray-200">
                        <span class="blur-reveal">
                            不能。因為必須先保存證據（數位鑑識），以追查駭客如何進入、是否有留後門。直接刪除會破壞證據鏈。
                        </span>
                        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-xs text-gray-400 pointer-events-none">
                            (游標移至此處查看答案)
                        </div>
                    </div>
                </div>

                <div>
                    <p class="font-bold mb-1 text-gray-800">Q3: 「半年才發現」這句話，反映了資安管理循環中的哪一個環節缺失？</p>
                    <div class="text-sm text-gray-600 relative p-2 bg-gray-50 rounded border border-gray-200">
                        <span class="blur-reveal">
                            監控與偵測（Monitoring & Detection）。缺乏有效的日誌審查或自動化告警機制。
                        </span>
                        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-xs text-gray-400 pointer-events-none">
                            (游標移至此處查看答案)
                        </div>
                    </div>
                </div>
            </div>
        </details>
    </div>

</div>

<script>
    const correctAnswers = ['A', 'B', 'D'];
    const submitBtn = document.getElementById('submit-btn');
    const feedbackCard = document.getElementById('feedback-card');
    const feedbackContent = document.getElementById('feedback-content');
    const feedbackReason = document.getElementById('feedback-reason');
    const statusBadge = document.getElementById('status-badge');
    const explainSection = document.getElementById('explain-section');

    submitBtn.addEventListener('click', () => {
        // 取得使用者選擇
        const checkboxes = document.querySelectorAll('input[name="option"]:checked');
        const userAnswers = Array.from(checkboxes).map(cb => cb.value).sort();
        
        // 判定邏輯：複選題必須完全一致
        const isCorrect = JSON.stringify(userAnswers) === JSON.stringify(correctAnswers);

        // 顯示回饋區塊
        feedbackCard.classList.remove('hidden');
        
        // 設定回饋內容
        if (isCorrect) {
            feedbackContent.innerHTML = '<span class="text-green-600"><i class="fa-regular fa-circle-check"></i> 判定：正確</span>';
            feedbackReason.textContent = '觀念正確！SLA 計算、加強監控與落實通報應變是本題核心。';
            statusBadge.textContent = '答對';
            statusBadge.className = 'px-3 py-1 rounded text-sm font-bold bg-green-100 text-green-700';
        } else {
            feedbackContent.innerHTML = '<span class="text-red-600"><i class="fa-regular fa-circle-xmark"></i> 判定：錯誤</span>';
            feedbackReason.innerHTML = `正確答案：<strong>${correctAnswers.join('、')}</strong><br>理由：SLA 99.999% 一年僅允許約 5 分鐘停機，(C) 選項計算錯誤；且監控失效與入侵跡象需依規處置。`;
            statusBadge.textContent = '答錯';
            statusBadge.className = 'px-3 py-1 rounded text-sm font-bold bg-red-100 text-red-700';
        }

        // 自動展開詳解
        explainSection.open = true;

        // 滾動至回饋區
        feedbackCard.scrollIntoView({ behavior: 'smooth', block: 'center' });
    });
</script>

</body>
</html>