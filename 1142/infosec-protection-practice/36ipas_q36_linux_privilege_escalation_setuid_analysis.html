<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iPAS è³‡å®‰ã€é¡Œçµ„ 4-36ã€‘Linux æ¬Šé™æå‡åµå¯ŸæŒ‡ä»¤è§£æ</title>
    <style>
        :root {
            --primary-color: #2c3e50; /* å°ˆæ¥­æ·±è— */
            --accent-color: #3498db; /* äº®è— */
            --highlight-color: #e74c3c; /* é‡é»ç´… */
            --bg-color: #f8f9fa;
            --text-color: #333;
            --border-radius: 8px;
            --success-color: #27ae60;
            --warning-color: #f39c12;
            --card-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        body {
            font-family: 'Noto Sans TC', 'Microsoft JhengHei', Arial, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--bg-color);
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: var(--border-radius);
            box-shadow: var(--card-shadow);
        }

        /* Header & Progress */
        header {
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 15px;
            margin-bottom: 20px;
        }

        h1 {
            font-size: 1.5rem;
            color: var(--primary-color);
            margin: 0;
        }

        h2 {
            font-size: 1.2rem;
            color: var(--primary-color);
            margin-top: 25px;
            border-left: 5px solid var(--accent-color);
            padding-left: 10px;
        }

        .subtitle {
            font-size: 0.9rem;
            color: #666;
            margin-top: 5px;
        }

        .progress-container {
            width: 100%;
            background-color: #e0e0e0;
            border-radius: 10px;
            margin-top: 15px;
            height: 10px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            width: 0%;
            background-color: var(--success-color);
            transition: width 0.5s ease;
        }

        .progress-text {
            font-size: 0.8rem;
            text-align: right;
            margin-top: 2px;
            color: #666;
        }

        /* Scenario Box */
        .scenario-box {
            background-color: #e8f4f8;
            border: 1px solid #b3d7ff;
            padding: 20px;
            border-radius: var(--border-radius);
            margin-bottom: 25px;
        }

        .code-block {
            background-color: #2d2d2d;
            color: #f8f8f2;
            padding: 10px 15px;
            font-family: 'Courier New', monospace;
            border-radius: 4px;
            overflow-x: auto;
            margin: 10px 0;
        }

        .scenario-img {
            max-width: 100%;
            height: auto;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-top: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        /* Quiz Section */
        .quiz-section {
            border: 1px solid #ddd;
            padding: 20px;
            border-radius: var(--border-radius);
            background-color: #fff;
        }

        .question-text {
            font-weight: bold;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .checkbox-label {
            display: flex;
            align-items: flex-start;
            cursor: pointer;
            padding: 10px;
            border: 1px solid #eee;
            border-radius: 4px;
            transition: background-color 0.2s;
        }

        .checkbox-label:hover {
            background-color: #f5f5f5;
        }

        .checkbox-label input {
            margin-top: 5px;
            margin-right: 10px;
            transform: scale(1.2);
        }

        .btn-group {
            margin-top: 20px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        button {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            transition: opacity 0.2s;
        }

        button:hover {
            opacity: 0.9;
        }

        .btn-submit { background-color: var(--primary-color); color: white; }
        .btn-answer { background-color: var(--warning-color); color: white; }
        .btn-reset { background-color: #95a5a6; color: white; }
        .btn-toggle { background-color: var(--accent-color); color: white; font-size: 0.9rem; padding: 5px 10px;}

        .feedback-area {
            margin-top: 15px;
            padding: 15px;
            border-radius: 4px;
            display: none;
            font-weight: bold;
        }

        .feedback-correct { background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .feedback-partial { background-color: #fff3cd; color: #856404; border: 1px solid #ffeeba; }
        .feedback-wrong { background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }

        /* Accordion */
        .accordion {
            background-color: #f1f1f1;
            color: #444;
            cursor: pointer;
            padding: 18px;
            width: 100%;
            text-align: left;
            border: none;
            outline: none;
            transition: 0.4s;
            font-size: 1.1rem;
            font-weight: bold;
            margin-top: 10px;
            border-radius: 4px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .accordion:after {
            content: '\002B'; /* Plus sign */
            font-size: 1.5rem;
            color: #777;
            float: right;
        }

        .active:after {
            content: "\2212"; /* Minus sign */
        }

        .accordion.active, .accordion:hover {
            background-color: #ddd;
        }

        .panel {
            padding: 0 18px;
            background-color: white;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
            border-left: 3px solid var(--accent-color);
        }

        .panel-content {
            padding: 15px 0;
        }

        .highlight {
            background-color: #fff3cd;
            padding: 2px 4px;
            border-radius: 2px;
            font-weight: bold;
        }

        .term {
            font-weight: bold;
            color: var(--primary-color);
        }

        /* Self Check */
        .self-check-item {
            margin-bottom: 20px;
            border-bottom: 1px dashed #ccc;
            padding-bottom: 10px;
        }

        .self-check-answer {
            margin-top: 10px;
            color: var(--success-color);
            display: none;
            font-weight: bold;
        }

        @media (max-width: 600px) {
            .container { padding: 15px; }
            h1 { font-size: 1.3rem; }
            .btn-group { flex-direction: column; }
            button { width: 100%; }
        }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>iPAS è³‡å®‰ã€é¡Œçµ„ 4ã€‘ç¬¬ 36 é¡Œè§£æ</h1>
        <div class="subtitle">ä¸»é¡Œï¼šLinux æ¬Šé™æå‡åµå¯ŸæŒ‡ä»¤åˆ¤æ–· (Privilege Escalation)</div>
        <div class="progress-text">å­¸ç¿’é€²åº¦ï¼š<span id="progress-percent">0%</span></div>
        <div class="progress-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>
    </header>

    <!-- é¡Œç›®æƒ…å¢ƒ -->
    <div class="scenario-box">
        <h3>ã€é¡Œçµ„æƒ…å¢ƒã€‘</h3>
        <p>ä½ æ˜¯ä¼æ¥­è—éšŠï¼ˆé˜²ç¦¦æ–¹ï¼‰äººå“¡ï¼Œæ­£åœ¨èª¿æŸ¥ä¸€å°ç–‘ä¼¼é­åˆ°æŒ‡ä»¤æ³¨å…¥æ”»æ“Šçš„ä¼ºæœå™¨ã€‚</p>
        <p>ç¶“æ¸¬è©¦ï¼Œè¼¸å…¥ <code>127.0.0.1; whoami</code> å¾Œï¼Œå›å‚³çµæœç‚º <strong>www-data</strong>ï¼ˆä»£è¡¨é€™æ˜¯ Web æœå‹™å¸³è™Ÿï¼Œé€šå¸¸æ¬Šé™è¼ƒä½ï¼‰ã€‚</p>
        <p>åŒæ™‚ï¼Œä½ åœ¨ä½œæ¥­ç³»çµ±æŒ‡ä»¤æ—¥èªŒï¼ˆCommand Logï¼‰ä¸­ç™¼ç¾æ”»æ“Šè€…åŸ·è¡Œäº†ä»¥ä¸‹æŒ‡ä»¤ï¼š</p>
        <div class="code-block">find / -perm -u=s -type f 2>/dev/null</div>
        <p>æ­¤è¡Œç‚ºé¡¯ç¤ºæ”»æ“Šè€…æ­£åœ¨é€²è¡Œæ¬Šé™æå‡å‰çš„åµå¯Ÿã€‚</p>
        <img src="https://i.meee.com.tw/zmoyb9O.jpg" alt="æ—¥èªŒæˆªåœ–" class="scenario-img">
    </div>

    <!-- äº’å‹•ç­”é¡Œå€ -->
    <div class="quiz-section">
        <div class="question-text">
            <span style="background-color: var(--primary-color); color: white; padding: 2px 6px; border-radius: 4px; font-size: 0.8rem;">è¤‡é¸é¡Œ</span>
            <br><br>
            é¡Œç›®ï¼šè«‹å•æ”»æ“Šè€…åŸ·è¡Œé€™å€‹æŒ‡ä»¤ã€Œfind / -perm -u=s -type f 2>/dev/nullã€<br>
            <span style="color: var(--highlight-color);">æœ€ä¸å¯èƒ½</span>åšä¸‹åˆ—å“ªäº›æ”»æ“Šè¡Œç‚ºï¼Ÿï¼ˆè«‹é¸æ“‡æœ€åˆé©çš„é¸é …ï¼‰
        </div>
        
        <form id="quiz-form">
            <div class="checkbox-group">
                <label class="checkbox-label">
                    <input type="checkbox" name="option" value="A">
                    (A) å°‹æ‰¾æœ‰è¢«è¨­å®š setuid çš„æª”æ¡ˆï¼Œå¾ŒçºŒå¯å˜—è©¦ç”¨è©²æª”æ¡ˆä¾†æŠŠç•¶å‰èº«åˆ†æå‡æˆç‚º root æ¬Šé™
                </label>
                <label class="checkbox-label">
                    <input type="checkbox" name="option" value="B">
                    (B) å°‹æ‰¾æœ‰è¢«è¨­å®š setgid çš„æª”æ¡ˆï¼Œå¾ŒçºŒå¯å˜—è©¦ç”¨è©²æª”æ¡ˆä¾†æŠŠç•¶å‰èº«åˆ†æå‡æˆç‚º root æ¬Šé™
                </label>
                <label class="checkbox-label">
                    <input type="checkbox" name="option" value="C">
                    (C) å°‹æ‰¾æœ‰è¢«è¨­å®š sticky bit çš„ç›®éŒ„ï¼Œå¾ŒçºŒå¯å˜—è©¦ç”¨è©²ç›®éŒ„è£¡é¢çš„æª”æ¡ˆä¾†æå‡æˆç‚º root æ¬Šé™
                </label>
                <label class="checkbox-label">
                    <input type="checkbox" name="option" value="D">
                    (D) å°‹æ‰¾æœ‰è¢«è¨­å®šç‚º root:root çš„æª”æ¡ˆèˆ‡ç›®éŒ„ï¼Œç¢ºèªæ©Ÿæ•è³‡æ–™åœ¨å“ªäº›åœ°æ–¹
                </label>
            </div>
        </form>

        <div class="btn-group">
            <button type="button" class="btn-submit" onclick="checkAnswer()">é€å‡ºä½œç­”</button>
            <button type="button" class="btn-answer" onclick="showAnswer()">é¡¯ç¤ºæ­£è§£</button>
            <button type="button" class="btn-reset" onclick="resetQuiz()">é‡è¨­</button>
        </div>

        <div id="feedback" class="feedback-area"></div>
    </div>

    <!-- è§£æå€å¡Š (Accordion) -->
    <h2>å®Œæ•´è§£æ</h2>
    <p>é»æ“Šä¸‹æ–¹æ¨™é¡Œå±•é–‹è©³ç´°èªªæ˜ï¼š</p>

    <button class="accordion">ç¬¬ä¸€æ­¥ï¼šæ‰¾é—œéµå­—</button>
    <div class="panel">
        <div class="panel-content">
            <ul>
                <li><span class="term">www-data</span>ï¼šWeb æœå‹™é è¨­ä½¿ç”¨çš„å¸³è™Ÿï¼Œé€šå¸¸æ¬Šé™å—é™ï¼Œç„¡æ³•å­˜å–æ ¸å¿ƒç³»çµ±æª”ã€‚</li>
                <li><span class="term">find</span>ï¼šLinux ç³»çµ±ä¸­ç”¨ä¾†æœå°‹æª”æ¡ˆçš„æŒ‡ä»¤ã€‚</li>
                <li><span class="term">-perm -u=s</span>ï¼šé€™æ˜¯æœ¬é¡Œæ ¸å¿ƒã€‚<code>-perm</code> ä»£è¡¨æœå°‹æ¬Šé™ï¼ˆPermissionï¼‰ï¼Œ<code>-u=s</code> ä»£è¡¨æœå°‹è¨­å®šäº† <strong>setuid</strong> çš„æª”æ¡ˆã€‚</li>
                <li><span class="term">setuid</span>ï¼šå…¨å Set User IDã€‚ç•¶ä¸€å€‹åŸ·è¡Œæª”è¨­å®šäº†æ­¤æ¬Šé™ï¼Œä»»ä½•äººåŸ·è¡Œè©²æª”æ¡ˆæ™‚ï¼Œéƒ½æœƒæš«æ™‚ç²å¾—ã€Œè©²æª”æ¡ˆæ“æœ‰è€…ï¼ˆé€šå¸¸æ˜¯ rootï¼‰ã€çš„æ¬Šé™ã€‚</li>
                <li><span class="term">2>/dev/null</span>ï¼šæŠŠéŒ¯èª¤è¨Šæ¯ï¼ˆå¦‚ã€Œæ¬Šé™ä¸è¶³ã€ï¼‰ä¸Ÿæ‰ä¸çœ‹ï¼Œè®“è¼¸å‡ºç•«é¢æ¯”è¼ƒä¹¾æ·¨ã€‚</li>
            </ul>
        </div>
    </div>

    <button class="accordion">ç¬¬äºŒæ­¥ï¼šç™½è©±ç¿»è­¯</button>
    <div class="panel">
        <div class="panel-content">
            <p>æ”»æ“Šè€…ç™¼ç¾è‡ªå·±ç¾åœ¨çš„èº«åˆ†åªæ˜¯å€‹æ¬Šé™å¾ˆä½çš„ç¶²é æœå‹™å“¡ï¼ˆwww-dataï¼‰ã€‚</p>
            <p>æ‰€ä»¥ä»–åŸ·è¡Œé€™å€‹æŒ‡ä»¤çš„æ„æ€æ˜¯ï¼š<br>
            <strong>ã€Œç³»çµ±è«‹å¹«æˆ‘å¾æ ¹ç›®éŒ„ï¼ˆ/ï¼‰é–‹å§‹æ‰¾ï¼Œæœ‰å“ªäº›æª”æ¡ˆæ˜¯è¨­å®šäº† setuid ç‰¹æ¬Šçš„ï¼Ÿé †ä¾¿æŠŠé‚£äº›æˆ‘ä¸èƒ½è®€å–çš„éŒ¯èª¤è¨Šæ¯éƒ½éš±è—èµ·ä¾†ã€‚ã€</strong></p>
            <p>å¦‚æœæ‰¾åˆ°é€™é¡æª”æ¡ˆï¼ˆä¾‹å¦‚å¤è€çš„ vim ç‰ˆæœ¬æˆ–è¨­å®šéŒ¯èª¤çš„ç¨‹å¼ï¼‰ï¼Œæ”»æ“Šè€…å°±æœ‰æ©Ÿæœƒåˆ©ç”¨å®ƒï¼Œè®“è‡ªå·±ç¬é–“è®Šèº«æˆæœ€é«˜ç®¡ç†å“¡ï¼ˆrootï¼‰ã€‚</p>
        </div>
    </div>

    <button class="accordion">ç¬¬ä¸‰æ­¥ï¼šè§£é¡Œæ€è·¯èˆ‡é¸é …åˆ†æ</button>
    <div class="panel">
        <div class="panel-content">
            <p><strong>é€™é¡Œåœ¨è€ƒä»€éº¼ï¼Ÿ</strong><br>
            ä½ éœ€è¦è¾¨è­˜ <code>-u=s</code> é€™å€‹åƒæ•¸åªèƒ½æ‰¾åˆ° setuid æª”æ¡ˆï¼Œç„¡æ³•æ‰¾åˆ° setgid æˆ– sticky bitã€‚</p>
            
            <p><strong>é¡Œç›®å•çš„æ˜¯ã€Œæœ€ä¸å¯èƒ½åšå“ªäº›è¡Œç‚ºã€ï¼Œæ‰€ä»¥æˆ‘å€‘è¦é¸å‡ºã€ŒæŒ‡ä»¤åŠŸèƒ½ä»¥å¤–ã€çš„é¸é …ã€‚</strong></p>

            <hr>
            
            <p><span class="highlight">(A) å°‹æ‰¾ setuid æª”æ¡ˆ...ï¼ˆé€™æ˜¯æŒ‡ä»¤åŸæœ¬çš„åŠŸèƒ½ï¼‰</span><br>
            åˆ†æï¼šæŒ‡ä»¤ä¸­æœ‰ <code>-u=s</code>ï¼Œé€™æ­£æ˜¯ç‚ºäº†æ‰¾ setuidã€‚é€™æ˜¯æ”»æ“Šè€…æœ€å¯èƒ½çš„ç›®çš„ï¼Œæ‰€ä»¥<strong>ä¸é¸</strong>ã€‚</p>

            <p><span class="highlight">(B) å°‹æ‰¾ setgid æª”æ¡ˆ...ï¼ˆæœ€ä¸å¯èƒ½ï¼‰</span><br>
            åˆ†æï¼šè¦æ‰¾ setgid éœ€è¦ä½¿ç”¨ <code>-g=s</code> åƒæ•¸ã€‚ç›®å‰çš„æŒ‡ä»¤æ‰¾ä¸åˆ° setgid æª”æ¡ˆã€‚æ‰€ä»¥é€™æ˜¯æ­£ç¢ºç­”æ¡ˆä¹‹ä¸€ï¼ˆé¸ï¼‰ã€‚</p>

            <p><span class="highlight">(C) å°‹æ‰¾ sticky bit ç›®éŒ„...ï¼ˆæœ€ä¸å¯èƒ½ï¼‰</span><br>
            åˆ†æï¼šSticky bitï¼ˆé»æ»¯ä½ï¼Œå¸¸ç”¨æ–¼ /tmpï¼‰çš„åƒæ•¸æ˜¯ <code>+t</code> æˆ–æ•¸å€¼ 1000ã€‚ç›®å‰çš„æŒ‡ä»¤æ‰¾ä¸åˆ°é€™é¡ç›®éŒ„ã€‚æ‰€ä»¥é€™æ˜¯æ­£ç¢ºç­”æ¡ˆä¹‹ä¸€ï¼ˆé¸ï¼‰ã€‚</p>

            <p><span class="highlight">(D) å°‹æ‰¾ root:root çš„æª”æ¡ˆ...ï¼ˆæœ€ä¸å¯èƒ½ï¼‰</span><br>
            åˆ†æï¼šé›–ç„¶ setuid æª”æ¡ˆé€šå¸¸å±¬æ–¼ rootï¼Œä½†è©²æŒ‡ä»¤æ˜¯é‡å°ã€Œæ¬Šé™ä½å…ƒï¼ˆs bitï¼‰ã€æœå°‹ï¼Œè€Œä¸æ˜¯é‡å°ã€Œæ“æœ‰è€…ï¼ˆownerï¼‰ã€æœå°‹ï¼ˆé‚£è¦ç”¨ <code>-user root</code>ï¼‰ã€‚ä¸”æ‰¾ root æª”æ¡ˆä¸ä¸€å®šèƒ½ææ¬Šã€‚æ‰€ä»¥é€™ä¹Ÿä¸æ˜¯è©²æŒ‡ä»¤æœ€ç›´æ¥çš„ç›®çš„ã€‚é€™æ˜¯æ­£ç¢ºç­”æ¡ˆä¹‹ä¸€ï¼ˆé¸ï¼‰ã€‚</p>
        </div>
    </div>

    <button class="accordion">è§€å¿µè£œå……èˆ‡è¨˜æ†¶å£è¨£</button>
    <div class="panel">
        <div class="panel-content">
            <h4>è§€å¿µå°ç…§è¡¨</h4>
            <table border="1" style="width:100%; border-collapse: collapse; margin-bottom: 15px;">
                <tr style="background-color: #eee;">
                    <th>åç¨±</th>
                    <th>æŒ‡ä»¤åƒæ•¸</th>
                    <th>åŠŸèƒ½ç™½è©±æ–‡</th>
                </tr>
                <tr>
                    <td><strong>SUID (Set UID)</strong></td>
                    <td><code>-u=s</code> æˆ– 4000</td>
                    <td>åŸ·è¡Œæ™‚è®Šèº«ç‚ºã€Œæª”æ¡ˆä¸»äººã€ã€‚<br>ï¼ˆå°±åƒæ‹¿äº†å°šæ–¹å¯¶åŠï¼‰</td>
                </tr>
                <tr>
                    <td><strong>SGID (Set GID)</strong></td>
                    <td><code>-g=s</code> æˆ– 2000</td>
                    <td>åŸ·è¡Œæ™‚è®Šèº«ç‚ºã€Œæª”æ¡ˆç¾¤çµ„æˆå“¡ã€ã€‚<br>ï¼ˆç›®éŒ„å…±ç”¨å”ä½œå¸¸ç”¨ï¼‰</td>
                </tr>
                <tr>
                    <td><strong>Sticky Bit</strong></td>
                    <td><code>+t</code> æˆ– 1000</td>
                    <td>åªå…è¨±æª”æ¡ˆä¸»äººåˆªé™¤æª”æ¡ˆã€‚<br>ï¼ˆé˜²åˆªä¿è­·ï¼Œå¸¸ç”¨åœ¨ /tmpï¼‰</td>
                </tr>
            </table>

            <h4>è¨˜æ†¶å£è¨£</h4>
            <ul>
                <li><strong>ã€Œ-u æ˜¯ Userï¼Œs æ˜¯ Setï¼Œåˆèµ·ä¾†å°±æ˜¯ setuidã€</strong></li>
                <li><strong>ã€Œé¡Œç›®å•ã€ä¸å¯èƒ½ã€ï¼Œæ‰€ä»¥è¦æŠŠã€è·Ÿ setuid ç„¡é—œã€çš„éƒ½å‹¾èµ·ä¾†ï¼ã€</strong></li>
            </ul>

            <h4>å¸¸è¦‹é™·é˜±</h4>
            <p>æœ‰äº›åŒå­¸çœ‹åˆ° "root" å°±è¦ºå¾—å¾ˆå±éšªï¼Œä»¥ç‚º (D) æ˜¯å°çš„æ”»æ“Šè¡Œç‚ºã€‚ä½†é¡Œç›®å•çš„æ˜¯ã€Œè©²ç‰¹å®šæŒ‡ä»¤ã€çš„åŠŸèƒ½ã€‚è©²æŒ‡ä»¤ä¸¦æ²’æœ‰æŒ‡å®š <code>-user root</code>ï¼Œæ‰€ä»¥ä¸èƒ½é¸ (D) ä½œç‚ºè©²æŒ‡ä»¤çš„ç›´æ¥ç”¨é€”ã€‚</p>
        </div>
    </div>

    <button class="accordion">è‡ªæˆ‘æª¢æ¸¬ (æŒ‰éˆ•é¡¯ç¤ºç­”æ¡ˆ)</button>
    <div class="panel">
        <div class="panel-content">
            <div class="self-check-item">
                <p><strong>Q1. å¦‚æœæŒ‡ä»¤æ”¹æˆ <code>find / -perm -g=s</code>ï¼Œæœ€å¯èƒ½åœ¨æ‰¾ä»€éº¼ï¼Ÿ</strong></p>
                <button class="btn-toggle" onclick="toggleSelfCheck(1)">çœ‹ç­”æ¡ˆ</button>
                <div id="self-ans-1" class="self-check-answer">A1. å°‹æ‰¾è¢«è¨­å®š setgid (Set Group ID) çš„æª”æ¡ˆã€‚</div>
            </div>

            <div class="self-check-item">
                <p><strong>Q2. ç‚ºä»€éº¼ setuid æª”æ¡ˆæ˜¯é§­å®¢çš„æœ€æ„›ï¼Ÿ</strong></p>
                <button class="btn-toggle" onclick="toggleSelfCheck(2)">çœ‹ç­”æ¡ˆ</button>
                <div id="self-ans-2" class="self-check-answer">A2. å› ç‚ºå¦‚æœè©²ç¨‹å¼æœ‰æ¼æ´ï¼Œé§­å®¢å°±èƒ½åˆ©ç”¨åŸ·è¡Œæ™‚çš„ root æ¬Šé™ï¼Œçªç ´åŸæœ¬ www-data çš„é™åˆ¶ï¼Œå–å¾—ç³»çµ±æ§åˆ¶æ¬Šã€‚</div>
            </div>

            <div class="self-check-item">
                <p><strong>Q3. é˜²ç¦¦ç«¯å¦‚ä½•é™ä½ setuid é¢¨éšªï¼Ÿ</strong></p>
                <button class="btn-toggle" onclick="toggleSelfCheck(3)">çœ‹ç­”æ¡ˆ</button>
                <div id="self-ans-3" class="self-check-answer">A3. (1) å®šæœŸæƒæä¸å¿…è¦çš„ setuid æª”æ¡ˆä¸¦ç§»é™¤æ¬Šé™ï¼›(2) æ›è¼‰åˆ†å‰²å€æ™‚ä½¿ç”¨ nosuid åƒæ•¸ï¼ˆä¾‹å¦‚ /tmp æˆ– /homeï¼‰ã€‚</div>
            </div>
        </div>
    </div>

</div>

<script>
    // å­¸ç¿’é€²åº¦ç‹€æ…‹
    const state = {
        quizDone: false,
        accordionOpened: false,
        selfCheckDone: false
    };

    // æ­£ç¢ºç­”æ¡ˆ (è¤‡é¸)
    const correctAnswers = ['B', 'C', 'D'];

    function updateProgress() {
        let completed = 0;
        if (state.quizDone) completed++;
        if (state.accordionOpened) completed++;
        if (state.selfCheckDone) completed++;

        const percent = Math.floor((completed / 3) * 100);
        document.getElementById('progress-bar').style.width = percent + '%';
        document.getElementById('progress-percent').innerText = percent + '%';
    }

    function checkAnswer() {
        const checkboxes = document.querySelectorAll('input[name="option"]:checked');
        const userAnswers = Array.from(checkboxes).map(cb => cb.value).sort();
        const feedback = document.getElementById('feedback');
        
        feedback.style.display = 'block';
        feedback.className = 'feedback-area'; // é‡ç½® class

        // åˆ¤æ–·é‚è¼¯
        if (userAnswers.length === 0) {
            feedback.textContent = 'âš ï¸ è«‹å…ˆé¸æ“‡è‡³å°‘ä¸€å€‹é¸é …ã€‚';
            feedback.classList.add('feedback-wrong');
            return;
        }

        // æª¢æŸ¥æ˜¯å¦åŒ…å«éŒ¯èª¤é¸é … (A)
        const hasA = userAnswers.includes('A');
        
        // æª¢æŸ¥æ˜¯å¦å®Œå…¨åŒ¹é…
        const isExactMatch = JSON.stringify(userAnswers) === JSON.stringify(correctAnswers);

        if (isExactMatch) {
            feedback.textContent = 'ğŸ‰ åˆ¤æ–·æ­£ç¢ºï¼(B)(C)(D) éƒ½èˆ‡è©²æŒ‡ä»¤ (æ‰¾ setuid) ç„¡é—œï¼Œæ•…ç‚ºæœ€ä¸å¯èƒ½çš„è¡Œç‚ºã€‚';
            feedback.classList.add('feedback-correct');
            state.quizDone = true;
            updateProgress();
        } else if (hasA) {
            feedback.innerHTML = 'âŒ è§€å¿µéŒ¯èª¤ï¼šä½ é¸äº† (A)ã€‚<br>æŒ‡ä»¤ä¸­æœ‰ <code>-u=s</code>ï¼Œé€™æ­£æ˜¯ç”¨ä¾†æ‰¾ setuid æª”æ¡ˆçš„ï¼Œæ‰€ä»¥ (A) æ˜¯æœ€ã€Œå¯èƒ½ã€çš„è¡Œç‚ºï¼Œä¸è©²è¢«é¸ä¸­ã€‚';
            feedback.classList.add('feedback-wrong');
        } else {
            // æ²’æœ‰é¸ Aï¼Œä½†æ²’é¸å…¨ B, C, D (ä¾‹å¦‚åªé¸äº† B)
            feedback.textContent = 'âš ï¸ éƒ¨åˆ†æ­£ç¢ºï¼šä½ é¿é–‹äº† (A) æ˜¯å°çš„ï¼Œä½†é‚„æœ‰å…¶ä»–é¸é …ä¹Ÿæ˜¯è©²æŒ‡ä»¤åšä¸åˆ°çš„è¡Œç‚ºï¼Œè«‹å†æª¢æŸ¥æ˜¯å¦æœ‰æ¼é¸ã€‚';
            feedback.classList.add('feedback-partial');
        }
    }

    function showAnswer() {
        const feedback = document.getElementById('feedback');
        feedback.style.display = 'block';
        feedback.className = 'feedback-area feedback-correct';
        feedback.innerHTML = '<strong>æ­£ç¢ºç­”æ¡ˆï¼š(B)ã€(C)ã€(D)</strong><br>ç†ç”±ï¼šé¡Œç›®å•ã€Œæœ€ä¸å¯èƒ½ã€ã€‚è©²æŒ‡ä»¤åªé‡å° setuid (-u=s)ï¼Œèˆ‡ setgid (-g=s)ã€Sticky bit (+t) æˆ– root æ“æœ‰è€…ç„¡ç›´æ¥é—œè¯ã€‚';
        
        // è‡ªå‹•å‹¾é¸æ­£ç¢ºç­”æ¡ˆ
        const checkboxes = document.querySelectorAll('input[name="option"]');
        checkboxes.forEach(cb => {
            cb.checked = correctAnswers.includes(cb.value);
        });
        
        state.quizDone = true;
        updateProgress();
    }

    function resetQuiz() {
        const checkboxes = document.querySelectorAll('input[name="option"]');
        checkboxes.forEach(cb => cb.checked = false);
        document.getElementById('feedback').style.display = 'none';
    }

    function toggleSelfCheck(id) {
        const ans = document.getElementById('self-ans-' + id);
        if (ans.style.display === 'block') {
            ans.style.display = 'none';
        } else {
            ans.style.display = 'block';
            state.selfCheckDone = true;
            updateProgress();
        }
    }

    // Accordion åŠŸèƒ½
    const accordions = document.getElementsByClassName("accordion");
    for (let i = 0; i < accordions.length; i++) {
        accordions[i].addEventListener("click", function() {
            this.classList.toggle("active");
            const panel = this.nextElementSibling;
            if (panel.style.maxHeight) {
                panel.style.maxHeight = null;
            } else {
                panel.style.maxHeight = panel.scrollHeight + "px";
                state.accordionOpened = true;
                updateProgress();
            } 
        });
    }
</script>

</body>
</html>