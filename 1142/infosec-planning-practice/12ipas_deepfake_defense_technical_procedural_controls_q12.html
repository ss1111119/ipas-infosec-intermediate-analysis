<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>iPAS è³‡å®‰é‡é»è¡åˆº - Deepfake ç¶œåˆé˜²ç¦¦ (Q12)</title>
<style>
    :root {
        --primary: #2563eb;
        --primary-dark: #1d4ed8;
        --success: #16a34a;
        --danger: #dc2626;
        --warning: #d97706;
        --bg-color: #f8fafc;
        --card-bg: #ffffff;
        --text-main: #1e293b;
        --text-muted: #64748b;
        --border: #e2e8f0;
    }

    * { box-sizing: border-box; }
    
    body {
        font-family: "Microsoft JhengHei", "Heiti TC", sans-serif;
        background-color: var(--bg-color);
        color: var(--text-main);
        line-height: 1.6;
        margin: 0;
        padding: 20px;
    }

    .container {
        max-width: 800px;
        margin: 0 auto;
    }

    /* Header Styles */
    header {
        background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
        color: white;
        padding: 24px;
        border-radius: 12px 12px 0 0;
        border-bottom: 4px solid var(--primary);
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    }

    h1 { margin: 0; font-size: 1.5rem; display: flex; align-items: center; gap: 10px; }
    .subtitle { color: #94a3b8; font-size: 0.9rem; margin-top: 5px; }
    .badge {
        background-color: var(--primary);
        color: white;
        padding: 2px 8px;
        border-radius: 4px;
        font-size: 0.8rem;
        vertical-align: middle;
    }

    /* Card Styles */
    .card {
        background: var(--card-bg);
        border-radius: 0 0 12px 12px;
        padding: 30px;
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.05);
        margin-bottom: 25px;
        border: 1px solid var(--border);
        border-top: none;
    }

    .question-box {
        font-size: 1.15rem;
        font-weight: bold;
        margin-bottom: 20px;
        padding-left: 15px;
        border-left: 4px solid var(--primary);
    }

    /* Option Styles */
    .options-group { display: flex; flex-direction: column; gap: 12px; }
    
    .option-item {
        display: flex;
        align-items: flex-start;
        padding: 12px 16px;
        border: 2px solid var(--border);
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.2s;
    }

    .option-item:hover { background-color: #f1f5f9; }
    
    /* Hide default checkbox but keep functionality */
    input[type="checkbox"] {
        accent-color: var(--primary);
        width: 20px;
        height: 20px;
        margin-right: 12px;
        margin-top: 4px;
        cursor: pointer;
    }

    /* State Classes for Feedback */
    .correct-highlight { border-color: var(--success); background-color: #f0fdf4; }
    .wrong-highlight { border-color: var(--danger); background-color: #fef2f2; }
    .missed-highlight { border-color: var(--warning); background-color: #fffbeb; border-style: dashed; }

    /* Buttons */
    .btn-group { margin-top: 25px; display: flex; gap: 15px; }
    
    .btn {
        padding: 12px 24px;
        border: none;
        border-radius: 6px;
        font-weight: bold;
        cursor: pointer;
        font-size: 1rem;
        transition: background 0.2s;
    }

    .btn-primary { background-color: var(--primary); color: white; }
    .btn-primary:hover { background-color: var(--primary-dark); }
    
    .btn-reset { background-color: #cbd5e1; color: #334155; }
    .btn-reset:hover { background-color: #94a3b8; }

    /* Result Area */
    .result-area {
        margin-top: 25px;
        padding: 15px;
        border-radius: 8px;
        display: none; /* Hidden by default */
    }
    
    .result-success { background-color: #dcfce7; color: #166534; border: 1px solid #86efac; }
    .result-error { background-color: #fee2e2; color: #991b1b; border: 1px solid #fca5a5; }

    /* Analysis Sections */
    .analysis-section { display: none; margin-top: 30px; animation: fadeIn 0.5s; }
    
    .section-title {
        font-size: 1.2rem;
        color: var(--text-main);
        border-bottom: 2px solid #e2e8f0;
        padding-bottom: 8px;
        margin-bottom: 15px;
        margin-top: 30px;
        font-weight: bold;
    }

    .accordion-item {
        border: 1px solid var(--border);
        border-radius: 6px;
        margin-bottom: 10px;
        overflow: hidden;
    }

    .accordion-header {
        background-color: #f8fafc;
        padding: 12px 15px;
        cursor: pointer;
        font-weight: bold;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    
    .accordion-header:hover { background-color: #f1f5f9; }

    .accordion-content {
        padding: 15px;
        background-color: white;
        border-top: 1px solid var(--border);
        display: none; /* JS toggles this */
        font-size: 0.95rem;
    }

    .tag { font-size: 0.75rem; padding: 2px 6px; border-radius: 4px; margin-right: 8px; font-weight: bold; }
    .tag-tech { background-color: #dbeafe; color: #1e40af; }
    .tag-proc { background-color: #fce7f3; color: #9d174d; }
    .tag-trap { background-color: #fee2e2; color: #991b1b; }

    /* Educational Blocks */
    .concept-box {
        background-color: #eff6ff;
        border-left: 4px solid var(--primary);
        padding: 15px;
        margin-bottom: 15px;
        border-radius: 0 4px 4px 0;
    }

    .trap-box {
        background-color: #fff7ed;
        border-left: 4px solid var(--warning);
        padding: 15px;
        margin-bottom: 15px;
    }
    
    .mnemonic-box {
        background-color: #f0fdf4;
        border: 2px dashed var(--success);
        padding: 20px;
        text-align: center;
        border-radius: 8px;
        margin: 20px 0;
    }

    .mnemonic-text { font-size: 1.5rem; font-weight: bold; color: var(--success); letter-spacing: 2px; }

    /* Self Check */
    .self-check-card {
        background: white;
        border: 1px solid var(--border);
        padding: 15px;
        border-radius: 8px;
        margin-bottom: 10px;
    }
    
    .hint-btn {
        font-size: 0.8rem;
        color: var(--primary);
        background: none;
        border: none;
        cursor: pointer;
        text-decoration: underline;
        padding: 0;
    }
    
    .answer-reveal { display: none; margin-top: 8px; color: var(--success); font-weight: bold; }

    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }

    /* Print Optimization */
    @media print {
        .btn-group, .hint-btn { display: none; }
        .accordion-content { display: block !important; }
        .analysis-section { display: block !important; }
        body { background-color: white; }
        .container { max-width: 100%; box-shadow: none; }
    }
</style>
</head>
<body>

<div class="container">
    <header>
        <h1><span class="badge">iPAS è³‡å®‰ç®¡ç†å¸«</span> è€ƒé¡Œæ¨¡æ“¬æ•™å®¤</h1>
        <div class="subtitle">å–®å…ƒï¼šæ–°èˆˆç§‘æŠ€é¢¨éšªèˆ‡é˜²ç¦¦ (Q12)</div>
    </header>

    <div class="card">
        <!-- Question Section -->
        <div class="question-box">
            <span style="color:var(--primary);">[è¤‡é¸é¡Œ]</span> 
            ç‚ºäº†é˜²ç¦¦æ—¥ç›Šé€¼çœŸçš„æ·±åº¦å½é€ ï¼ˆDeepfakeï¼‰æ”»æ“Šï¼Œçµ„ç¹”æ‡‰æ¡å–çµåˆæŠ€è¡“èˆ‡ç¨‹åºçš„ç¶œåˆæ€§é˜²ç¦¦ç­–ç•¥ã€‚ä¸‹åˆ—å“ªäº›æªæ–½å±¬æ–¼æ­¤é¡ç­–ç•¥ï¼Ÿ
        </div>

        <div class="options-group" id="quizForm">
            <label class="option-item" id="label-A">
                <input type="checkbox" name="option" value="A">
                <span>(A) æ¡ç”¨å…·å‚™æ´»é«”åµæ¸¬ï¼ˆLiveness Detectionï¼‰åŠŸèƒ½çš„ç”Ÿç‰©è¾¨è­˜ç³»çµ±</span>
            </label>
            
            <label class="option-item" id="label-B">
                <input type="checkbox" name="option" value="B">
                <span>(B) å»ºç«‹ä¸€å€‹ç¨ç«‹çš„ã€é«˜å¯ä¿¡åº¦çš„é€šè¨Šç®¡é“ï¼ˆå¦‚ç·Šæ€¥ç°¡è¨Šç¾¤çµ„ï¼‰ï¼Œç”¨æ–¼é©—è­‰é«˜é¢¨éšªæŒ‡ä»¤</span>
            </label>
            
            <label class="option-item" id="label-C">
                <input type="checkbox" name="option" value="C">
                <span>(C) ç¦æ­¢æ‰€æœ‰å“¡å·¥ä½¿ç”¨ç¤¾äº¤åª’é«”</span>
            </label>
            
            <label class="option-item" id="label-D">
                <input type="checkbox" name="option" value="D">
                <span>(D) é‡å°è²¡å‹™ã€äººäº‹ç­‰æ•æ„Ÿæ“ä½œï¼Œå¯¦æ–½è·å‹™å€éš”ï¼ˆSegregation of Duties, SoDï¼‰èˆ‡å¤šé‡å¯©æ‰¹æµç¨‹</span>
            </label>
        </div>

        <!-- Feedback Area -->
        <div id="resultArea" class="result-area"></div>

        <!-- Buttons -->
        <div class="btn-group">
            <button class="btn btn-primary" id="submitBtn" onclick="checkAnswer()">æäº¤ç­”æ¡ˆ</button>
            <button class="btn btn-reset" id="resetBtn" onclick="resetQuiz()" style="display:none;">é‡ç·´ä¸€æ¬¡</button>
        </div>
    </div>

    <!-- Analysis Content (Hidden initially) -->
    <div id="analysisSection" class="analysis-section card" style="margin-top: 0; padding-top: 0;">
        
        <!-- Accordion Analysis -->
        <div class="section-title">ğŸ’¡ åå¸«é€é …è§£æ (é»æ“Šå±•é–‹)</div>
        
        <div class="accordion-item">
            <div class="accordion-header" onclick="toggleAccordion(this)">
                <span>(A) å…·å‚™æ´»é«”åµæ¸¬åŠŸèƒ½çš„ç”Ÿç‰©è¾¨è­˜</span>
                <span class="badge" style="background:var(--success)">æ­£ç¢º</span>
            </div>
            <div class="accordion-content">
                <span class="tag tag-tech">æŠ€è¡“æ§åˆ¶</span>
                <p><strong>ç‚ºä»€éº¼è¦é¸ï¼š</strong>Deepfake ä¸»è¦æ˜¯ç”Ÿæˆ 2D å½±åƒã€‚æ´»é«”åµæ¸¬ï¼ˆLiveness Detectionï¼‰é€éåµæ¸¬çœ¨çœ¼ã€å¾®è¡¨æƒ…ã€æˆ–æ˜¯è¦æ±‚ä½¿ç”¨è€…åšç‰¹å®šå‹•ä½œï¼ˆé»é ­ã€è½‰é ­ï¼‰ä¾†ç¢ºèªé¡é ­å‰æ˜¯ã€ŒçœŸäººã€è€Œéè¢å¹•æ’­æ”¾çš„å½±ç‰‡æˆ– AI åˆæˆåœ–åƒã€‚é€™æ˜¯ç›®å‰æŠ€è¡“ç«¯æœ€æœ‰æ•ˆçš„ååˆ¶æ‰‹æ®µä¹‹ä¸€ã€‚</p>
            </div>
        </div>

        <div class="accordion-item">
            <div class="accordion-header" onclick="toggleAccordion(this)">
                <span>(B) å»ºç«‹ç¨ç«‹çš„é€šè¨Šç®¡é“ (Out-of-Band)</span>
                <span class="badge" style="background:var(--success)">æ­£ç¢º</span>
            </div>
            <div class="accordion-content">
                <span class="tag tag-proc">ç¨‹åºæ§åˆ¶</span>
                <p><strong>ç‚ºä»€éº¼è¦é¸ï¼š</strong>é€™å«åšã€Œé »å¸¶å¤–é©—è­‰ã€ï¼ˆOut-of-Band Verificationï¼‰ã€‚å¦‚æœè€é—†åœ¨è¦–è¨Šæœƒè­°ï¼ˆé »å¸¶å…§ï¼‰å«ä½ åŒ¯æ¬¾ï¼Œä½ è¦ºå¾—æ€ªæ€ªçš„ï¼Œæ‡‰è©²ç”¨å®Œå…¨ä¸åŒçš„ç®¡é“ï¼ˆå¦‚ï¼šæ‰“æ‰‹æ©Ÿã€åŠ å¯†ç°¡è¨Šç¾¤çµ„ï¼‰å»ç¢ºèªã€‚æ”»æ“Šè€…å¯ä»¥å½é€ è¦–è¨Šï¼Œä½†å¾ˆé›£åŒæ™‚é§­å…¥ä¸¦æ§åˆ¶è€é—†çš„æ‰‹æ©Ÿé€šè¨Šã€‚</p>
            </div>
        </div>

        <div class="accordion-item">
            <div class="accordion-header" onclick="toggleAccordion(this)">
                <span>(C) ç¦æ­¢æ‰€æœ‰å“¡å·¥ä½¿ç”¨ç¤¾äº¤åª’é«”</span>
                <span class="badge" style="background:var(--danger)">éŒ¯èª¤</span>
            </div>
            <div class="accordion-content">
                <span class="tag tag-trap">å¸¸è¦‹é™·é˜±</span>
                <p><strong>ç‚ºä»€éº¼ä¸é¸ï¼š</strong>
                1. <strong>ä¸å¯è¡Œï¼š</strong>è¡ŒéŠ·ã€æ¥­å‹™éƒ¨é–€éœ€è¦ç¤¾ç¾¤åª’é«”å·¥ä½œã€‚è³‡å®‰ä¸èƒ½å°è‡´æ¥­å‹™åœæ“ºï¼ˆå¯ç”¨æ€§åŸå‰‡ï¼‰ã€‚<br>
                2. <strong>ç„¡æ•ˆï¼š</strong>æ”»æ“Šè€…å¯ä»¥å¾æ–°èæ¡è¨ªã€å…¬é–‹æ¼”è¬›å½±ç‰‡ç²å–é«˜å±¤çš„è‡‰éƒ¨ç´ æï¼Œä¸ä¸€å®šè¦å¾å“¡å·¥ç§äººç¤¾ç¾¤æŠ“ã€‚<br>
                æ‡‰æ¡å–ã€Œé©åº¦é–‹æ”¾ + æ•™è‚²è¨“ç·´ã€ï¼Œè€Œéã€Œå…¨é¢ç¦æ­¢ã€ã€‚</p>
            </div>
        </div>

        <div class="accordion-item">
            <div class="accordion-header" onclick="toggleAccordion(this)">
                <span>(D) å¯¦æ–½è·å‹™å€éš” (SoD) èˆ‡å¤šé‡å¯©æ‰¹</span>
                <span class="badge" style="background:var(--success)">æ­£ç¢º</span>
            </div>
            <div class="accordion-content">
                <span class="tag tag-proc">ç¨‹åºæ§åˆ¶</span>
                <p><strong>ç‚ºä»€éº¼è¦é¸ï¼š</strong>é€™å°±æ˜¯ã€Œä¸æŠŠé›è›‹æ”¾åœ¨åŒä¸€å€‹ç±ƒå­è£¡ã€ã€‚å³ä½¿é§­å®¢ç”¨ Deepfake é¨™éäº†è²¡å‹™ç¶“ç†ï¼ˆæ¬Šé™Aï¼‰ï¼Œå¦‚æœè½‰å¸³é‚„éœ€è¦ç¸½ç¶“ç†ï¼ˆæ¬Šé™Bï¼‰çš„ç¡¬é«”æ†‘è­‰å¯©æ ¸ï¼Œæ”»æ“Šå°±ç„¡æ³•å®Œæˆã€‚é€éæµç¨‹è¨­è¨ˆä¾†å½Œè£œäººçœ¼è¾¨è­˜çš„ä¸è¶³ã€‚</p>
            </div>
        </div>

        <!-- Core Concepts -->
        <div class="section-title">ğŸ“š æ ¸å¿ƒè§€å¿µï¼šæŠ€è¡“+ç¨‹åº</div>
        <div class="concept-box">
            <h4>1. ä»€éº¼æ˜¯ Deepfakeï¼Ÿ</h4>
            <p>åˆ©ç”¨ AIï¼ˆGAN å°æŠ—ç¶²è·¯ï¼‰å°‡ä¸€å€‹äººçš„è‡‰éƒ¨æˆ–è²éŸ³ï¼Œç„¡ç¸«æ›¿æ›åˆ°å¦ä¸€å€‹å½±ç‰‡æˆ–éŸ³è¨Šä¸­ã€‚ç¾åœ¨æŠ€è¡“å·²èƒ½åšåˆ°ã€Œå³æ™‚è¦–è¨Šå½é€ ã€ã€‚</p>
            
            <h4>2. ç‚ºä»€éº¼å–®é æŠ€è¡“ä¸å¤ ï¼Ÿ</h4>
            <p>é˜²ç¦¦æŠ€è¡“æ°¸é è½å¾Œæ–¼æ”»æ“ŠæŠ€è¡“ã€‚AI åµæ¸¬æ¨¡å‹å¯èƒ½æœƒæœ‰èª¤åˆ¤ï¼Œæˆ–è€…è¢«æ›´æ–°çš„ç”Ÿæˆç®—æ³•ç¹éã€‚å› æ­¤ï¼Œä¸èƒ½åªä¾è³´ã€Œè»Ÿé«”åˆ¤æ–·ã€ã€‚</p>

            <h4>3. ç¸±æ·±é˜²ç¦¦ (Defense in Depth)</h4>
            <p>å¿…é ˆçµåˆ<strong>æŠ€è¡“ï¼ˆæ´»é«”åµæ¸¬ï¼‰</strong>èˆ‡<strong>ç¨‹åºï¼ˆSOPã€é©—è­‰æµç¨‹ï¼‰</strong>ã€‚ç•¶æŠ€è¡“å¤±æ•ˆï¼ˆçœ‹ä¸å‡ºä¾†æ˜¯å‡çš„ï¼‰æ™‚ï¼Œç¨‹åºï¼ˆSOP è¦æ±‚å¿…é ˆæ‰“é›»è©±ç¢ºèªï¼‰èƒ½æ“‹ä¸‹æ”»æ“Šã€‚</p>
        </div>

        <!-- Traps -->
        <div class="section-title">âš ï¸ è€ƒè©¦å¸¸è¦‹é™·é˜±</div>
        <div class="trap-box">
            <ul>
                <li><strong>é™·é˜±ä¸€ï¼šçœ‹åˆ°ã€Œå…¨é¢ç¦æ­¢ã€å°±è¦ºå¾—å®‰å…¨ã€‚</strong><br>iPAS è€ƒé¡Œä¸­ï¼Œæ¥µç«¯çš„ã€Œç¦æ­¢æ‰€æœ‰...ã€é€šå¸¸æ˜¯éŒ¯çš„ï¼Œå› ç‚ºé•åäº†å•†æ¥­é‹ä½œéœ€æ±‚ã€‚</li>
                <li><strong>é™·é˜±äºŒï¼šå¿½ç•¥ã€Œç¨‹åºã€çš„é‡è¦æ€§ã€‚</strong><br>å¾ˆå¤šè€ƒç”Ÿä»¥ç‚ºè³‡å®‰å°±æ˜¯è²·é˜²ç«ç‰†ã€é˜²æ¯’è»Ÿé«”ã€‚ä½†åœ¨å°æŠ—è©é¨™ï¼ˆç¤¾äº¤å·¥ç¨‹ï¼‰æ™‚ï¼ŒSOPï¼ˆå¦‚ï¼šè¦æ±‚å›æ’¥é›»è©±ï¼‰å¾€å¾€æ¯”è»Ÿé«”æ›´æœ‰ç”¨ã€‚</li>
                <li><strong>é™·é˜±ä¸‰ï¼šæŠŠç®¡ç†æ‰‹æ®µç•¶ä½œè¡Œæ”¿åº¶å‹™ã€‚</strong><br>è·å‹™å€éš”ï¼ˆSoDï¼‰ä¸åªæ˜¯é˜²å…§é¬¼ï¼Œæ›´æ˜¯é˜²é§­å®¢å¥ªæ¬Šçš„é‡è¦é˜²ç·šã€‚</li>
            </ul>
        </div>

        <!-- Mnemonic -->
        <div class="section-title">ğŸ§  è¨˜æ†¶å£è¨£</div>
        <div class="mnemonic-box">
            <div class="mnemonic-text">ã€Œæ´»ã€å¤šã€é©—ã€åˆ†ã€</div>
            <div style="margin-top:10px; color:#555;">
                <strong>æ´»</strong>é«”åµæ¸¬ (æŠ€è¡“)<br>
                <strong>å¤š</strong>é‡å¯©æ‰¹ (ç¨‹åº)<br>
                <strong>é©—</strong>è­‰ç®¡é“ (ç¨‹åº)<br>
                <strong>åˆ†</strong>æ¬Šåˆ¶è¡¡ (ç¨‹åº)
            </div>
        </div>

        <!-- Self Check -->
        <div class="section-title">ğŸ“ è‡ªæˆ‘æª¢æ¸¬ (é»æ“Šé¡¯ç¤ºç­”æ¡ˆ)</div>
        
        <div class="self-check-card">
            <p><strong>Q1ï¼š</strong>ç•¶ç¸½ç¶“ç†é€éè¦–è¨Šæœƒè­°è¦æ±‚è²¡å‹™ç·Šæ€¥åŒ¯æ¬¾ï¼Œè²¡å‹™äººå“¡ä¾æ“šå…¬å¸è¦å®šï¼Œæ›æ–·è¦–è¨Šä¸¦æ’¥æ‰“ç¸½ç¶“ç†å…§ç·šç¢ºèªã€‚é€™æ˜¯å±¬æ–¼å“ªç¨®æ§åˆ¶æªæ–½ï¼Ÿ</p>
            <button class="hint-btn" onclick="toggleAnswer('ans1')">çœ‹ç­”æ¡ˆ</button>
            <div id="ans1" class="answer-reveal">é »å¸¶å¤–é©—è­‰ (Out-of-Band Verification) / ç¨‹åºæ§åˆ¶</div>
        </div>

        <div class="self-check-card">
            <p><strong>Q2ï¼š</strong>Deepfake æ”»æ“Šä¸»è¦ç ´å£äº†è³‡è¨Šå®‰å…¨ CIA ä¸‰è¦ç´ ä¸­çš„å“ªä¸€é …ï¼Ÿ</p>
            <button class="hint-btn" onclick="toggleAnswer('ans2')">çœ‹ç­”æ¡ˆ</button>
            <div id="ans2" class="answer-reveal">å®Œæ•´æ€§ (Integrity) èˆ‡ çœŸå¯¦æ€§ (Authenticity)</div>
        </div>

    </div>
</div>

<script>
    // Correct Answer Logic
    const CORRECT_ANSWERS = ['A', 'B', 'D'];

    function checkAnswer() {
        const checkboxes = document.querySelectorAll('input[name="option"]');
        let userAnswers = [];
        
        // 1. Collect User Answers
        checkboxes.forEach(cb => {
            if (cb.checked) userAnswers.push(cb.value);
            cb.disabled = true; // Disable inputs
        });

        // 2. Determine Result
        // Sort arrays to ensure correct comparison
        userAnswers.sort();
        const correctSorted = [...CORRECT_ANSWERS].sort();
        
        const isCorrect = JSON.stringify(userAnswers) === JSON.stringify(correctSorted);

        // 3. Render Feedback
        const resultArea = document.getElementById('resultArea');
        resultArea.style.display = 'block';

        if (isCorrect) {
            resultArea.className = 'result-area result-success';
            resultArea.innerHTML = `<strong>ğŸ‰ å®Œå…¨æ­£ç¢ºï¼</strong><br>ä½ çš„è§€å¿µéå¸¸æ¸…æ™°ï¼Deepfake é˜²ç¦¦éœ€è¦ã€ŒæŠ€è¡“ã€èˆ‡ã€Œç¨‹åºã€ä¸¦é‡ã€‚<br>æ­£ç¢ºç­”æ¡ˆæ­£æ˜¯ï¼šAã€Bã€Dã€‚`;
        } else {
            resultArea.className = 'result-area result-error';
            resultArea.innerHTML = `<strong>âŒ ç­”æ¡ˆæœ‰èª¤</strong><br>æ­£ç¢ºç­”æ¡ˆæ‡‰è©²æ˜¯ï¼š<strong>Aã€Bã€D</strong>ã€‚<br>è«‹åƒè€ƒä¸‹æ–¹è§£æï¼Œçœ‹çœ‹å“ªè£¡æ¼é¸æˆ–å¤šé¸äº†ã€‚`;
        }

        // 4. Highlight Options
        checkboxes.forEach(cb => {
            const label = document.getElementById('label-' + cb.value);
            const val = cb.value;
            const isTarget = CORRECT_ANSWERS.includes(val);
            const isChecked = cb.checked;

            // Remove old classes just in case
            label.classList.remove('correct-highlight', 'wrong-highlight', 'missed-highlight');

            if (isChecked && isTarget) {
                // Correctly checked
                label.classList.add('correct-highlight');
                label.innerHTML += ` <span style="color:var(--success); font-weight:bold; float:right;">(â­• ç­”å°)</span>`;
            } else if (isChecked && !isTarget) {
                // Wrongly checked
                label.classList.add('wrong-highlight');
                label.innerHTML += ` <span style="color:var(--danger); font-weight:bold; float:right;">(âŒ å¤šé¸)</span>`;
            } else if (!isChecked && isTarget) {
                // Missed
                label.classList.add('missed-highlight');
                label.innerHTML += ` <span style="color:var(--warning); font-weight:bold; float:right;">(âš ï¸ æ¼é¸)</span>`;
            }
        });

        // 5. Show Buttons and Analysis
        document.getElementById('submitBtn').style.display = 'none';
        document.getElementById('resetBtn').style.display = 'inline-block';
        document.getElementById('analysisSection').style.display = 'block';

        // Scroll to analysis
        setTimeout(() => {
            document.getElementById('resultArea').scrollIntoView({ behavior: 'smooth', block: 'center' });
        }, 100);
    }

    function resetQuiz() {
        // Reset UI
        const checkboxes = document.querySelectorAll('input[name="option"]');
        checkboxes.forEach(cb => {
            cb.checked = false;
            cb.disabled = false;
            // Restore original text (remove status spans)
            const label = document.getElementById('label-' + cb.value);
            label.className = 'option-item';
            // Simple way to restore text: grab the span inside label
            const textSpan = label.querySelector('span');
            // Remove the status text appended at the end
            // Actually, simplest is to reload page or just clean up status text. 
            // Let's just remove the <span> added by JS logic.
            const statusMsg = label.querySelector('span[style]');
            if(statusMsg) statusMsg.remove();
        });

        document.getElementById('resultArea').style.display = 'none';
        document.getElementById('analysisSection').style.display = 'none';
        document.getElementById('submitBtn').style.display = 'inline-block';
        document.getElementById('resetBtn').style.display = 'none';
        
        // Hide self-check answers
        document.querySelectorAll('.answer-reveal').forEach(el => el.style.display = 'none');

        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function toggleAccordion(header) {
        const content = header.nextElementSibling;
        if (content.style.display === 'block') {
            content.style.display = 'none';
        } else {
            content.style.display = 'block';
        }
    }

    function toggleAnswer(id) {
        const el = document.getElementById(id);
        if (el.style.display === 'block') {
            el.style.display = 'none';
        } else {
            el.style.display = 'block';
        }
    }
</script>

</body>
</html>