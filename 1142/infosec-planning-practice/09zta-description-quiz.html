<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é›¶ä¿¡ä»»æ¶æ§‹ (ZTA) äº’å‹•æ•™å­¸</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script src="https://unpkg.com/lucide@latest"></script>

    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['"Noto Sans TC"', 'sans-serif'],
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-out',
                        'flowRight': 'flowRight 1.5s linear infinite',
                        'flowDown': 'flowDown 1s linear infinite',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        flowRight: {
                            '0%': { transform: 'translateX(-100%)', opacity: '0' },
                            '50%': { opacity: '1' },
                            '100%': { transform: 'translateX(300%)', opacity: '0' },
                        },
                        flowDown: {
                            '0%': { transform: 'translateY(-100%)', opacity: '0' },
                            '100%': { transform: 'translateY(200%)', opacity: '0' },
                        }
                    },
                }
            }
        }
    </script>
</head>
<body class="min-h-screen bg-slate-50 p-4 md:p-8 text-slate-800">

    <div class="max-w-4xl mx-auto bg-white shadow-xl rounded-2xl overflow-hidden border border-slate-200">
        
        <div class="bg-indigo-700 text-white p-6 relative overflow-hidden">
            <div class="absolute top-0 right-0 opacity-10 transform translate-x-10 -translate-y-10">
                <i data-lucide="shield" width="180" height="180"></i>
            </div>
            <div class="relative z-10">
                <div class="flex items-center gap-3 mb-2">
                    <span class="bg-yellow-400 text-indigo-900 text-xs font-bold px-2 py-1 rounded uppercase">iPAS å¿…è€ƒé‡é»</span>
                    <span class="flex items-center gap-1 text-indigo-200 text-sm">
                        <i data-lucide="book-open" width="16"></i> è³‡å®‰æ¦‚è«–
                    </span>
                </div>
                <h1 class="text-2xl md:text-3xl font-bold mb-2">é›¶ä¿¡ä»»æ¶æ§‹ (ZTA) æ ¸å¿ƒè§€å¿µçªç ´</h1>
                <p class="text-indigo-100 opacity-90">è£œæ•™åå¸«å¸¶ä½ ç ´è§£ NIST æ¨™æº–èˆ‡ PEP/PDP æ¶æ§‹é™·é˜±ï¼</p>
            </div>
        </div>

        <div class="p-6 md:p-8">
            <div class="mb-6">
                <h2 class="text-xl font-bold text-slate-900 mb-4 flex items-center gap-2">
                    <span class="flex items-center justify-center w-8 h-8 bg-indigo-100 text-indigo-700 rounded-full text-sm font-bold">Q</span>
                    ç²¾é¸è©¦é¡Œ
                </h2>
                <p class="text-lg text-slate-700 font-medium leading-relaxed p-4 bg-slate-50 rounded-lg border-l-4 border-indigo-500">
                    é—œæ–¼é›¶ä¿¡ä»»æ¶æ§‹ï¼ˆZero Trust Architecture, ZTAï¼‰çš„æè¿°ï¼Œä¸‹åˆ—ä½•è€…è¼ƒ<span class="text-red-600 font-bold underline decoration-wavy">ã€Œä¸ã€æ­£ç¢º</span>ï¼Ÿ
                </p>
            </div>

            <div id="options-container" class="space-y-3 mb-8"></div>

            <button id="submit-btn" onclick="submitQuiz()" disabled
                class="w-full py-3 rounded-lg font-bold text-lg transition-all shadow-md flex items-center justify-center gap-2 bg-gray-300 text-gray-500 cursor-not-allowed">
                æäº¤ç­”æ¡ˆ
            </button>

            <div id="result-section" class="hidden animate-fade-in mt-8"></div>

        </div>
    </div>
    
    <div class="text-center text-slate-400 text-xs mt-8">
        Â© iPAS è³‡å®‰è£œæ•™åå¸«åœ˜éšŠ | Interactive Learning Module
    </div>

    <script>
        // --- 1. è³‡æ–™è¨­å®š ---
        const correctAnswer = 'C';
        const optionsData = [
            { id: 'A', text: '(A) ç›¸ç•¶é©ç”¨æ–¼é˜²ç¦¦å…§éƒ¨æ”»æ“Šæˆ–å—åˆ°å…¥ä¾µå¾Œçš„æ©«å‘ç§»å‹•' },
            { id: 'B', text: '(B) å­˜å–è³‡æºæ™‚ï¼Œç”±æ”¿ç­–åŸ·è¡Œé»ï¼ˆPEPï¼‰å‘æ”¿ç­–æ±ºç­–é»ï¼ˆPDPï¼‰è©¢å•æ˜¯å¦å…è¨±å­˜å–' },
            { id: 'C', text: '(C) è©³ç´°çš„ ZTA æ¶æ§‹èªªæ˜æè¿°æ–¼ NIST SP 800-217 ä¸­' },
            { id: 'D', text: '(D) ç«¯å°ç«¯çš„åŠ å¯†é€šè¨Šä½¿å¾—é›¶ä¿¡ä»»æ¶æ§‹çš„éƒ¨ç½²æ›´å…·æŒ‘æˆ°' }
        ];

        // --- 2. ç‹€æ…‹ç®¡ç† ---
        let state = {
            selectedOption: null,
            isSubmitted: false
        };

        // --- 3. åˆå§‹åŒ– ---
        function init() {
            renderOptions();
            lucide.createIcons();
        }

        // --- 4. ä½¿ç”¨è€…å‹•ä½œ ---
        function selectOption(id) {
            if (state.isSubmitted) return;
            state.selectedOption = id;
            renderOptions();
            updateSubmitButton();
        }

        function submitQuiz() {
            if (!state.selectedOption) return;
            state.isSubmitted = true;
            renderOptions();
            updateSubmitButton(); // éš±è—æŒ‰éˆ•
            renderResult();       // é¡¯ç¤ºçµæœèˆ‡è©³è§£
            lucide.createIcons(); // é‡æ–°æ¸²æŸ“æ–°ç”¢ç”Ÿçš„åœ–ç¤º
        }

        function resetQuiz() {
            state.selectedOption = null;
            state.isSubmitted = false;
            
            // é¡¯ç¤ºæäº¤æŒ‰éˆ•
            const btn = document.getElementById('submit-btn');
            btn.classList.remove('hidden');
            
            // éš±è—çµæœå€
            document.getElementById('result-section').classList.add('hidden');
            document.getElementById('result-section').innerHTML = ''; // æ¸…ç©ºå…§å®¹
            
            renderOptions();
            updateSubmitButton();
        }

        // --- 5. æ¸²æŸ“å‡½å¼ (View) ---
        
        // æ›´æ–°æŒ‰éˆ•ç‹€æ…‹
        function updateSubmitButton() {
            const btn = document.getElementById('submit-btn');
            if (state.isSubmitted) {
                btn.classList.add('hidden');
            } else {
                btn.classList.remove('hidden');
                if (state.selectedOption) {
                    btn.disabled = false;
                    btn.className = "w-full py-3 rounded-lg font-bold text-lg transition-all shadow-md flex items-center justify-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white cursor-pointer transform hover:-translate-y-1";
                } else {
                    btn.disabled = true;
                    btn.className = "w-full py-3 rounded-lg font-bold text-lg transition-all shadow-md flex items-center justify-center gap-2 bg-gray-300 text-gray-500 cursor-not-allowed";
                }
            }
        }

        // æ¸²æŸ“é¸é …åˆ—è¡¨
        function renderOptions() {
            const container = document.getElementById('options-container');
            container.innerHTML = optionsData.map(option => {
                let styleClass = "";
                let iconHtml = "";

                if (!state.isSubmitted) {
                    // æœªæäº¤ç‹€æ…‹
                    if (state.selectedOption === option.id) {
                        styleClass = "bg-blue-100 border-blue-500 text-blue-900 shadow-sm ring-1 ring-blue-500";
                        iconHtml = `<div class="w-3 h-3 bg-blue-500 rounded-full"></div>`;
                    } else {
                        styleClass = "bg-white hover:bg-gray-50 border-gray-200 text-gray-700 hover:border-blue-300";
                        iconHtml = ``; 
                    }
                } else {
                    // å·²æäº¤ç‹€æ…‹
                    if (option.id === correctAnswer) {
                        styleClass = "bg-green-100 border-green-500 text-green-900 font-bold ring-1 ring-green-500 cursor-default";
                        iconHtml = `<i data-lucide="check-circle" class="text-green-600 w-4 h-4"></i>`;
                    } else if (state.selectedOption === option.id) {
                        styleClass = "bg-red-100 border-red-500 text-red-900 cursor-default";
                        iconHtml = `<i data-lucide="x-circle" class="text-red-600 w-4 h-4"></i>`;
                    } else {
                        styleClass = "bg-gray-50 border-gray-200 text-gray-400 opacity-60 cursor-default";
                        iconHtml = ``;
                    }
                }

                return `
                <button
                    onclick="selectOption('${option.id}')"
                    ${state.isSubmitted ? 'disabled' : ''}
                    class="w-full text-left p-4 rounded-lg border-2 transition-all duration-200 flex items-center gap-3 outline-none focus:ring-2 focus:ring-offset-1 focus:ring-indigo-500 ${styleClass}"
                >
                    <div class="w-6 h-6 rounded-full border-2 flex items-center justify-center flex-shrink-0 ${state.selectedOption === option.id ? 'border-current' : 'border-gray-300'}">
                        ${iconHtml}
                    </div>
                    <span class="font-medium">${option.text}</span>
                </button>
                `;
            }).join('');
            
            if(state.isSubmitted) lucide.createIcons();
        }

        // æ¸²æŸ“çµæœèˆ‡è©³è§£å€å¡Š
        function renderResult() {
            const resultSection = document.getElementById('result-section');
            const isCorrect = state.selectedOption === correctAnswer;
            
            // 1. çµæœå›é¥‹é ­éƒ¨
            const feedbackHeader = isCorrect 
                ? `<div class="bg-green-50 border border-green-200 p-4 rounded-lg mb-8 flex items-start gap-4">
                     <div class="bg-green-100 p-2 rounded-full text-green-600 flex-shrink-0"><i data-lucide="check-circle" width="24"></i></div>
                     <div>
                        <h3 class="font-bold text-lg mb-1 text-green-800">ç­”å°äº†ï¼</h3>`
                : `<div class="bg-red-50 border border-red-200 p-4 rounded-lg mb-8 flex items-start gap-4">
                     <div class="bg-red-100 p-2 rounded-full text-red-600 flex-shrink-0"><i data-lucide="x-circle" width="24"></i></div>
                     <div>
                        <h3 class="font-bold text-lg mb-1 text-red-800">ç­”éŒ¯å›‰ï¼</h3>`;

            const feedbackBody = `
                        <p class="text-slate-700">
                            æ­£ç¢ºç­”æ¡ˆæ˜¯ <strong>(C)</strong>ã€‚<br/>
                            <span class="text-sm opacity-80">é¡Œç›®å•çš„æ˜¯ã€Œä¸æ­£ç¢ºã€çš„é¸é …ã€‚</span>
                        </p>
                    </div>
                </div>`;

            // 2. è©³è§£å…§å®¹
            const analysisHTML = `
                <div class="space-y-8">
                    <section>
                        <h3 class="text-xl font-bold text-indigo-800 mb-4 border-b border-indigo-200 pb-2 flex items-center gap-2">
                            <i data-lucide="brain" width="24"></i> åå¸«è©³è§£
                        </h3>
                        
                        <div class="grid md:grid-cols-2 gap-4 mb-6">
                            <div class="bg-white border border-gray-200 p-4 rounded-lg shadow-sm">
                                <h4 class="font-bold text-red-600 flex items-center gap-2 mb-2">
                                    <i data-lucide="x-circle" width="18"></i> é¸é … (C) è§£æ
                                </h4>
                                <p class="text-sm text-gray-600 leading-relaxed">
                                    é€™æ˜¯ä¸€å€‹ç¶“å…¸çš„<strong class="text-slate-800">æ•¸å­—é™·é˜±</strong>ï¼<br/>
                                    NIST ç™¼å¸ƒçš„é›¶ä¿¡ä»»æ¶æ§‹æ¨™æº–æ–‡ä»¶æ˜¯ <strong class="text-indigo-600 bg-indigo-50 px-1 rounded">SP 800-207</strong>ï¼Œä¸¦é SP 800-217ã€‚
                                </p>
                            </div>
                            
                            <div class="bg-white border border-gray-200 p-4 rounded-lg shadow-sm">
                                <h4 class="font-bold text-green-600 flex items-center gap-2 mb-2">
                                    <i data-lucide="check-circle" width="18"></i> é¸é … (B) æ­£ç¢ºçš„åŸå› 
                                </h4>
                                <div class="text-sm text-gray-600 leading-relaxed">
                                    é€™æ˜¯ ZTA çš„é‹ä½œé‚è¼¯ï¼š
                                    <ul class="list-disc pl-5 mt-1 space-y-1">
                                        <li><strong>PEP (Policy Enforcement Point)ï¼š</strong> å®ˆé–€å“¡ã€‚</li>
                                        <li><strong>PDP (Policy Decision Point)ï¼š</strong> å¤§è…¦ã€‚</li>
                                    </ul>
                                    PEP å¿…é ˆå…ˆå• PDPï¼ŒPDP èªª OKï¼ŒPEP æ‰æ”¾è¡Œã€‚
                                    
                                </div>
                            </div>

                             <div class="bg-white border border-gray-200 p-4 rounded-lg shadow-sm">
                                <h4 class="font-bold text-green-600 flex items-center gap-2 mb-2">
                                    <i data-lucide="check-circle" width="18"></i> é¸é … (A) æ­£ç¢ºçš„åŸå› 
                                </h4>
                                <div class="text-sm text-gray-600 leading-relaxed">
                                    é›¶ä¿¡ä»»å‡è¨­ç¶²è·¯å·²é­å…¥ä¾µï¼Œæ•…æ¥µåº¦å¼·èª¿å¾®åˆ†å‰²èˆ‡æŒçºŒé©—è­‰ï¼Œèƒ½æœ‰æ•ˆé˜»æ­¢æ”»æ“Šè€…<strong>æ©«å‘ç§»å‹•</strong>ã€‚
                                </div>
                            </div>

                            <div class="bg-white border border-gray-200 p-4 rounded-lg shadow-sm">
                                <h4 class="font-bold text-green-600 flex items-center gap-2 mb-2">
                                    <i data-lucide="check-circle" width="18"></i> é¸é … (D) æ­£ç¢ºçš„åŸå› 
                                </h4>
                                <div class="text-sm text-gray-600 leading-relaxed">
                                    ç«¯å°ç«¯åŠ å¯† (E2E) é›–å®‰å…¨ï¼Œä½†å°è‡´ä¸­é–“è³‡å®‰è¨­å‚™ç„¡æ³•æª¢æŸ¥å…§å®¹ï¼ˆå¯è¦–æ€§é™ä½ï¼‰ï¼Œè®“å¨è„…åµæ¸¬è®Šå¾—æ›´æŒ‘æˆ°ã€‚
                                </div>
                            </div>
                        </div>
                    </section>

                    <section class="bg-slate-900 text-white rounded-xl p-6 overflow-hidden relative">
                        <div class="absolute inset-0 opacity-10" style="background-image: radial-gradient(#6366f1 1px, transparent 1px); background-size: 20px 20px;"></div>

                        <h3 class="text-lg font-bold text-yellow-400 mb-8 flex items-center gap-2 relative z-10">
                            <i data-lucide="search" width="20"></i> å‹•æ…‹åœ–è§£ï¼šZTA æµé‡é©—è­‰æµç¨‹
                        </h3>

                        <div class="flex flex-col md:flex-row items-center justify-between gap-2 relative z-10 text-sm">
                            <div class="flex flex-col items-center bg-slate-800 p-4 rounded-xl border border-slate-700 w-full md:w-1/4 text-center z-10 shadow-lg">
                                <div class="text-4xl mb-2">ğŸ’»</div>
                                <div class="font-bold text-slate-200">ä¸»é«” (Subject)</div>
                                <div class="text-xs text-slate-400">ä½¿ç”¨è€…/è¨­å‚™</div>
                            </div>

                            <div class="flex flex-col items-center w-full md:w-1/4 h-12 md:h-auto justify-center relative">
                                <div class="text-xs text-slate-400 mb-1 absolute -top-4 md:static">ç™¼é€è«‹æ±‚</div>
                                <div class="h-1 bg-slate-700 w-full rounded relative overflow-hidden">
                                    <div class="absolute top-0 left-0 h-full w-1/3 bg-gradient-to-r from-transparent via-blue-500 to-transparent animate-[flowRight_1.5s_infinite_linear]"></div>
                                </div>
                                <div class="text-[10px] text-slate-500 mt-1">Untrusted Traffic</div>
                            </div>
                            
                            <div class="relative w-full md:w-1/3 flex flex-col items-center gap-2">
                                <div class="bg-indigo-600 p-4 rounded-lg border-2 border-yellow-400 w-full text-center relative shadow-[0_0_20px_rgba(99,102,241,0.5)] z-20">
                                    <div class="absolute -top-3 left-1/2 transform -translate-x-1/2 bg-yellow-400 text-indigo-900 text-xs font-bold px-3 py-0.5 rounded-full shadow-sm">PEP æ””æˆªé»</div>
                                    <div class="text-white font-bold text-lg">å®ˆé–€å“¡</div>
                                    <div class="text-xs text-indigo-200 mt-1 flex justify-center items-center gap-1">
                                        <span class="w-2 h-2 bg-green-400 rounded-full animate-ping"></span>
                                        é©—è­‰ä¸­...
                                    </div>
                                </div>
                                <div class="h-8 w-0.5 bg-slate-600 relative overflow-hidden">
                                    <div class="absolute top-0 left-0 w-full h-1/2 bg-yellow-400 animate-[flowDown_1s_infinite_linear]"></div>
                                </div>
                                <div class="bg-slate-700 p-2 rounded border border-slate-500 w-3/4 text-center">
                                    <div class="font-bold text-yellow-300 text-xs">PDP (å¤§è…¦)</div>
                                    <div class="text-[10px] text-gray-300">æ ¸å°æ”¿ç­–/ä¿¡è­½åˆ†æ•¸</div>
                                </div>
                            </div>

                            <div class="flex flex-col items-center w-full md:w-1/4 h-12 md:h-auto justify-center relative">
                                <div class="text-xs text-slate-400 mb-1 absolute -top-4 md:static">æ”¾è¡Œé€£ç·š</div>
                                <div class="h-1 bg-slate-700 w-full rounded relative overflow-hidden">
                                    <div class="absolute top-0 left-0 h-full w-1/3 bg-gradient-to-r from-transparent via-green-500 to-transparent animate-[flowRight_1.5s_infinite_linear_0.75s]"></div>
                                </div>
                                <div class="text-[10px] text-slate-500 mt-1">Secure Session</div>
                            </div>

                            <div class="flex flex-col items-center bg-slate-800 p-4 rounded-xl border border-slate-700 w-full md:w-1/4 text-center z-10 shadow-lg">
                                <div class="text-4xl mb-2">ğŸ—„ï¸</div>
                                <div class="font-bold text-slate-200">è³‡æº (Resource)</div>
                                <div class="text-xs text-slate-400">è³‡æ–™åº«/App</div>
                            </div>
                        </div>
                    </section>

                    <section class="bg-yellow-50 border-l-4 border-yellow-400 p-6 rounded-r-lg">
                        <h3 class="text-xl font-bold text-yellow-800 mb-3 flex items-center gap-2">
                            <i data-lucide="alert-triangle" width="24"></i> è€å¸«çš„è€ƒå‰å®åš€
                        </h3>
                        <div class="mt-6 bg-white p-4 rounded-lg border border-yellow-200 shadow-sm text-center">
                            <h4 class="text-indigo-600 font-bold mb-2 flex items-center justify-center gap-2">
                                <i data-lucide="key" width="18"></i> è¨˜æ†¶å£è¨£
                            </h4>
                            <p class="text-lg font-medium text-slate-800 py-2">
                                ã€Œé›¶ä¿¡ä»»æ‰¾ <span class="text-red-600 font-bold">207</span>ï¼Œé©—è­‰ä¸éæ²’é–€é€²ï¼ã€
                            </p>
                        </div>
                    </section>

                    <div class="text-center pt-4">
                        <button onclick="resetQuiz()" class="text-indigo-600 font-medium hover:text-indigo-800 underline underline-offset-4 cursor-pointer">
                            é‡æ–°ç·´ç¿’æ­¤é¡Œ
                        </button>
                    </div>
                </div>
            `;

            resultSection.innerHTML = feedbackHeader + feedbackBody + analysisHTML;
            resultSection.classList.remove('hidden');
        }

        // Run initialization
        init();
    </script>
</body>
</html>