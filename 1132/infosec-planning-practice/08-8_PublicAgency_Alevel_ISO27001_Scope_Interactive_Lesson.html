<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>題組 1｜第 5–8 題：公務機關 ISO 27001 導入範圍互動教學</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --accent-color: #3498db;
            --highlight-bg: #fff3cd;
            --correct-color: #27ae60;
            --wrong-color: #c0392b;
            --border-color: #bdc3c7;
            --bg-color: #f9f9f9;
            --text-color: #333;
        }

        body {
            font-family: "Noto Sans TC", "Microsoft JhengHei", sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            font-size: 16px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: #fff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        /* 導覽列 */
        .nav-tabs {
            display: flex;
            border-bottom: 2px solid var(--border-color);
            margin-bottom: 20px;
        }

        .tab-btn {
            padding: 10px 20px;
            cursor: pointer;
            border: none;
            background: none;
            font-size: 16px;
            font-weight: bold;
            color: #7f8c8d;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }

        .tab-btn:hover {
            color: var(--accent-color);
            background-color: #f0f8ff;
        }

        .tab-btn.active {
            color: var(--primary-color);
            border-bottom: 3px solid var(--accent-color);
        }

        /* 共用情境區塊 */
        .scenario-box {
            background-color: #e8f6f3;
            border-left: 5px solid #1abc9c;
            padding: 15px 20px;
            margin-bottom: 30px;
            border-radius: 4px;
        }

        .scenario-title {
            font-weight: bold;
            color: #16a085;
            margin-bottom: 10px;
            display: block;
        }

        /* 題目區塊 */
        h1, h2, h3 {
            color: var(--primary-color);
            margin-top: 1.5em;
            margin-bottom: 0.8em;
        }
        
        h2 { font-size: 18px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
        h3 { font-size: 17px; font-weight: bold; margin-top: 20px; }

        .question-stem {
            font-size: 17px;
            font-weight: bold;
            margin-bottom: 20px;
            padding: 15px;
            background-color: #fff;
            border: 1px solid var(--border-color);
            border-radius: 5px;
        }

        .highlight-text {
            background-color: var(--highlight-bg);
            padding: 2px 5px;
            border-radius: 3px;
            font-weight: bold;
            color: #d35400;
        }

        /* 選項樣式 */
        .options-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 25px;
        }

        .option-label {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .option-label:hover {
            background-color: #f4f6f7;
        }

        .option-label input[type="checkbox"] {
            margin-right: 15px;
            transform: scale(1.2);
        }

        /* 按鈕區 */
        .btn-group {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: opacity 0.2s;
        }

        .btn-submit { background-color: var(--accent-color); color: white; }
        .btn-reset { background-color: #95a5a6; color: white; }
        .btn-explain { background-color: #e67e22; color: white; }
        
        .btn:hover { opacity: 0.9; }

        /* 回饋區 */
        .feedback-area {
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 4px;
            font-weight: bold;
            display: none;
        }

        .feedback-success { background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .feedback-error { background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }

        /* 解析區塊 */
        .explanation-container {
            display: none; /* 預設隱藏 */
            background-color: #fff;
            border-top: 2px dashed var(--border-color);
            padding-top: 20px;
            margin-top: 30px;
        }

        .step-box {
            margin-bottom: 25px;
            padding: 15px;
            background-color: #fafafa;
            border-left: 4px solid var(--accent-color);
        }

        .tag {
            display: inline-block;
            background: #eee;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 14px;
            color: #555;
            margin-right: 5px;
        }

        mark {
            background-color: #fff176;
            padding: 0 4px;
            border-radius: 2px;
        }

        .answer-reveal {
            font-weight: bold;
            color: var(--wrong-color);
        }

        .correct-answer-reveal {
            font-weight: bold;
            color: var(--correct-color);
        }

        /* 小互動區塊 */
        .mini-game-box {
            background-color: #eaf2f8;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            border: 1px solid #aed6f1;
        }
        
        .mini-question {
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #d6eaf8;
        }

        .mini-result {
            display: inline-block;
            margin-left: 10px;
            font-weight: bold;
        }

        /* 占位符樣式 */
        .placeholder-content {
            padding: 40px;
            text-align: center;
            color: #7f8c8d;
            background: #f0f0f0;
            border-radius: 8px;
        }

        details {
            margin-top: 10px;
            padding: 10px;
            background: #f1f1f1;
            border-radius: 4px;
        }
        
        summary {
            cursor: pointer;
            font-weight: bold;
            color: var(--accent-color);
        }

        /* 響應式 */
        @media (max-width: 600px) {
            .btn-group { flex-direction: column; }
            .btn { width: 100%; }
        }
    </style>
</head>
<body>

<div class="container">
    <!-- 頁面標題 -->
    <h1 style="text-align: center; font-size: 22px; border-bottom: none; margin-top: 0;">
        資安短期衝刺班：互動式解題講義
    </h1>

    <!-- 導覽列 -->
    <div class="nav-tabs">
        <button class="tab-btn" onclick="switchTab(5)">第 5 題</button>
        <button class="tab-btn" onclick="switchTab(6)">第 6 題</button>
        <button class="tab-btn" onclick="switchTab(7)">第 7 題</button>
        <button class="tab-btn active" onclick="switchTab(8)">第 8 題 (當前)</button>
    </div>

    <!-- 共用情境區 (始終顯示) -->
    <div class="scenario-box">
        <span class="scenario-title">【題組情境說明：第 5–8 題共用】</span>
        <p>
            某資通安全責任等級 A 級之公務機關，主要業務係辦理全國有關<strong>全民健康保險</strong>之業務活動。
            為符合國內資通安全相關法規之遵循，因此實施了一系列資訊安全相關作為。
            該機關將於 3 個月後正式導入 <strong>ISO 27001 資訊安全管理系統</strong>，並需決定「導入範圍」。
        </p>
        <p style="font-size: 14px; color: #666; margin-top: 10px;">
            （老師提示：請注意「健保業務」與「導入範圍」這兩個關鍵詞）
        </p>
    </div>

    <!-- 第 5-7 題 占位符 (預設隱藏) -->
    <div id="q5-area" class="tab-content" style="display: none;">
        <div class="placeholder-content">
            <h3>第 5 題：資通安全責任等級與應辦事項</h3>
            <p>（此題與 A 級機關應辦事項有關，目前暫略，請先練習第 8 題）</p>
        </div>
    </div>
    <div id="q6-area" class="tab-content" style="display: none;">
        <div class="placeholder-content">
            <h3>第 6 題：資訊安全推動小組之組成</h3>
            <p>（此題與資安組織架構有關，目前暫略，請先練習第 8 題）</p>
        </div>
    </div>
    <div id="q7-area" class="tab-content" style="display: none;">
        <div class="placeholder-content">
            <h3>第 7 題：資產盤點與風險評鑑</h3>
            <p>（此題與風險管理流程有關，目前暫略，請先練習第 8 題）</p>
        </div>
    </div>

    <!-- 第 8 題 完整互動區 (預設顯示) -->
    <div id="q8-area" class="tab-content">
        <!-- 題目 -->
        <div class="question-stem">
            <span class="tag" style="background: #e74c3c; color: white;">複選題</span>
            8. 該機關決定於 3 個月後正式導入 ISO 27001 資訊安全管理系統，因此，主責資通安全有關事項之承辦窗口正評估 ISO 27001 資訊安全管理系統導入範圍。依該機關主要業務特性，試問下列哪些系統應納入 ISO 27001 資訊安全管理系統的<span class="highlight-text">「導入範圍」</span>？
        </div>

        <!-- 作答區 -->
        <div class="options-group" id="q8-options">
            <label class="option-label">
                <input type="checkbox" name="q8" value="A">
                (A) 全民健保納保系統
            </label>
            <label class="option-label">
                <input type="checkbox" name="q8" value="B">
                (B) 人員請假系統
            </label>
            <label class="option-label">
                <input type="checkbox" name="q8" value="C">
                (C) 全民健保退保系統
            </label>
            <label class="option-label">
                <input type="checkbox" name="q8" value="D">
                (D) 全民健保查詢系統
            </label>
        </div>

        <!-- 按鈕與回饋 -->
        <div class="btn-group">
            <button class="btn btn-submit" onclick="checkAnswer()">送出作答</button>
            <button class="btn btn-reset" onclick="resetQuiz()">重置</button>
            <button class="btn btn-explain" onclick="toggleExplanation()">一鍵看解析</button>
        </div>

        <div id="feedback" class="feedback-area"></div>

        <!-- 情境小互動 -->
        <div class="mini-game-box">
            <h3 style="margin-top:0;">⚡ 觀念釐清小挑戰</h3>
            <p>假設你是該機關資安官，你的下屬提了一個建議：<br><em>「報告長官，因為預算有限，我們先把『人員請假系統』納入驗證就好，健保資料庫太複雜先不要。」</em></p>
            
            <div class="mini-question">
                <strong>Q1. 這樣的範圍設定是否符合「依主要業務特性」原則？</strong><br>
                <label><input type="radio" name="mini1" value="yes" onclick="checkMini(1)"> 符合</label>
                <label><input type="radio" name="mini1" value="no" onclick="checkMini(1)"> 不符合</label>
                <span id="mini-res-1" class="mini-result"></span>
            </div>

            <div class="mini-question" style="border-bottom:none;">
                <strong>Q2. 如果發生資安事故，哪一個系統對民眾權益影響最大？</strong><br>
                <label><input type="radio" name="mini2" value="leave" onclick="checkMini(2)"> 請假系統</label>
                <label><input type="radio" name="mini2" value="health" onclick="checkMini(2)"> 健保查詢系統</label>
                <span id="mini-res-2" class="mini-result"></span>
            </div>
        </div>

        <!-- 解析區塊 -->
        <div id="explanation" class="explanation-container">
            <h2>名師解析教室</h2>

            <div class="step-box">
                <h3>第一步：找關鍵字（拿螢光筆畫下來！）</h3>
                <p>題目中有幾個字一定要看清楚：</p>
                <ul>
                    <li><mark>主要業務特性</mark>：這是解題核心。這個機關是做什麼的？做「健保」的！</li>
                    <li><mark>導入範圍</mark>：ISO 27001 驗證要包含哪些系統。</li>
                    <li><mark>全民健保</mark>：涉及大量個資、敏感資料，是機關存在的目的。</li>
                </ul>
                <p><strong>老師翻譯給你看：</strong>題目其實在問你「這家公司最重要、沒了它就不用開門的系統是什麼？請把這些系統挑出來做資安保護。」</p>
            </div>

            <div class="step-box">
                <h3>第二步：解題思路與生活比喻</h3>
                <p><strong>觀念：</strong>ISO 27001 的導入範圍（Scope）必須涵蓋組織的核心業務流程與主要風險來源。不能只挑簡單的做，要挑「最痛」的做。</p>
                <p><strong>生活比喻：</strong></p>
                <ul>
                    <li><strong>健保系統 (A, C, D)</strong> 就像醫院的「掛號櫃台」與「病歷室」。這是醫院的核心，這裡出事，病人個資外洩，醫院就完蛋了。</li>
                    <li><strong>請假系統 (B)</strong> 就像醫院員工的「排班表」。雖然也很重要（不排班沒人上班），但跟病人的生命安全與隱私相比，它是屬於「行政支援」性質。</li>
                </ul>
                <p><strong>結論：</strong>題目要求依「主要業務」判斷，所以要優先選跟「健保」直接相關的系統。</p>
            </div>

            <div class="step-box">
                <h3>第三步：選項分析</h3>
                <ul>
                    <li><strong style="color:var(--correct-color)">[正確] (A) 全民健保納保系統</strong>：核心業務，涉及民眾加保資格與個資。</li>
                    <li><strong style="color:var(--wrong-color)">[錯誤] (B) 人員請假系統</strong>：這是內部行政支援系統，非該機關對外之「主要業務」。雖需保護，但在範圍界定題型中，順位低於核心系統。</li>
                    <li><strong style="color:var(--correct-color)">[正確] (C) 全民健保退保系統</strong>：核心業務，涉及資格異動與個資。</li>
                    <li><strong style="color:var(--correct-color)">[正確] (D) 全民健保查詢系統</strong>：核心業務，這是風險最高的地方，因為有大量讀取個資的行為，最容易發生外洩。</li>
                </ul>
            </div>

            <div class="step-box">
                <h3>第四步：記憶口訣與避坑</h3>
                <p><strong>記憶口訣：</strong><br>
                <span style="font-size: 1.2em; font-weight: bold; color: var(--accent-color);">「健保三件套：納、退、查；請假不算核心」</span>
                </p>

                <p><strong>常見陷阱：</strong></p>
                <ul>
                    <li>同學常以為「導入範圍」就是要包山包海，看到系統就全勾。</li>
                    <li>請記得：題目如果有強調<strong>「依主要業務」</strong>，就要把「行政支援類」（如請假、公文、差勤）先排除，除非題目說「全機關導入」。</li>
                </ul>
            </div>

            <div class="step-box">
                <h3>第五步：自我檢測（點擊查看答案）</h3>
                
                <details>
                    <summary>Q1. 健保查詢系統最主要的資安風險通常落在 CIA 的哪一項？</summary>
                    <p>參考答案：<strong>機密性 (Confidentiality)</strong>。因為涉及大量民眾個資，最怕被未授權的人偷看。</p>
                </details>

                <details>
                    <summary>Q2. 如果題幹改成「全機關所有資訊作業都納入 ISMS」，選項 (B) 請假系統要選嗎？</summary>
                    <p>參考答案：<strong>要</strong>。因為範圍條件改變了，變成「全機關」，自然包含行政支援系統。</p>
                </details>
            </div>

            <div style="text-align: center; margin-top: 20px; font-weight: bold; color: var(--primary-color);">
                正確答案：A、C、D
            </div>
        </div>
    </div>
</div>

<script>
    // 頁籤切換邏輯
    function switchTab(tabIndex) {
        // 隱藏所有內容區
        const contents = document.querySelectorAll('.tab-content');
        contents.forEach(content => content.style.display = 'none');
        
        // 移除所有按鈕的 active 狀態
        const buttons = document.querySelectorAll('.tab-btn');
        buttons.forEach(btn => btn.classList.remove('active'));

        // 顯示選中的內容區
        document.getElementById(`q${tabIndex}-area`).style.display = 'block';
        
        // 標記當前按鈕為 active
        // 注意：這裡是簡單實作，根據按鈕順序加 class
        // 5->0, 6->1, 7->2, 8->3
        buttons[tabIndex - 5].classList.add('active');
    }

    // 第 8 題 檢查答案邏輯
    function checkAnswer() {
        const checkboxes = document.querySelectorAll('input[name="q8"]:checked');
        const feedbackDiv = document.getElementById('feedback');
        
        let userValues = [];
        checkboxes.forEach((cb) => {
            userValues.push(cb.value);
        });
        
        // 正確答案：A, C, D
        const correctAnswers = ["A", "C", "D"];
        userValues.sort(); // 排序以便比較

        // 判斷邏輯
        let isCorrect = false;
        if (userValues.length === correctAnswers.length && 
            userValues.every((val, index) => val === correctAnswers[index])) {
            isCorrect = true;
        }

        // 顯示回饋
        feedbackDiv.style.display = 'block';
        if (isCorrect) {
            feedbackDiv.className = 'feedback-area feedback-success';
            feedbackDiv.innerHTML = '恭喜答對！<br>健保核心業務（納保、退保、查詢）就是應優先納入的範圍。<br>請點擊「一鍵看解析」來鞏固觀念。';
        } else {
            feedbackDiv.className = 'feedback-area feedback-error';
            // 分析錯誤
            let missing = correctAnswers.filter(x => !userValues.includes(x));
            let extra = userValues.filter(x => !correctAnswers.includes(x));
            
            let msg = '答案不完全正確喔！<br>';
            if (extra.length > 0) msg += `多選了非核心業務：${extra.join(', ')}（這是行政支援系統）<br>`;
            if (missing.length > 0) msg += `漏選了核心業務：${missing.join(', ')}<br>`;
            if (userValues.length === 0) msg += '請至少勾選您認為正確的選項。';
            
            feedbackDiv.innerHTML = msg;
        }
    }

    // 重置功能
    function resetQuiz() {
        // 清空 Checkbox
        const checkboxes = document.querySelectorAll('input[name="q8"]');
        checkboxes.forEach(cb => cb.checked = false);
        
        // 隱藏回饋與解析
        document.getElementById('feedback').style.display = 'none';
        document.getElementById('explanation').style.display = 'none';
        
        // 重置小互動
        const radios = document.querySelectorAll('input[type="radio"]');
        radios.forEach(r => r.checked = false);
        document.getElementById('mini-res-1').innerText = '';
        document.getElementById('mini-res-2').innerText = '';

        // 捲動回頂部
        document.getElementById('q8-area').scrollIntoView({ behavior: 'smooth' });
    }

    // 顯示/隱藏解析
    function toggleExplanation() {
        const expDiv = document.getElementById('explanation');
        if (expDiv.style.display === 'none' || expDiv.style.display === '') {
            expDiv.style.display = 'block';
            expDiv.scrollIntoView({ behavior: 'smooth' });
        } else {
            expDiv.style.display = 'none';
        }
    }

    // 小互動邏輯
    function checkMini(qNum) {
        const resultSpan = document.getElementById(`mini-res-1`); // Q1 span
        const resultSpan2 = document.getElementById(`mini-res-2`); // Q2 span

        if (qNum === 1) {
            const val = document.querySelector('input[name="mini1"]:checked').value;
            if (val === 'no') {
                resultSpan.innerHTML = '<span style="color:var(--correct-color);">[正確]</span> 觀念正確！主要業務沒納入是不合理的。';
            } else {
                resultSpan.innerHTML = '<span style="color:var(--wrong-color);">[錯誤]</span> 健保局如果不保護健保系統，反而只保護請假單，這樣本末倒置囉！';
            }
        } else if (qNum === 2) {
            const val = document.querySelector('input[name="mini2"]:checked').value;
            if (val === 'health') {
                resultSpan2.innerHTML = '<span style="color:var(--correct-color);">[正確]</span> 沒錯，民眾個資最重要。';
            } else {
                resultSpan2.innerHTML = '<span style="color:var(--wrong-color);">[錯誤]</span> 員工無法請假頂多內部抱怨，但民眾查不到健保或個資外洩會上新聞的！';
            }
        }
    }
</script>

</body>
</html>