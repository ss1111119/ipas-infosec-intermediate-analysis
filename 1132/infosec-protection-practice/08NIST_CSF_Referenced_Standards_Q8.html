<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Q8: NIST CSF åƒè€ƒæ¨™æº–è¾¨æ | è³‡å®‰è¦åŠƒå¯¦å‹™</title>
    
    <!-- 1. å¤–éƒ¨è³‡æº (CDN with integrity/crossorigin) -->
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" xintegrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <!-- FontAwesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet" xintegrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Google Fonts (Noto Sans TC) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Tailwind CSS (Script format for standalone usage) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        /* 2. èªçŸ¥å‹å–„é…è‰²ç³»çµ± (Tokens) & åŸºç¤è¨­å®š */
        :root {
            --primary-blue: #2563eb;       /* å°ˆæ¥­è— */
            --memory-yellow: #fef9c3;      /* è¨˜æ†¶é«˜äº® */
            --correct-green: #059669;      /* æ­£ç¢º */
            --wrong-red: #dc2626;          /* éŒ¯èª¤ */
            --text-main: #1f2937;
            --bg-light: #f3f4f6;
            
            /* æ¨™ç±¤è‰² */
            --tag-gray: #6b7280;   /* æ³•è¦ */
            --tag-green: #10b981;  /* æ¨™æº– */
            --tag-red: #ef4444;    /* æŠ€è¡“ */
            --tag-orange: #f59e0b; /* ç®¡ç† */
            --tag-blue: #3b82f6;   /* ç¶²è·¯ */
        }

        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: var(--bg-light);
            color: var(--text-main);
            line-height: 1.6;
            padding: 20px 10px;
        }

        /* 3. å®¹å™¨è¦ç¯„ */
        .quiz-container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            overflow: hidden;
            padding: 40px;
            position: relative;
        }

        /* Header */
        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 15px;
            margin-bottom: 25px;
        }

        .badge-custom {
            font-size: 0.85rem;
            padding: 6px 12px;
            border-radius: 20px;
            font-weight: 500;
            color: white;
            margin-right: 5px;
        }
        .bg-tag-green { background-color: var(--tag-green); }
        .bg-tag-orange { background-color: var(--tag-orange); }

        /* Context Card */
        .context-card {
            background-color: #eff6ff;
            border-left: 5px solid var(--primary-blue);
            padding: 20px;
            border-radius: 4px;
            margin-bottom: 30px;
            font-size: 1rem;
            color: #1e3a8a;
        }

        /* Question Area */
        .question-text {
            font-size: 1.35rem;
            font-weight: 700;
            margin-bottom: 25px;
            line-height: 1.5;
        }

        .highlight-negative {
            color: var(--wrong-red);
            font-weight: 900;
            text-decoration: underline;
            text-underline-offset: 4px;
        }

        /* Options Interaction */
        .option-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option-label {
            display: flex;
            align-items: center;
            padding: 15px 20px;
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
        }

        .option-label:hover:not(.disabled) {
            border-color: var(--primary-blue);
            background-color: #f0f9ff;
            transform: translateY(-2px);
        }

        .option-input {
            margin-right: 15px;
            transform: scale(1.2);
            accent-color: var(--primary-blue);
        }

        /* Selected State */
        .option-input:checked + span {
            font-weight: 600;
            color: var(--primary-blue);
        }
        .option-label:has(.option-input:checked) {
            border-color: var(--primary-blue);
            background-color: #eff6ff;
        }

        /* Feedback States */
        .correct-answer {
            border-color: var(--correct-green) !important;
            background-color: #ecfdf5 !important;
            color: var(--correct-green) !important;
        }
        
        .wrong-answer {
            border-color: var(--wrong-red) !important;
            background-color: #fef2f2 !important;
            color: var(--wrong-red) !important;
            text-decoration: line-through;
        }

        .option-label.disabled {
            cursor: not-allowed;
            opacity: 0.9;
            transform: none !important;
        }

        /* Feedback Section */
        #feedback-area {
            display: none; /* JS toggles this */
        }
        
        .feedback-alert {
            margin-top: 30px;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            font-weight: 700;
            font-size: 1.2rem;
        }
        .feedback-success { background-color: #d1fae5; color: var(--correct-green); }
        .feedback-error { background-color: #fee2e2; color: var(--wrong-red); }

        /* Explanation Card */
        .explanation-card {
            margin-top: 25px;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            overflow: hidden;
        }
        .explanation-header {
            background-color: #f8fafc;
            padding: 15px 20px;
            font-weight: 700;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .explanation-body {
            padding: 25px;
            background-color: white;
            border-top: 1px solid #e5e7eb;
        }
        
        /* New Styles for Detailed Explanation Sections */
        .step-badge {
            background-color: var(--primary-blue);
            color: white;
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 0.9rem;
            margin-right: 8px;
            font-weight: bold;
        }
        .section-title {
            font-weight: 700;
            color: var(--text-main);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            font-size: 1.1rem;
        }
        .section-box {
            background-color: #f8fafc;
            border-left: 4px solid #cbd5e1;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 0 8px 8px 0;
        }
        .highlight-text {
            background-color: var(--memory-yellow);
            padding: 0 4px;
            font-weight: 600;
        }
        
        /* Self Check specific */
        .self-check-area {
            margin-top: 25px;
            background-color: #f0fdf4;
            border: 1px solid #bbf7d0;
            border-radius: 12px;
            padding: 20px;
        }
        
        details summary {
            font-weight: 700;
            cursor: pointer;
            color: #166534;
            padding: 8px 0;
        }
        
        details[open] summary {
            border-bottom: 1px solid #bbf7d0;
            margin-bottom: 10px;
        }

        /* Animations */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translate3d(0, 20px, 0); }
            to { opacity: 1; transform: translate3d(0, 0, 0); }
        }
        .animate-fade-up {
            animation: fadeInUp 0.5s ease-out forwards;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .quiz-container { padding: 20px; border-radius: 0; box-shadow: none; }
            .option-label { padding: 12px; }
            .btn-action { width: 100%; margin-bottom: 10px; height: 50px; }
            .question-text { font-size: 1.15rem; }
        }
    </style>
</head>
<body>

<div class="quiz-container">
    <!-- UI Skeleton Part 1: Header -->
    <div class="quiz-header">
        <div>
            <span class="text-secondary fw-bold me-2">Question 8</span>
            <span class="badge-custom bg-tag-green">æ¨™æº–</span>
            <span class="badge-custom bg-tag-orange">ç®¡ç†</span>
        </div>
        <div id="status-indicator" class="text-secondary fw-bold">
            <i class="far fa-circle"></i> æœªä½œç­”
        </div>
    </div>

    <!-- UI Skeleton Part 2: Context -->
    <div class="context-card">
        <i class="fas fa-info-circle me-2"></i>
        <strong>æƒ…å¢ƒï¼š</strong> NIST ç¶²è·¯å®‰å…¨æ¡†æ¶ï¼ˆCSFï¼‰æ—¨åœ¨å”åŠ©çµ„ç¹”ç®¡ç†èˆ‡é™ä½è³‡å®‰é¢¨éšªï¼Œé©ç”¨æ–¼ IT èˆ‡ OT ç’°å¢ƒï¼Œä¸”è¨­è¨ˆæ™‚åƒè€ƒäº†å¤šé …åœ‹éš›æ¨™æº–ã€‚
    </div>

    <!-- UI Skeleton Part 3: Question -->
    <div class="question-text">
        æœ‰é—œ NIST CSF æ‰€åƒè€ƒã€é©ç”¨æ–¼ IT èˆ‡ OTï¼ˆç‡Ÿé‹ç§‘æŠ€ï¼Œä¾‹å¦‚å·¥æ§ç³»çµ±ï¼‰ç’°å¢ƒä¹‹åœ‹éš›æ¨™æº–æˆ–æŒ‡å¼•ï¼Œä¸‹åˆ—æ•˜è¿°ä½•è€…<span class="highlight-negative">éŒ¯èª¤</span>ï¼Ÿ
    </div>

    <form id="quiz-form">
        <div class="option-group" id="options-container">
            <!-- Options will be injected here by JS -->
        </div>
    </form>

    <!-- UI Skeleton Part 4: Action Area -->
    <div class="mt-4 text-center">
        <button id="submit-btn" class="btn btn-primary btn-lg px-5 rounded-pill shadow-sm btn-action hover:scale-105 transition-transform duration-200">
            <i class="fas fa-paper-plane me-2"></i>é€å‡ºç­”æ¡ˆ
        </button>
        <button id="retry-btn" class="btn btn-outline-secondary btn-lg px-5 rounded-pill shadow-sm btn-action d-none hover:scale-105 transition-transform duration-200">
            <i class="fas fa-redo me-2"></i>é‡æ–°æŒ‘æˆ°
        </button>
    </div>

    <!-- UI Skeleton Part 5: Feedback -->
    <div id="feedback-area" class="animate-fade-up">
        <div id="feedback-message" class="feedback-alert"></div>
    </div>

    <!-- UI Skeleton Part 6: Explain (Expanded) -->
    <div id="explanation-area" class="d-none animate-fade-up">
        <div class="explanation-card">
            <div class="explanation-header" onclick="toggleExplanation()">
                <span><i class="fas fa-book-open me-2 text-primary"></i> æ·±åº¦è§£æï¼šå¾è§£é¡Œåˆ°ç²¾é€š</span>
                <i class="fas fa-chevron-down" id="explain-toggle-icon"></i>
            </div>
            <div class="explanation-body" id="explanation-content" style="display: none;">
                
                <!-- 1. é—œéµå­—èˆ‡ç¿»è­¯ -->
                <div class="section-box">
                    <div class="section-title"><span class="step-badge">ç¬¬ä¸€æ­¥</span>æ‰¾é—œéµå­— & ç™½è©±ç¿»è­¯</div>
                    <p class="mb-1"><strong>ğŸ” é—œéµå­—ï¼š</strong> <span class="text-primary fw-bold">NIST CSF</span>ï¼ˆæ¡†æ¶ï¼‰ã€<span class="text-primary fw-bold">IT èˆ‡ OT</span>ï¼ˆæ¶µè“‹ç¯„åœï¼‰ã€<span class="text-primary fw-bold">800-72</span>ï¼ˆé™·é˜±æ•¸å­—ï¼‰ã€‚</p>
                    <p class="mb-0"><strong>ğŸ—£ï¸ ç™½è©±ç¿»è­¯ï¼š</strong> ã€Œä¸‹é¢å“ªå€‹æ¨™æº–ã€ä¸æ˜¯ã€ NIST CSF ç”¨ä¾†ä½œç‚º IT/OT è³‡å®‰ç®¡ç†çš„åƒè€ƒä¾æ“šï¼Ÿã€</p>
                </div>

                <!-- 2. è§£é¡Œæ€è·¯èˆ‡ç”Ÿæ´»ä¾‹å­ -->
                <div class="section-box" style="border-left-color: #3b82f6;">
                    <div class="section-title"><span class="step-badge" style="background-color: #3b82f6;">ç¬¬äºŒæ­¥</span>è§£é¡Œæ€è·¯ & åŸç†</div>
                    <ul class="list-unstyled mb-2">
                        <li><strong>ğŸ¯ æ ¸å¿ƒè§€å¿µï¼š</strong> NIST CSF æ˜¯ã€Œæ•´åˆæ—¢æœ‰æ¨™æº–ã€çš„é«˜éšæ¡†æ¶ã€‚å®ƒä¸æœƒæ†‘ç©ºå‰µé€ ï¼Œè€Œæ˜¯åƒè€ƒï¼š
                            <ul>
                                <li><strong>IT ç«¯ï¼š</strong> ISO 27001, NIST SP 800-53</li>
                                <li><strong>OT ç«¯ï¼š</strong> ISA/IEC 62443</li>
                            </ul>
                        </li>
                        <li><strong>ğŸ’¡ ç”Ÿæ´»ä¾‹å­ï¼š</strong> å°±åƒå¯«ã€Œäº¤é€šå®‰å…¨å®ˆå‰‡ã€(CSF)ï¼Œæœƒåƒè€ƒã€Œäº¤é€šæ³•è¦ã€(27001) å’Œã€Œé“è·¯è¨­è¨ˆè¦ç¯„ã€(62443)ï¼Œä½†ä¸æœƒæŠŠã€Œé§•ç…§è™Ÿç¢¼ç·¨ç¢¼è¦å‰‡ã€(800-72) ç•¶ä½œæ ¸å¿ƒä¾æ“šã€‚</li>
                    </ul>
                </div>

                <!-- 3. é¸é …åˆ†æ -->
                <div class="section-box" style="border-left-color: #10b981;">
                    <div class="section-title"><span class="step-badge" style="background-color: #10b981;">ç¬¬ä¸‰æ­¥</span>é¸é …åˆ†æ</div>
                    <div class="row g-2">
                        <div class="col-12"><i class="fas fa-check text-success me-2"></i><strong>(A) ISO/IEC 27001ï¼š</strong> ISMS æ¨™æº–ï¼ŒCSF æ ¸å¿ƒåƒè€ƒã€‚</div>
                        <div class="col-12"><i class="fas fa-check text-success me-2"></i><strong>(B) ISA 62443-2-1ï¼š</strong> å·¥æ§è³‡å®‰ç®¡ç†ï¼ŒCSF åœ¨ OT ç«¯çš„é‡è¦ä¾æ“šã€‚</div>
                        <div class="col-12"><i class="fas fa-times text-danger me-2"></i><strong>(C) NIST SP 800-72ï¼š</strong> <span class="text-danger fw-bold">é€™æ˜¯ç­”æ¡ˆã€‚</span>ä¸»é¡Œæ˜¯ã€ŒPIV æ™ºæ…§å¡ä»‹é¢æŒ‡å¼•ã€ï¼Œå±¬æ–¼å–®ä¸€æŠ€è¡“ç´°ç¯€ï¼Œéæ•´é«”æ¡†æ¶åƒè€ƒã€‚</div>
                        <div class="col-12"><i class="fas fa-check text-success me-2"></i><strong>(D) ISA 62443-3-3ï¼š</strong> å·¥æ§ç³»çµ±å®‰å…¨è¦æ±‚ï¼ŒCSF åƒè€ƒé‡é»ã€‚</div>
                    </div>
                </div>

                <!-- 4. å»¶ä¼¸èˆ‡é¿å‘ -->
                <div class="section-box" style="border-left-color: #f59e0b;">
                    <div class="section-title"><span class="step-badge" style="background-color: #f59e0b;">ç¬¬å››æ­¥</span>è§¸é¡æ—é€š & é¿å‘æŒ‡å—</div>
                    
                    <div class="mb-2">
                        <strong>ğŸš§ å¸¸è¦‹é™·é˜± / å¿ƒç†ç›²é»ï¼š</strong>
                        <p class="mb-0 text-secondary">çœ‹åˆ° "NIST SP 800" é–‹é ­å°±ä»¥ç‚ºä¸€å®šæ˜¯ CSF åƒè€ƒæ¨™æº–ã€‚è¦å•è‡ªå·±ï¼šã€Œé€™æ˜¯åœ¨è¬›æ•´é«”ç®¡ç†ï¼Œé‚„æ˜¯ç‰¹å®šæŠ€è¡“ï¼Ÿã€</p>
                    </div>
                    
                    <div class="mb-2">
                        <strong>ğŸ“š è§€å¿µå»¶ä¼¸ï¼š</strong>
                        <p class="mb-0 text-secondary">è‹¥é¸é …æ”¹æˆ <span class="fw-bold text-dark">NIST SP 800-53</span> (æ§åˆ¶æªæ–½) æˆ– <span class="fw-bold text-dark">800-82</span> (å·¥æ§è³‡å®‰æŒ‡å¼•)ï¼Œå°±æ˜¯æ­£ç¢ºçš„åƒè€ƒæ¨™æº–ã€‚</p>
                    </div>

                    <div class="alert alert-warning border-0 mt-3 mb-0 p-2">
                        <i class="fas fa-star text-warning me-1"></i> <strong>è¨˜æ†¶å£è¨£ï¼š</strong>
                        <span class="fw-bold text-dark">ã€ŒCSF çœ‹æ¡†æ¶ï¼Œä¸çœ‹è­‰ä»¶å¡ (800-72)ã€‚ã€</span>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- UI Skeleton Part 7: Self-Check -->
    <div id="self-check-area" class="d-none animate-fade-up">
        <div class="self-check-area">
            <h5 class="fw-bold mb-3"><i class="fas fa-clipboard-check me-2"></i>è‡ªæˆ‘æª¢æ¸¬ (é»æ“Šå±•é–‹ç­”æ¡ˆ)</h5>
            
            <details class="mb-2">
                <summary>Q1. å¦‚æœæŠŠé¸é … (C) æ”¹æˆ NIST SP 800-53ï¼Œç­”æ¡ˆæœƒæ”¹è®Šå—ï¼Ÿ</summary>
                <div class="ps-3 py-2 text-dark border-start border-3 border-success bg-white rounded-end">
                    <strong>æœƒæ”¹è®Šã€‚</strong><br>
                    800-53 æ˜¯è³‡å®‰æ§åˆ¶æ¸…å–®ï¼Œæ˜¯ CSF æœ€é‡è¦çš„åƒè€ƒä¾†æºä¹‹ä¸€ï¼Œæ‰€ä»¥å®ƒæœƒè®Šæˆã€Œæ­£ç¢ºæ•˜è¿°ã€ï¼Œé€™é¡Œå°±æ²’æœ‰éŒ¯èª¤é¸é …äº†ã€‚
                </div>
            </details>

            <details class="mb-2">
                <summary>Q2. ç‚ºä»€éº¼ ISA 62443 ç³»åˆ—æœƒè¢« CSF ç´å…¥åƒè€ƒï¼Ÿ</summary>
                <div class="ps-3 py-2 text-dark border-start border-3 border-success bg-white rounded-end">
                    å› ç‚º CSF çš„è¨­è¨ˆç›®æ¨™æ˜¯åŒæ™‚æ¶µè“‹ <strong>IT (è³‡è¨ŠæŠ€è¡“)</strong> èˆ‡ <strong>OT (ç‡Ÿé‹ç§‘æŠ€)</strong>ï¼Œè€Œ 62443 æ­£æ˜¯ OT é ˜åŸŸçš„æ¬Šå¨æ¨™æº–ã€‚
                </div>
            </details>

            <details>
                <summary>Q3. CSF æœ¬èº«æ˜¯å¼·åˆ¶æ¨™æº–å—ï¼Ÿ</summary>
                <div class="ps-3 py-2 text-dark border-start border-3 border-success bg-white rounded-end">
                    <strong>ä¸æ˜¯ã€‚</strong><br>
                    CSF æ˜¯ä¸€å€‹è‡ªé¡˜æ€§ (Voluntary) çš„é«˜éšç®¡ç†æ¡†æ¶ï¼Œç”¨ä¾†å”åŠ©çµ„ç¹”æºé€šèˆ‡ç®¡ç†é¢¨éšªã€‚
                </div>
            </details>
        </div>
    </div>

</div>

<script>
    // è³‡æ–™çµæ§‹
    const quizData = {
        id: 8,
        correctValue: "C",
        options: [
            { id: "A", text: "ISO/IEC 27001ï¼š2013" },
            { id: "B", text: "ISA 62443-2-1ï¼š2009" },
            { id: "C", text: "NIST SP 800-72" },
            { id: "D", text: "ISA 62443-3-3ï¼š2013" }
        ]
    };

    // DOM Elements
    const optionsContainer = document.getElementById('options-container');
    const submitBtn = document.getElementById('submit-btn');
    const retryBtn = document.getElementById('retry-btn');
    const feedbackArea = document.getElementById('feedback-area');
    const feedbackMessage = document.getElementById('feedback-message');
    const explanationArea = document.getElementById('explanation-area');
    const explanationContent = document.getElementById('explanation-content');
    const selfCheckArea = document.getElementById('self-check-area');
    const statusIndicator = document.getElementById('status-indicator');
    const explainToggleIcon = document.getElementById('explain-toggle-icon');

    // åˆå§‹åŒ–
    function initQuiz() {
        // é‡ç½®ç‹€æ…‹
        optionsContainer.innerHTML = '';
        feedbackArea.style.display = 'none';
        explanationArea.classList.add('d-none');
        explanationContent.style.display = 'none'; // æ”¶åˆç‹€æ…‹
        explainToggleIcon.className = "fas fa-chevron-down"; // é‡ç½®icon
        selfCheckArea.classList.add('d-none');
        submitBtn.classList.remove('d-none');
        retryBtn.classList.add('d-none');
        statusIndicator.innerHTML = '<i class="far fa-circle"></i> æœªä½œç­”';
        statusIndicator.className = "text-secondary fw-bold";

        // éš¨æ©ŸåŒ–é¸é … (Fisher-Yates Shuffle)
        let shuffledOptions = [...quizData.options];
        for (let i = shuffledOptions.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [shuffledOptions[i], shuffledOptions[j]] = [shuffledOptions[j], shuffledOptions[i]];
        }

        // æ¸²æŸ“é¸é …
        shuffledOptions.forEach(opt => {
            const label = document.createElement('label');
            label.className = 'option-label';
            label.dataset.id = opt.id; // ç¶å®šåŸå§‹IDç”¨æ–¼åˆ¤å®š
            
            label.innerHTML = `
                <input type="radio" name="quizOption" value="${opt.id}" class="option-input">
                <span class="fs-5">${opt.text}</span>
            `;

            // è¼”åŠ©é»æ“Šæ•ˆæœ (äº‹ä»¶å§”æ´¾è™•ç†)
            label.addEventListener('click', function(e) {
                // é˜²æ­¢ç¦ç”¨å¾Œé»æ“Š
                if (this.classList.contains('disabled')) return;
                
                // ç§»é™¤å…¶ä»–é¸ä¸­æ¨£å¼
                document.querySelectorAll('.option-label').forEach(l => {
                    l.style.borderColor = '#e5e7eb';
                    l.style.backgroundColor = 'white';
                });
                // æ·»åŠ ç•¶å‰é¸ä¸­æ¨£å¼
                this.style.borderColor = 'var(--primary-blue)';
                this.style.backgroundColor = '#eff6ff';
            });

            optionsContainer.appendChild(label);
        });
    }

    // æäº¤é‚è¼¯
    submitBtn.addEventListener('click', () => {
        const selected = document.querySelector('input[name="quizOption"]:checked');
        
        // é˜²å‘†ï¼šæœªé¸
        if (!selected) {
            // ä½¿ç”¨ Bootstrap Toast æˆ–ç°¡å–® alertï¼Œé€™è£¡ä½¿ç”¨ç°¡å–®è¦–è¦ºæ™ƒå‹•æç¤º
            submitBtn.classList.add('btn-danger');
            submitBtn.innerText = 'è«‹å…ˆé¸æ“‡ä¸€å€‹é¸é …';
            setTimeout(() => {
                submitBtn.classList.remove('btn-danger');
                submitBtn.innerHTML = '<i class="fas fa-paper-plane me-2"></i>é€å‡ºç­”æ¡ˆ';
            }, 1000);
            return;
        }

        const userAns = selected.value;
        const isCorrect = userAns === quizData.correctValue;

        // ç¦ç”¨æ‰€æœ‰é¸é …
        document.querySelectorAll('.option-input').forEach(input => input.disabled = true);
        document.querySelectorAll('.option-label').forEach(label => label.classList.add('disabled'));
        submitBtn.classList.add('d-none');
        retryBtn.classList.remove('d-none');

        // è¦–è¦ºåé¥‹
        const allLabels = document.querySelectorAll('.option-label');
        allLabels.forEach(label => {
            if (label.dataset.id === quizData.correctValue) {
                label.classList.add('correct-answer'); // æ¨™ç¤ºæ­£è§£
                label.innerHTML += ` <i class="fas fa-check-circle ms-auto text-success fs-4"></i>`;
            }
            if (label.dataset.id === userAns && !isCorrect) {
                label.classList.add('wrong-answer'); // æ¨™ç¤ºéŒ¯é¸
                label.innerHTML += ` <i class="fas fa-times-circle ms-auto text-danger fs-4"></i>`;
            }
        });

        // Feedback å€åŸŸ
        feedbackArea.style.display = 'block';
        if (isCorrect) {
            feedbackMessage.className = 'feedback-alert feedback-success';
            feedbackMessage.innerHTML = '<i class="fas fa-crown me-2"></i>æ­å–œç­”å°ï¼è§€å¿µéå¸¸æ¸…æ™°ï¼';
            statusIndicator.innerHTML = '<i class="fas fa-check-circle"></i> ç­”å°';
            statusIndicator.className = "text-success fw-bold";
        } else {
            feedbackMessage.className = 'feedback-alert feedback-error';
            feedbackMessage.innerHTML = '<i class="fas fa-bomb me-2"></i>å“å‘€ç­”éŒ¯äº†ï¼è«‹æŸ¥çœ‹æ­£ç¢ºç­”æ¡ˆèˆ‡è§£æã€‚';
            statusIndicator.innerHTML = '<i class="fas fa-times-circle"></i> ç­”éŒ¯';
            statusIndicator.className = "text-danger fw-bold";
        }

        // é¡¯ç¤ºè§£æèˆ‡è‡ªæˆ‘æª¢æ¸¬
        explanationArea.classList.remove('d-none');
        selfCheckArea.classList.remove('d-none');
        
        // è‡ªå‹•å±•é–‹è§£æä»¥ä¾¿é–±è®€
        setTimeout(() => {
             // å¹³æ»‘æ²å‹•
            explanationArea.scrollIntoView({ behavior: 'smooth', block: 'start' });
            // è‡ªå‹•å±•é–‹å…§å®¹
            explanationContent.style.display = 'block';
            explainToggleIcon.className = "fas fa-chevron-up";
        }, 300);
    });

    // é‡æ–°æŒ‘æˆ°
    retryBtn.addEventListener('click', () => {
        initQuiz();
        window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    // è§£ææ”¶åˆåˆ‡æ›
    function toggleExplanation() {
        if (explanationContent.style.display === 'none') {
            explanationContent.style.display = 'block';
            explainToggleIcon.className = "fas fa-chevron-up";
        } else {
            explanationContent.style.display = 'none';
            explainToggleIcon.className = "fas fa-chevron-down";
        }
    }

    // å•Ÿå‹•
    initQuiz();

</script>

</body>
</html>