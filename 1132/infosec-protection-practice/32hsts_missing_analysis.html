<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è³‡å®‰é¡Œåº«è§£æ - HSTS é¢¨éšªåˆ†æ</title>
    
    <!-- å¼•å…¥ Bootstrap 5 (CSS) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" xintegrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <!-- å¼•å…¥ FontAwesome (Icon) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" xintegrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- å¼•å…¥ Google Fonts (Noto Sans TC) -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">

    <style>
        /* --- èªçŸ¥å‹å–„é…è‰²ç³»çµ± (Tokens) --- */
        :root {
            --primary-color: #2563eb;       /* å°ˆæ¥­è— */
            --highlight-bg: #fef9c3;        /* è¨˜æ†¶é«˜äº® (æŸ”å’Œé»ƒ) */
            --success-color: #059669;       /* æ­£ç¢ºç¶  */
            --error-color: #dc2626;         /* éŒ¯èª¤ç´… */
            --text-main: #1f2937;           /* ä¸»è¦æ–‡å­— */
            --text-secondary: #4b5563;      /* æ¬¡è¦æ–‡å­— */
            --bg-body: #f3f4f6;             /* èƒŒæ™¯ç° */
            
            /* æ¨™ç±¤è‰² */
            --tag-network: #3b82f6;         /* ç¶²è·¯ (è—) */
            --step-header: #4f46e5;         /* æ­¥é©Ÿæ¨™é¡Œè‰² */
        }

        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: var(--bg-body);
            color: var(--text-main);
            line-height: 1.6;
            padding-bottom: 50px;
        }

        /* --- å®¹å™¨èˆ‡å¡ç‰‡è¦ç¯„ --- */
        .main-container {
            max-width: 900px;
            margin: 40px auto;
            background: #fff;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            padding: 40px;
            overflow: hidden;
        }

        @media (max-width: 768px) {
            .main-container {
                margin: 20px 10px;
                padding: 20px 16px;
            }
            h4 { font-size: 1.2rem; }
            .btn { height: 48px; display: flex; align-items: center; justify-content: center; }
        }

        /* --- Header --- */
        .exam-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 15px;
            margin-bottom: 25px;
        }
        
        .question-badge {
            background-color: var(--primary-color);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
        }

        .tag-badge {
            background-color: var(--tag-network);
            color: white;
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 0.8rem;
            margin-left: 10px;
        }

        /* --- Context & Question --- */
        .context-card {
            background-color: #f8fafc;
            border-left: 5px solid var(--primary-color);
            padding: 15px 20px;
            margin-bottom: 25px;
            border-radius: 0 8px 8px 0;
            font-size: 1.05rem;
        }

        .question-text {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--text-main);
        }

        .negative-word {
            color: var(--error-color);
            font-weight: 900;
            text-decoration: underline;
        }
        
        .keyword-highlight {
            background-color: var(--highlight-bg);
            padding: 0 4px;
            border-radius: 4px;
            font-weight: bold;
            color: #d97706;
        }

        /* --- Options --- */
        .options-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option-item {
            position: relative;
            padding: 15px 20px;
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: flex-start;
        }

        .option-item:hover {
            border-color: var(--primary-color);
            background-color: #eff6ff;
            transform: translateY(-2px);
        }

        .option-item.selected {
            border-color: var(--primary-color);
            background-color: #e0e7ff;
            font-weight: 500;
        }

        .option-input {
            margin-top: 5px;
            margin-right: 15px;
            accent-color: var(--primary-color);
            transform: scale(1.2);
        }

        /* --- Feedback States --- */
        .option-item.correct-answer {
            border-color: var(--success-color);
            background-color: #d1fae5; /* æ·ºç¶  */
        }
        
        .option-item.wrong-choice {
            border-color: var(--error-color);
            background-color: #fee2e2; /* æ·ºç´… */
        }

        .feedback-area {
            margin-top: 25px;
            display: none; /* åˆå§‹éš±è— */
            animation: fadeInUp 0.5s ease forwards;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .alert-custom {
            border-radius: 10px;
            padding: 15px 20px;
            display: flex;
            align-items: start;
        }
        
        .alert-success-custom {
            background-color: #ecfdf5;
            border: 1px solid #a7f3d0;
            color: #065f46;
        }

        .alert-danger-custom {
            background-color: #fef2f2;
            border: 1px solid #fecaca;
            color: #991b1b;
        }

        /* --- Action Area --- */
        .action-area {
            margin-top: 30px;
            text-align: center;
        }

        .btn-submit {
            background-color: var(--primary-color);
            color: white;
            padding: 12px 40px;
            border-radius: 30px;
            font-size: 1.1rem;
            font-weight: 600;
            border: none;
            transition: transform 0.1s;
        }

        .btn-submit:active {
            transform: scale(0.95);
        }

        .btn-retry {
            background-color: #6b7280;
            color: white;
            padding: 12px 40px;
            border-radius: 30px;
            font-size: 1.1rem;
            font-weight: 600;
            border: none;
            display: none; /* åˆå§‹éš±è— */
        }

        /* --- Explain Card --- */
        .explain-card {
            margin-top: 25px;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            overflow: hidden;
        }

        .explain-header {
            background-color: #f3f4f6;
            padding: 15px 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 700;
        }

        .explain-body {
            padding: 25px;
            background-color: #fff;
            display: none; /* é è¨­æ”¶åˆ */
        }

        .step-title {
            color: var(--step-header);
            font-weight: 800;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }
        
        .step-block {
            margin-bottom: 25px;
            border-bottom: 1px dashed #e5e7eb;
            padding-bottom: 20px;
        }

        .step-block:last-child {
            border-bottom: none;
        }

        /* --- Specific Content Styling --- */
        .life-example {
            background-color: #f0f9ff;
            border-left: 4px solid #0ea5e9;
            padding: 10px 15px;
            margin: 10px 0;
            border-radius: 0 8px 8px 0;
            color: #0369a1;
        }

        .blindspot-box {
            background-color: #fef2f2;
            border: 1px solid #fecaca;
            padding: 15px;
            border-radius: 8px;
            color: #991b1b;
        }

        .mnemonic-box {
            background-color: #fffbeb;
            border: 2px solid #fcd34d;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            margin-top: 20px;
        }

        /* --- Self Check --- */
        .self-check-container {
            margin-top: 30px;
            padding: 25px;
            background-color: #f0fdf4;
            border-radius: 16px;
            border: 1px solid #bbf7d0;
        }

        .check-item {
            margin-bottom: 15px;
            background: white;
            border-radius: 8px;
            padding: 0;
            overflow: hidden;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }

        .check-question {
            padding: 12px 15px;
            cursor: pointer;
            font-weight: 600;
            color: var(--text-main);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .check-question:hover {
            background-color: #f9fafb;
        }
        
        .check-answer {
            padding: 15px;
            background-color: #ecfdf5;
            color: #065f46;
            border-top: 1px solid #e5e7eb;
            font-size: 0.95rem;
        }

        /* Utility */
        .hidden { display: none !important; }
    </style>
</head>
<body>

<div class="container">
    <div class="main-container">
        
        <!-- Header -->
        <div class="exam-header">
            <div>
                <span class="question-badge">ç¬¬ 32 é¡Œ</span>
                <span class="tag-badge">ç¶²è·¯å®‰å…¨</span>
            </div>
            <div id="status-badge" class="text-secondary fw-bold">
                <i class="fa-regular fa-circle-question"></i> ç­‰å¾…ä½œç­”
            </div>
        </div>

        <!-- Context -->
        <div class="context-card">
            <i class="fa-solid fa-magnifying-glass me-2"></i>
            æƒ…å¢ƒï¼šåœ¨é€²è¡Œç¶²ç«™æª¢æŸ¥æ™‚ï¼Œç™¼ç¾å…¶<span class="negative-word">æœªè¨­å®š</span> HTTP Strict Transport Securityï¼ˆHSTSï¼ŒHTTP åš´æ ¼å‚³è¼¸å®‰å…¨ï¼‰æ¨™é ­ã€‚
        </div>

        <!-- Question -->
        <div class="mb-4">
            <div class="question-text">
                è«‹å•ä¸‹åˆ—æ•˜è¿°å“ªäº›è¼ƒç‚ºé©åˆ‡ï¼Ÿï¼ˆè¤‡é¸ï¼‰
            </div>
            
            <div class="options-group" id="options-container">
                <!-- JS å°‡åœ¨æ­¤æ¸²æŸ“éš¨æ©Ÿé¸é … -->
            </div>
        </div>

        <!-- Action Area -->
        <div class="action-area">
            <button class="btn btn-submit shadow-sm" id="submit-btn" onclick="checkAnswer()">
                <i class="fa-regular fa-paper-plane me-2"></i>é€å‡ºç­”æ¡ˆ
            </button>
            <button class="btn btn-retry shadow-sm" id="retry-btn" onclick="resetExam()">
                <i class="fa-solid fa-rotate-right me-2"></i>é‡æ–°æŒ‘æˆ°
            </button>
        </div>

        <!-- Feedback -->
        <div class="feedback-area" id="feedback-area">
            <div class="alert-custom" id="feedback-alert">
                <div class="me-3 fs-4" id="feedback-icon"></div>
                <div>
                    <h5 class="alert-heading fw-bold mb-1" id="feedback-title"></h5>
                    <p class="mb-0" id="feedback-text"></p>
                </div>
            </div>
        </div>

        <!-- Deep Dive Analysis (The Core Content) -->
        <div class="explain-card mt-4" id="explain-card">
            <div class="explain-header" onclick="toggleExplain()">
                <span><i class="fa-solid fa-book-open me-2"></i> é€æ­¥è§£é¡Œèˆ‡æ·±åº¦è§£æ (é»æ“Šå±•é–‹)</span>
                <i class="fa-solid fa-chevron-down" id="explain-arrow"></i>
            </div>
            <div class="explain-body" id="explain-body">
                
                <!-- ç¬¬ä¸€æ­¥ï¼šæ‰¾é—œéµå­— -->
                <div class="step-block">
                    <h5 class="step-title"><i class="fa-solid fa-1 me-2"></i>ç¬¬ä¸€æ­¥ï¼šæ‰¾é—œéµå­—</h5>
                    <p>
                        <span class="keyword-highlight">æœªè¨­å®š HSTS</span>ï¼šæœ¬é¡Œæ ¸å¿ƒï¼Œä»£è¡¨ç€è¦½å™¨ã€Œæ²’æœ‰ã€è¢«å¼·åˆ¶åªèƒ½ç”¨ HTTPSã€‚<br>
                        <span class="keyword-highlight">ä¸­é–“äººæ”»æ“Š (MITM)</span>ï¼šå‚³è¼¸æœªåŠ å¯†æ™‚å¸¸è¦‹æ”»æ“Šã€‚<br>
                        <span class="keyword-highlight">SSLStrip</span>ï¼šé‡å°ã€Œé™ç´šã€çš„æ”»æ“Šæ‰‹æ³•ã€‚<br>
                        <span class="keyword-highlight">Port 80 / 443</span>ï¼šåˆ†åˆ¥ä»£è¡¨ HTTP èˆ‡ HTTPSï¼Œè€ƒé©—ä¿®è£œè§€å¿µã€‚
                    </p>
                </div>

                <!-- ç¬¬äºŒæ­¥ï¼šç™½è©±ç¿»è­¯ -->
                <div class="step-block">
                    <h5 class="step-title"><i class="fa-solid fa-2 me-2"></i>ç¬¬äºŒæ­¥ï¼šç™½è©±ç¿»è­¯</h5>
                    <p>é€™é¡Œåœ¨å•ï¼šã€Œå¦‚æœä¸€å€‹ç¶²ç«™æ²’æœ‰è¨­å®š HSTSï¼Œæœƒå¸¶ä¾†å“ªäº›é¢¨éšªï¼Ÿä»¥åŠå“ªäº›ã€ä¿®è£œæ–¹å¼ã€å…¶å¯¦æ˜¯éŒ¯èª¤çš„ï¼Ÿã€</p>
                </div>

                <!-- ç¬¬ä¸‰æ­¥ï¼šè§£é¡Œæ€è·¯ -->
                <div class="step-block">
                    <h5 class="step-title"><i class="fa-solid fa-3 me-2"></i>ç¬¬ä¸‰æ­¥ï¼šè§£é¡Œæ€è·¯ (åŸç†èˆ‡ç”Ÿæ´»ä¾‹å­)</h5>
                    <p><b>åŸç†èˆ‡è¦å‰‡ï¼š</b></p>
                    <ul>
                        <li><b>HSTS</b>ï¼šå‘Šè¨´ç€è¦½å™¨ã€Œä»¥å¾Œé€™å€‹ç¶²ç«™åªèƒ½ç”¨ HTTPSï¼Œå°±ç®—ä½¿ç”¨è€…æ‰“ http:// ä¹Ÿè¦è‡ªå‹•è½‰æˆ https://ã€ã€‚</li>
                        <li><b>é¢¨éšª</b>ï¼šæ²’æœ‰ HSTSï¼Œæ”»æ“Šè€…å¯ä»¥åœ¨ä½¿ç”¨è€…ç¬¬ä¸€æ¬¡é€£ç·šæ™‚ï¼ŒæŠŠ HTTPS å·å·ã€Œé™ç´šã€æˆ HTTPï¼Œé€™å°±æ˜¯ SSLStripã€‚</li>
                    </ul>
                    
                    <div class="life-example">
                        <i class="fa-solid fa-mug-hot me-2"></i><b>ç”Ÿæ´»ä¾‹å­ï¼š</b><br>
                        HSTS å°±åƒå­¸æ ¡è¦å®šã€Œä¸€å®šè¦èµ°æœ‰è­¦è¡›çš„æ­£é–€ (HTTPS)ã€ã€‚<br>
                        æ²’æœ‰ HSTSï¼Œé›–ç„¶æœ‰æ­£é–€ï¼Œä½†å­¸ç”Ÿç¬¬ä¸€æ¬¡ä¾†å¯èƒ½æœƒèª¤èµ°æ²’è­¦è¡›çš„å´é–€ (HTTP)ï¼Œé€™æ™‚å£äººå°±èƒ½åœ¨å´é–€åŸ‹ä¼ã€‚
                    </div>
                </div>

                <!-- ç¬¬å››æ­¥ï¼šé¸é …åˆ†æ -->
                <div class="step-block">
                    <h5 class="step-title"><i class="fa-solid fa-4 me-2"></i>ç¬¬å››æ­¥ï¼šé¸é …åˆ†æ</h5>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item border-0 px-0">
                            <i class="fa-solid fa-check text-success me-2"></i><b>(A) å¯èƒ½é­å—ä¸­é–“äººæ”»æ“Š (MITM)</b>ï¼š<br>
                            æœªå¼·åˆ¶åŠ å¯†ï¼Œæ”»æ“Šè€…å¯æ””æˆªæµé‡ã€‚
                        </li>
                        <li class="list-group-item border-0 px-0">
                            <i class="fa-solid fa-check text-success me-2"></i><b>(B) å¯èƒ½é­å— SSLStrip æ”»æ“Š</b>ï¼š<br>
                            SSLStrip å°ˆé–€åˆ©ç”¨æ²’æœ‰ HSTS çš„å¼±é»é€²è¡Œé™ç´šæ”»æ“Šã€‚
                        </li>
                        <li class="list-group-item border-0 px-0">
                            <i class="fa-solid fa-xmark text-danger me-2"></i><b>(C) åœç”¨ Port 80</b>ï¼š<br>
                            éŒ¯èª¤è§€å¿µï¼åœç”¨ Port 80 æœƒè®“ç›´æ¥è¼¸å…¥ç¶²å€çš„ä½¿ç”¨è€…ç„¡æ³•é€£ç·šã€‚æ­£ç¢ºæ˜¯é–‹è‘—ä½†è¨­å®š 301 è½‰å€ + HSTSã€‚
                        </li>
                        <li class="list-group-item border-0 px-0">
                            <i class="fa-solid fa-xmark text-danger me-2"></i><b>(D) åœç”¨ Port 443</b>ï¼š<br>
                            è‡ªæ®ºè¡Œç‚ºï¼Port 443 æ˜¯åŠ å¯†é€£ç·šç”¨çš„ï¼Œåœç”¨å®ƒç­‰æ–¼å®Œå…¨æ”¾æ£„å®‰å…¨æ€§ã€‚
                        </li>
                    </ul>
                </div>

                <!-- è§€å¿µè£œå……èˆ‡å»¶ä¼¸ -->
                <div class="step-block">
                    <h5 class="step-title"><i class="fa-solid fa-plus me-2"></i>è§€å¿µè£œå……èˆ‡è§¸é¡æ—é€š</h5>
                    <p><b>è§¸é¡æ—é€š (èˆ‰ä¸€åä¸‰)ï¼š</b></p>
                    <ul>
                        <li><b>è®Šå½¢é¡Œ</b>ï¼šå¦‚æœå•ã€Œå“ªä¸€ç¨® Header å¯é˜²æ­¢é™ç´šæ”»æ“Šï¼Ÿã€ç­”æ¡ˆå°±æ˜¯ HSTSã€‚</li>
                        <li><b>é€²éš</b>ï¼šå³ä½¿æœ‰ HSTSï¼Œç¬¬ä¸€æ¬¡é€£ç·šä»æœ‰é¢¨éšªï¼Œæ‰€ä»¥æ›´é€²éšçš„åšæ³•æ˜¯ç”³è«‹åŠ å…¥ç€è¦½å™¨çš„ <b>HSTS Preload List</b> (é è¼‰æ¸…å–®)ã€‚</li>
                    </ul>
                </div>

                <!-- å¸¸è¦‹é™·é˜±èˆ‡ç›²é» -->
                <div class="step-block">
                    <h5 class="step-title"><i class="fa-solid fa-exclamation-triangle me-2"></i>å¸¸è¦‹é™·é˜±èˆ‡é¿å‘æŒ‡å—</h5>
                    <div class="blindspot-box">
                        <p class="mb-2"><b>ğŸ§  å¿ƒç†ç›²é»ï¼š</b></p>
                        å­¸ç”Ÿå¸¸ä»¥ç‚ºã€ŒæŠŠä¸å®‰å…¨çš„é–€ (Port 80) é—œæ‰å°±å®‰å…¨äº†ã€ã€‚<br>
                        ä½† HSTS æ˜¯ã€Œç€è¦½å™¨çš„è¦å‰‡ã€ï¼Œé—œé–‰ä¼ºæœå™¨ Port 80 ä¸¦ä¸èƒ½è®“ç€è¦½å™¨è¨˜ä½ã€Œä¸‹æ¬¡è¦å¼·åˆ¶èµ° HTTPSã€ï¼Œåè€Œé€ æˆæœå‹™ä¸­æ–·ã€‚
                    </div>
                </div>

                <!-- è¨˜æ†¶å£è¨£ -->
                <div class="mnemonic-box">
                    <h5 class="fw-bold mb-2"><i class="fa-solid fa-lightbulb me-2 text-warning"></i>è¨˜æ†¶å£è¨£</h5>
                    <p class="mb-0 fs-5 fw-bold text-dark">ã€Œæ²’ HSTSï¼Œæœƒè¢«é™ï¼›è¢«é™ç´šï¼Œå°±è¢«çœ‹å…‰å…‰ã€</p>
                    <small class="text-secondary">(æ²’ HSTS â†’ é­ SSLStrip é™ç´š â†’ è®Šå› HTTP æ˜æ–‡ â†’ è¢«çœ‹å…‰)</small>
                </div>

            </div>
        </div>

        <!-- 7. Self Check (Updated Logic) -->
        <div class="self-check-container">
            <h5 class="fw-bold text-success mb-3"><i class="fa-solid fa-clipboard-check me-2"></i>è‡ªæˆ‘æª¢æ¸¬ (é»æ“Šé¡Œç›®çœ‹ç­”æ¡ˆ)</h5>
            
            <div class="check-item">
                <details>
                    <summary class="check-question">
                        <span>1. ç‚ºä»€éº¼ HSTS å°ã€Œç¬¬ä¸€æ¬¡é€£ç·šã€ç‰¹åˆ¥é‡è¦ï¼Ÿ</span>
                        <i class="fa-solid fa-chevron-down text-secondary"></i>
                    </summary>
                    <div class="check-answer">
                        å› ç‚ºç¬¬ä¸€æ¬¡é€£ç·šæ™‚ï¼Œç€è¦½å™¨é‚„æ²’æ”¶åˆ° HSTS æ¨™é ­ï¼Œæ”»æ“Šè€…æœ€æœ‰æ©Ÿæœƒåœ¨æ­¤æ™‚é€²è¡Œé™ç´šæ”»æ“Šï¼ˆé™¤éç¶²ç«™æœ‰åŠ å…¥ HSTS Preload Listï¼‰ã€‚
                    </div>
                </details>
            </div>

            <div class="check-item">
                <details>
                    <summary class="check-question">
                        <span>2. åªç”¨ HTTPSï¼Œä½†ä¸è¨­å®š HSTSï¼Œé‚„æœ‰ä»€éº¼é¢¨éšªï¼Ÿ</span>
                        <i class="fa-solid fa-chevron-down text-secondary"></i>
                    </summary>
                    <div class="check-answer">
                        ä½¿ç”¨è€…è‹¥æ‰‹å‹•è¼¸å…¥ http:// æˆ–é»æ“Šåˆ° httpé€£çµï¼Œæ”»æ“Šè€…ä»å¯æ””æˆªä¸¦é˜»æ­¢è½‰å€åˆ° HTTPSï¼Œå°è‡´ä½¿ç”¨è€…ç¹¼çºŒåœ¨ä¸å®‰å…¨çš„ç’°å¢ƒä¸‹å‚³è¼¸ã€‚
                    </div>
                </details>
            </div>

            <div class="check-item">
                <details>
                    <summary class="check-question">
                        <span>3. HSTS èˆ‡ HTTP 301 è½‰å€ï¼Œåœ¨å®‰å…¨æ€§ä¸Šæœ‰ä»€éº¼å·®åˆ¥ï¼Ÿ</span>
                        <i class="fa-solid fa-chevron-down text-secondary"></i>
                    </summary>
                    <div class="check-answer">
                        301 åªæ˜¯ä¼ºæœå™¨ã€Œå»ºè­°ã€ç€è¦½å™¨æ›ç¶²å€ï¼Œæ”»æ“Šè€…å¯ä»¥æ””æˆªé€™å€‹å»ºè­°ï¼›HSTS å‰‡æ˜¯ç€è¦½å™¨ã€Œå¼·åˆ¶ã€è¨˜ä½è¦å‰‡ï¼Œä¸‹æ¬¡é€£ç·šç›´æ¥èµ° HTTPSï¼Œä¸ç¶“éä¼ºæœå™¨è½‰å€ã€‚
                    </div>
                </details>
            </div>

        </div>

    </div>
</div>

<script>
    // --- é¡Œç›®è³‡æ–™ ---
    const questionData = [
        { id: 'A', text: 'å¯èƒ½é­å—ä¸­é–“äººæ”»æ“Šï¼ˆMan-in-the-Middleï¼ŒMITMï¼‰', correct: true },
        { id: 'B', text: 'å¯èƒ½é­å— SSLStrip æ”»æ“Š', correct: true },
        { id: 'C', text: 'å¯æ–¼ç¶²ç«™ä¼ºæœå™¨ä¸­åœç”¨ Port 80 çš„æœå‹™ä¾†ä¿®è£œé€™å•é¡Œ', correct: false },
        { id: 'D', text: 'å¯æ–¼ç¶²ç«™ä¼ºæœå™¨ä¸­åœç”¨ Port 443 çš„æœå‹™ä¾†ä¿®è£œé€™å•é¡Œ', correct: false }
    ];

    let shuffledOptions = [];

    // --- åˆå§‹åŒ– ---
    window.onload = function() {
        initExam();
    };

    function initExam() {
        // 1. éš¨æ©Ÿæ’åºé¸é … (Fisher-Yates Shuffle)
        shuffledOptions = [...questionData];
        for (let i = shuffledOptions.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [shuffledOptions[i], shuffledOptions[j]] = [shuffledOptions[j], shuffledOptions[i]];
        }

        // 2. æ¸²æŸ“é¸é …
        const container = document.getElementById('options-container');
        container.innerHTML = '';
        
        shuffledOptions.forEach((opt, index) => {
            const div = document.createElement('div');
            div.className = 'option-item';
            div.id = `option-box-${opt.id}`;
            div.onclick = () => toggleSelection(opt.id);
            
            div.innerHTML = `
                <input type="checkbox" class="option-input form-check-input" id="opt-${opt.id}" value="${opt.id}">
                <label class="form-check-label flex-grow-1" style="cursor:pointer;" for="opt-${opt.id}">
                    <span class="fw-bold me-2">(${String.fromCharCode(65 + index)})</span> ${opt.text} 
                </label>
            `;
            container.appendChild(div);
        });

        // 3. é‡ç½®ç‹€æ…‹
        document.getElementById('feedback-area').style.display = 'none';
        document.getElementById('explain-body').style.display = 'none';
        document.getElementById('explain-arrow').className = 'fa-solid fa-chevron-down';
        document.getElementById('submit-btn').style.display = 'inline-block';
        document.getElementById('retry-btn').style.display = 'none';
        document.getElementById('status-badge').innerHTML = '<i class="fa-regular fa-circle-question"></i> ç­‰å¾…ä½œç­”';
        document.getElementById('status-badge').className = 'text-secondary fw-bold';
        
        // 4. é‡ç½®è‡ªæˆ‘æª¢æ¸¬ (æ”¶åˆæ‰€æœ‰è©³è§£)
        document.querySelectorAll('.self-check-container details').forEach(d => d.removeAttribute('open'));
    }

    // --- äº’å‹•é‚è¼¯ ---
    function toggleSelection(id) {
        if(document.getElementById('retry-btn').style.display === 'inline-block') return;

        const checkbox = document.getElementById(`opt-${id}`);
        // é€™è£¡ä¸éœ€è¦æ‰‹å‹•è¨­å®š checkedï¼Œå› ç‚º input åœ¨ label å…§æˆ–é€éåŸç”Ÿè¡Œç‚ºæœƒè‡ªå‹•åˆ‡æ›
        // ä½†æˆ‘å€‘éœ€è¦æ‰‹å‹•è§¸ç™¼æ¨£å¼æ›´æ–°
        setTimeout(() => updateStyles(), 10);
    }

    // ç›£è½æ‰€æœ‰ checkbox è®ŠåŒ–
    document.addEventListener('change', function(e) {
        if(e.target.classList.contains('option-input')) {
            updateStyles();
        }
    });

    function updateStyles() {
        document.querySelectorAll('.option-input').forEach(input => {
            const box = document.getElementById(`option-box-${input.value}`);
            if(input.checked) {
                box.classList.add('selected');
            } else {
                box.classList.remove('selected');
            }
        });
    }

    function checkAnswer() {
        // 1. ç²å–ä½¿ç”¨è€…é¸æ“‡
        const selectedIds = Array.from(document.querySelectorAll('.option-input:checked')).map(el => el.value);
        
        if (selectedIds.length === 0) {
            alert("è«‹è‡³å°‘é¸æ“‡ä¸€å€‹é¸é …ï¼");
            return;
        }

        // 2. åˆ¤å®šçµæœ
        const correctIds = questionData.filter(q => q.correct).map(q => q.id);
        const isCorrect = selectedIds.length === correctIds.length && 
                          selectedIds.every(id => correctIds.includes(id));

        // 3. UI é–å®šèˆ‡å›é¥‹
        const inputs = document.querySelectorAll('.option-input');
        inputs.forEach(input => input.disabled = true);
        
        questionData.forEach(q => {
            const box = document.getElementById(`option-box-${q.id}`);
            const input = document.getElementById(`opt-${q.id}`);
            
            if (q.correct) {
                box.classList.add('correct-answer');
                if (!box.innerHTML.includes('fa-check')) {
                     box.innerHTML += '<i class="fa-solid fa-check text-success ms-auto fs-4"></i>';
                }
            } else if (input.checked) {
                box.classList.add('wrong-choice');
                if (!box.innerHTML.includes('fa-xmark')) {
                    box.innerHTML += '<i class="fa-solid fa-xmark text-danger ms-auto fs-4"></i>';
                }
            }
        });

        // 4. é¡¯ç¤ºçµæœå¡ç‰‡
        const feedbackArea = document.getElementById('feedback-area');
        const feedbackAlert = document.getElementById('feedback-alert');
        const feedbackTitle = document.getElementById('feedback-title');
        const feedbackText = document.getElementById('feedback-text');
        const feedbackIcon = document.getElementById('feedback-icon');
        const statusBadge = document.getElementById('status-badge');

        feedbackArea.style.display = 'block';

        if (isCorrect) {
            feedbackAlert.className = 'alert-custom alert-success-custom';
            feedbackIcon.innerHTML = '<i class="fa-solid fa-trophy"></i>';
            feedbackTitle.innerText = 'å®Œå…¨æ­£ç¢ºï¼';
            feedbackText.innerText = 'è§€å¿µéå¸¸æ¸…æ™°ï¼Œæ‚¨å·²æŒæ¡ HSTS èˆ‡ä¸­é–“äººæ”»æ“Šçš„æ ¸å¿ƒé—œè¯ã€‚';
            statusBadge.innerHTML = '<i class="fa-solid fa-circle-check"></i> ç­”é¡Œæ­£ç¢º';
            statusBadge.className = 'text-success fw-bold';
            
            // è‡ªå‹•å±•é–‹è©³è§£
            const explainBody = document.getElementById('explain-body');
            if (explainBody.style.display !== 'block') {
                toggleExplain();
            }

        } else {
            feedbackAlert.className = 'alert-custom alert-danger-custom';
            feedbackIcon.innerHTML = '<i class="fa-solid fa-circle-exclamation"></i>';
            feedbackTitle.innerText = 'å·®äº†ä¸€é»é»ï¼';
            feedbackText.innerText = 'è«‹åƒè€ƒä¸‹æ–¹é€æ­¥è§£æï¼Œç‰¹åˆ¥æ³¨æ„ã€Œå¸¸è¦‹é™·é˜±ã€èˆ‡ã€Œå¿ƒç†ç›²é»ã€çš„èªªæ˜ã€‚';
            statusBadge.innerHTML = '<i class="fa-solid fa-circle-xmark"></i> ç­”é¡ŒéŒ¯èª¤';
            statusBadge.className = 'text-danger fw-bold';
        }

        // 5. åˆ‡æ›æŒ‰éˆ•
        document.getElementById('submit-btn').style.display = 'none';
        document.getElementById('retry-btn').style.display = 'inline-block';
    }

    function resetExam() {
        window.scrollTo({ top: 0, behavior: 'smooth' });
        setTimeout(() => {
            initExam();
        }, 300);
    }

    function toggleExplain() {
        const body = document.getElementById('explain-body');
        const arrow = document.getElementById('explain-arrow');
        
        if (body.style.display === 'none' || body.style.display === '') {
            body.style.display = 'block';
            arrow.className = 'fa-solid fa-chevron-up';
        } else {
            body.style.display = 'none';
            arrow.className = 'fa-solid fa-chevron-down';
        }
    }
</script>

</body>
</html>