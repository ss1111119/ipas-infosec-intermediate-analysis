<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Q20: 備份 3-2-1 原則解析 - 互動式教學</title>
    
    <!-- 引入 Noto Sans TC -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS (CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- FontAwesome (CDN) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- 自定義配置與樣式 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#2563eb', // 專業藍
                        highlight: '#fef9c3', // 柔和黃底
                        success: '#059669', // 綠
                        error: '#dc2626', // 紅
                        bgLight: '#f3f4f6',
                        cardBg: '#ffffff',
                    },
                    fontFamily: {
                        sans: ['"Noto Sans TC"', 'sans-serif'],
                    },
                    animation: {
                        fadeInUp: 'fadeInUp 0.5s ease-out forwards',
                    },
                    keyframes: {
                        fadeInUp: {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #f3f4f6;
            color: #1f2937;
            font-family: 'Noto Sans TC', sans-serif;
            line-height: 1.6;
        }
        
        /* 選項互動樣式 */
        .option-card {
            transition: all 0.2s ease;
            cursor: pointer;
            border: 2px solid transparent;
        }
        
        .option-card:hover:not(.disabled) {
            transform: translateY(-2px);
            background-color: #eff6ff;
            border-color: #bfdbfe;
        }
        
        .option-card.selected {
            background-color: #eff6ff;
            border-color: #2563eb;
            box-shadow: 0 4px 6px -1px rgba(37, 99, 235, 0.1);
        }

        .option-card.correct-answer {
            background-color: #d1fae5 !important;
            border-color: #059669 !important;
        }

        .option-card.wrong-answer {
            background-color: #fee2e2 !important;
            border-color: #dc2626 !important;
            opacity: 0.8;
        }

        .option-card.disabled {
            cursor: default;
        }

        /* 區塊標題樣式 */
        .section-title {
            display: flex;
            align-items: center;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 0.75rem;
            border-left: 4px solid #2563eb;
            padding-left: 0.75rem;
        }

        /* 自我檢測問答樣式 */
        .qa-card {
            border: 1px solid #e5e7eb;
            border-radius: 0.75rem;
            overflow: hidden;
            background: white;
            margin-bottom: 0.75rem;
        }
        .qa-question {
            padding: 1rem;
            background: #f9fafb;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .qa-answer {
            padding: 1rem;
            background: #ffffff;
            border-top: 1px solid #e5e7eb;
            color: #059669;
            display: none; /* 預設隱藏 */
        }
        .qa-card.open .qa-answer {
            display: block;
        }
        .qa-card.open .qa-question {
            background: #eff6ff;
            color: #2563eb;
        }

    </style>
</head>
<body class="min-h-screen p-4 md:p-8 flex justify-center items-start">

    <!-- 主容器 -->
    <main class="w-full max-w-[900px] bg-white rounded-2xl shadow-lg overflow-hidden relative mb-12">
        
        <!-- Header -->
        <header class="bg-primary text-white p-6 flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
            <div>
                <div class="flex flex-wrap gap-2 mb-2">
                    <span class="bg-white/20 px-2 py-1 rounded text-xs font-bold">Q20</span>
                    <span class="bg-orange-500 px-2 py-1 rounded text-xs font-bold">備份管理</span>
                    <span class="bg-blue-400 px-2 py-1 rounded text-xs font-bold">營運持續</span>
                </div>
                <h1 class="text-xl md:text-2xl font-bold">備份 3-2-1 原則解析</h1>
            </div>
            <div id="status-badge" class="hidden px-4 py-2 bg-white text-primary rounded-full font-bold shadow-sm">
                <!-- 動態狀態文字 -->
            </div>
        </header>

        <div class="p-6 md:p-8 space-y-8">
            
            <!-- 題目區 (Question) -->
            <section id="question-area">
                <h2 class="text-lg md:text-xl font-bold mb-6 text-gray-800 leading-relaxed">
                    20. 關於備份 3-2-1 原則的敘述，下列<span class="font-bold text-primary border-b-2 border-primary">何者正確</span>？
                </h2>
                
                <div id="options-container" class="space-y-3">
                    <!-- 選項將由 JS 動態生成並隨機排序 -->
                </div>
            </section>

            <!-- 操作區 (Action Area) -->
            <section class="flex flex-col md:flex-row gap-4 pt-4 border-t border-gray-100">
                <button id="submit-btn" class="w-full md:w-auto px-8 py-3 bg-primary hover:bg-blue-700 text-white font-bold rounded-xl shadow-md transition-all active:scale-95 text-lg">
                    送出答案 <i class="fa-solid fa-paper-plane ml-2"></i>
                </button>
                <button id="retry-btn" class="hidden w-full md:w-auto px-8 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-bold rounded-xl transition-all active:scale-95">
                    重新挑戰 <i class="fa-solid fa-rotate-right ml-2"></i>
                </button>
            </section>

            <!-- 反饋區 (Feedback) - 初始隱藏 -->
            <section id="feedback-area" class="hidden animate-fadeInUp space-y-8">
                
                <div id="feedback-message" class="p-4 rounded-xl font-bold text-center text-lg">
                    <!-- 動態回饋文字 -->
                </div>

                <!-- 步驟式深度解析 -->
                <div class="space-y-6">
                    
                    <!-- 第一步 & 第二步：關鍵字與翻譯 -->
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="bg-blue-50 p-4 rounded-xl border border-blue-100">
                            <h3 class="font-bold text-primary mb-3"><i class="fa-solid fa-magnifying-glass mr-2"></i>第一步：找關鍵字</h3>
                            <ul class="list-disc list-inside space-y-1 text-gray-700 text-sm">
                                <li><strong>備份 3-2-1 原則</strong>：核心設計原則</li>
                                <li><strong>三份 (3)</strong>：數量概念</li>
                                <li><strong>兩種媒體 (2)</strong>：多樣性</li>
                                <li><strong>一份異地 (1)</strong>：地理位置分離</li>
                                <li><strong>何者正確</strong>：選出符合定義者</li>
                            </ul>
                        </div>
                        <div class="bg-green-50 p-4 rounded-xl border border-green-100">
                            <h3 class="font-bold text-green-700 mb-3"><i class="fa-solid fa-language mr-2"></i>第二步：白話翻譯</h3>
                            <p class="text-gray-700 text-sm leading-relaxed">
                                這題在問：關於「3-2-1 備份原則」，下面哪一個說法是<strong>真的有講到這個原則的重點</strong>，而不是看起來像備份、實際上不合格？
                            </p>
                        </div>
                    </div>

                    <!-- 第三步：解題思路 (原理、步驟、生活例子) -->
                    <div class="bg-white border border-gray-200 rounded-xl p-6 shadow-sm">
                        <div class="section-title text-lg">第三步：解題思路</div>
                        
                        <div class="space-y-4">
                            <div>
                                <h4 class="font-bold text-gray-700 mb-2"><span class="bg-gray-200 px-2 py-0.5 rounded text-sm mr-2">考什麼？</span>3-2-1 定義背誦與理解</h4>
                                <div class="grid grid-cols-1 md:grid-cols-3 gap-2 text-center text-sm">
                                    <div class="bg-gray-100 p-2 rounded"><strong>3</strong>：至少三份資料<br>(1原始 + 2備份)</div>
                                    <div class="bg-blue-100 p-2 rounded text-blue-800"><strong>2</strong>：兩種不同媒體<br>(避免單一失效)</div>
                                    <div class="bg-orange-100 p-2 rounded text-orange-800"><strong>1</strong>：至少一份異地<br>(避免天災全毀)</div>
                                </div>
                            </div>
                            
                            <div class="bg-yellow-50 p-3 rounded-lg border border-yellow-100">
                                <h4 class="font-bold text-yellow-800 mb-1 text-sm"><i class="fa-solid fa-lightbulb mr-1"></i> 生活例子</h4>
                                <p class="text-sm text-gray-700">如果你只把照片存在同一台電腦的 C 槽和 D 槽，電腦硬碟壞掉就全沒了。若一份在電腦、一份在隨身碟、一份在雲端，風險才真正分散。</p>
                            </div>
                        </div>
                    </div>

                    <!-- 第四步：選項分析 -->
                    <div class="bg-white border border-gray-200 rounded-xl p-6 shadow-sm">
                        <div class="section-title text-lg">第四步：選項分析</div>
                        <div class="space-y-3">
                            <div class="flex gap-3">
                                <span class="font-bold text-green-600 bg-green-100 w-8 h-8 flex items-center justify-center rounded-full flex-shrink-0">A</span>
                                <div>
                                    <p class="font-bold text-gray-800">分開存放在兩種不同儲存媒體 (正確)</p>
                                    <p class="text-sm text-gray-600">這正是 3-2-1 中的「2」。例如：硬碟 + 磁帶、NAS + 雲端。符合風險分散精神。</p>
                                </div>
                            </div>
                            <div class="flex gap-3">
                                <span class="font-bold text-red-600 bg-red-100 w-8 h-8 flex items-center justify-center rounded-full flex-shrink-0">B</span>
                                <div>
                                    <p class="font-bold text-gray-800">分別放到硬碟的 C 槽跟 D 槽 (錯誤)</p>
                                    <p class="text-sm text-gray-600">通常仍在<strong>同一顆硬碟</strong>。硬碟壞了兩者皆失，不符合不同媒體要求。</p>
                                </div>
                            </div>
                            <div class="flex gap-3">
                                <span class="font-bold text-red-600 bg-red-100 w-8 h-8 flex items-center justify-center rounded-full flex-shrink-0">C</span>
                                <div>
                                    <p class="font-bold text-gray-800">資料分別存放在辦公室不同樓層 (錯誤)</p>
                                    <p class="text-sm text-gray-600">仍屬<strong>同一棟建築</strong>。火災、水災可能影響整棟樓，不符合「1 異地」定義。</p>
                                </div>
                            </div>
                            <div class="flex gap-3">
                                <span class="font-bold text-red-600 bg-red-100 w-8 h-8 flex items-center justify-center rounded-full flex-shrink-0">D</span>
                                <div>
                                    <p class="font-bold text-gray-800">備份資料不需備份加密金鑰 (錯誤)</p>
                                    <p class="text-sm text-gray-600">嚴重觀念錯誤。若資料加密，沒有備份金鑰等於資料無法還原。</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 觀念補充與延伸 & 觸類旁通 -->
                    <div class="bg-indigo-50 border border-indigo-100 rounded-xl p-6 shadow-sm">
                        <div class="flex flex-col md:flex-row gap-6">
                            <div class="flex-1">
                                <h4 class="font-bold text-indigo-800 mb-2"><i class="fa-solid fa-book mr-2"></i>觀念補充與延伸</h4>
                                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                                    <li><strong>法條/定義</strong>：白話來說就是「不要把雞蛋放在同一個籃子」。</li>
                                    <li><strong>核心定位</strong>：屬於「營運持續 (BCP)」與「備份與復原」章節。</li>
                                </ul>
                            </div>
                            <div class="flex-1 border-t md:border-t-0 md:border-l border-indigo-200 pt-4 md:pt-0 md:pl-6">
                                <h4 class="font-bold text-indigo-800 mb-2"><i class="fa-solid fa-shuffle mr-2"></i>觸類旁通 (舉一反三)</h4>
                                <ul class="list-disc list-inside text-sm text-gray-700 space-y-1">
                                    <li><strong>對比</strong>：同媒體多份 ≠ 多媒體；同地分散 ≠ 異地備份。</li>
                                    <li><strong>變化題</strong>：雲端算不算異地？(算)。NAS+同機房備援？(不算)。</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- 陷阱與口訣區 -->
                    <div class="grid md:grid-cols-2 gap-6">
                        <!-- 常見陷阱 & 盲點 -->
                        <div class="bg-red-50 p-4 rounded-xl border border-red-100">
                            <h3 class="font-bold text-error mb-2"><i class="fa-solid fa-triangle-exclamation mr-2"></i>常見陷阱與避坑指南</h3>
                            <div class="space-y-3 text-sm">
                                <div>
                                    <span class="font-bold text-gray-800 block">心理盲點：</span>
                                    <span class="text-gray-600">直覺以為「有備份就好」，忽略災害會一次毀掉全部。</span>
                                </div>
                                <div>
                                    <span class="font-bold text-gray-800 block">避坑指南 - 看到題目檢查三點：</span>
                                    <ul class="list-decimal list-inside text-gray-600 ml-1">
                                        <li>媒體是不是不同？</li>
                                        <li>地點是不是分開？</li>
                                        <li>金鑰有沒一起備？</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- 記憶口訣 -->
                        <div class="bg-yellow-50 p-4 rounded-xl border border-yellow-200 flex flex-col justify-center text-center">
                            <h3 class="font-bold text-yellow-800 mb-3"><i class="fa-solid fa-star mr-2"></i>記憶口訣</h3>
                            <div class="space-y-2">
                                <p class="text-lg font-bold text-gray-800">「三份資料不嫌多，<br>兩種媒體不能少，<br>一份一定要離家。」</p>
                                <p class="text-sm text-gray-600 mt-2">（同一顆硬碟，不管幾個槽，都不算！）</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 自我檢測區 (題目顯示，答案隱藏) -->
                <div class="mt-8 border-t border-gray-200 pt-8">
                    <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
                        <i class="fa-solid fa-clipboard-question text-primary mr-2"></i>自我檢測
                        <span class="text-sm font-normal text-gray-500 ml-2">(點擊題目查看答案)</span>
                    </h3>
                    
                    <div class="qa-card">
                        <div class="qa-question" onclick="this.parentElement.classList.toggle('open')">
                            1) 如果三份備份都存在同一台 NAS，是否符合 3-2-1？為什麼？
                            <i class="fa-solid fa-chevron-down text-gray-400"></i>
                        </div>
                        <div class="qa-answer">
                            <strong>不符合。</strong><br>因為「媒體」與「地點」都沒有真正分散。若 NAS 硬體故障或遭勒索軟體加密，三份會同時失效。
                        </div>
                    </div>

                    <div class="qa-card">
                        <div class="qa-question" onclick="this.parentElement.classList.toggle('open')">
                            2) 雲端備份在 3-2-1 中通常扮演哪一個角色？
                            <i class="fa-solid fa-chevron-down text-gray-400"></i>
                        </div>
                        <div class="qa-answer">
                            <strong>一份異地 (Off-site)。</strong><br>雲端伺服器位於遠端機房，能有效避免本地端的物理災害（火災、地震）。
                        </div>
                    </div>

                    <div class="qa-card">
                        <div class="qa-question" onclick="this.parentElement.classList.toggle('open')">
                            3) 若公司使用加密備份，金鑰應如何保存才安全？
                            <i class="fa-solid fa-chevron-down text-gray-400"></i>
                        </div>
                        <div class="qa-answer">
                            <strong>需獨立安全儲存並備援。</strong><br>金鑰不能只跟備份檔放在一起（怕被一起刪除或加密），也不能沒有備份（怕金鑰遺失導致資料變垃圾）。
                        </div>
                    </div>

                </div>

            </section>
        </div>
    </main>

    <!-- JavaScript 邏輯 -->
    <script>
        // 題目資料結構
        const questionData = {
            id: 'Q20',
            correctAnswerId: 'A',
            options: [
                { id: 'A', text: '以儲存媒體而言，分開存放在兩種不同儲存媒體' },
                { id: 'B', text: '至少三份，分別放到硬碟的 C 槽跟 D 槽' },
                { id: 'C', text: '資料分別存放在辦公室不同樓層' },
                { id: 'D', text: '備份資料不需備份加密金鑰' }
            ]
        };

        // DOM 元素
        const optionsContainer = document.getElementById('options-container');
        const submitBtn = document.getElementById('submit-btn');
        const retryBtn = document.getElementById('retry-btn');
        const feedbackArea = document.getElementById('feedback-area');
        const feedbackMessage = document.getElementById('feedback-message');
        const statusBadge = document.getElementById('status-badge');

        let selectedOptionId = null;
        let isSubmitted = false;

        // 初始化
        function init() {
            // 重置狀態
            selectedOptionId = null;
            isSubmitted = false;
            
            // UI 重置
            submitBtn.classList.remove('hidden');
            retryBtn.classList.add('hidden');
            feedbackArea.classList.add('hidden');
            statusBadge.classList.add('hidden');
            optionsContainer.innerHTML = '';

            // 重置自我檢測區 (關閉所有答案)
            document.querySelectorAll('.qa-card').forEach(card => card.classList.remove('open'));
            
            // 隨機排序選項
            const shuffledOptions = [...questionData.options].sort(() => Math.random() - 0.5);
            
            // 定義固定顯示的標籤順序
            const labels = ['A', 'B', 'C', 'D'];

            // 渲染選項
            shuffledOptions.forEach((opt, index) => {
                const optionEl = document.createElement('div');
                optionEl.className = 'option-card bg-white p-4 rounded-xl border-2 border-transparent shadow-sm flex items-center gap-3 group';
                optionEl.dataset.id = opt.id;
                
                optionEl.innerHTML = `
                    <div class="w-8 h-8 rounded-full border-2 border-gray-300 flex items-center justify-center text-gray-500 font-bold transition-colors group-hover:border-primary group-hover:text-primary option-marker">
                        ${labels[index]}
                    </div>
                    <span class="text-base md:text-lg font-medium text-gray-700">${opt.text}</span>
                `;

                // 點擊事件
                optionEl.addEventListener('click', () => handleOptionSelect(opt.id));
                
                optionsContainer.appendChild(optionEl);
            });
        }

        // 處理選項選擇
        function handleOptionSelect(id) {
            if (isSubmitted) return;

            selectedOptionId = id;

            // 更新 UI 狀態
            document.querySelectorAll('.option-card').forEach(card => {
                if (card.dataset.id === id) {
                    card.classList.add('selected');
                    card.querySelector('.option-marker').classList.add('bg-primary', 'text-white', 'border-primary');
                    card.querySelector('.option-marker').classList.remove('text-gray-500', 'border-gray-300');
                } else {
                    card.classList.remove('selected');
                    card.querySelector('.option-marker').classList.remove('bg-primary', 'text-white', 'border-primary');
                    card.querySelector('.option-marker').classList.add('text-gray-500', 'border-gray-300');
                }
            });
        }

        // 處理送出
        submitBtn.addEventListener('click', () => {
            if (!selectedOptionId) {
                alert('請先選擇一個答案！');
                return;
            }

            isSubmitted = true;
            const isCorrect = selectedOptionId === questionData.correctAnswerId;

            // 禁用互動
            document.querySelectorAll('.option-card').forEach(card => {
                card.classList.add('disabled');
                
                if (card.dataset.id === questionData.correctAnswerId) {
                    card.classList.add('correct-answer');
                    card.innerHTML += '<i class="fa-solid fa-check text-success text-xl ml-auto"></i>';
                } else if (card.dataset.id === selectedOptionId && !isCorrect) {
                    card.classList.add('wrong-answer');
                    card.innerHTML += '<i class="fa-solid fa-xmark text-error text-xl ml-auto"></i>';
                }
            });

            // 顯示狀態 Badge
            statusBadge.classList.remove('hidden');
            if (isCorrect) {
                statusBadge.innerHTML = '<i class="fa-solid fa-check-circle mr-2"></i>答對了';
                statusBadge.className = 'px-4 py-2 bg-green-100 text-green-700 rounded-full font-bold shadow-sm border border-green-200';
                feedbackMessage.innerHTML = '<span class="text-success"><i class="fa-solid fa-circle-check"></i> 恭喜！觀念完全正確。</span>';
                feedbackMessage.className = 'p-4 rounded-xl font-bold text-center text-lg mb-6 bg-green-50 border border-green-200';
            } else {
                statusBadge.innerHTML = '<i class="fa-solid fa-times-circle mr-2"></i>答錯了';
                statusBadge.className = 'px-4 py-2 bg-red-100 text-red-700 rounded-full font-bold shadow-sm border border-red-200';
                feedbackMessage.innerHTML = '<span class="text-error"><i class="fa-solid fa-circle-exclamation"></i> 沒關係，看看解析來釐清觀念！</span>';
                feedbackMessage.className = 'p-4 rounded-xl font-bold text-center text-lg mb-6 bg-red-50 border border-red-200';
            }

            // 顯示解析區與按鈕切換
            feedbackArea.classList.remove('hidden');
            submitBtn.classList.add('hidden');
            retryBtn.classList.remove('hidden');

            // 平滑捲動到回饋區
            feedbackArea.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        });

        // 處理重試
        retryBtn.addEventListener('click', () => {
            init();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // 啟動應用
        init();

    </script>
</body>
</html>