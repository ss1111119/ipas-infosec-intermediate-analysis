<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iPAS è³‡å®‰è¦åŠƒå¯¦å‹™ - ç¬¬36é¡Œï¼šé¢¨éšªç®¡ç†äº’å‹•æ•™å­¸</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --accent-color: #3498db;
            --success-color: #27ae60;
            --error-color: #e74c3c;
            --bg-color: #f4f7f6;
            --card-bg: #ffffff;
            --text-color: #333333;
            --border-radius: 8px;
            --spacing-unit: 1rem;
        }

        * {
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans TC", sans-serif;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            font-size: 16px; /* Requirement: Min 16px */
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: var(--card-bg);
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        /* Header & Progress */
        header {
            border-bottom: 2px solid #eee;
            padding-bottom: 1rem;
            margin-bottom: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
        }

        h1 {
            font-size: 1.5rem;
            color: var(--primary-color);
            margin: 0;
        }

        .stats {
            font-size: 0.9rem;
            color: #666;
            background: #eee;
            padding: 5px 10px;
            border-radius: 15px;
        }

        .intro-text {
            background-color: #e8f4fc;
            border-left: 5px solid var(--accent-color);
            padding: 1rem;
            margin-bottom: 1.5rem;
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
        }

        /* Visual Concept Area */
        .concept-visual {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
            margin: 2rem 0;
            padding: 1rem;
            background: #fff;
            border: 1px dashed #ccc;
            border-radius: var(--border-radius);
        }

        .flow-item {
            background: var(--primary-color);
            color: white;
            padding: 8px 12px;
            border-radius: 4px;
            font-weight: bold;
            position: relative;
            font-size: 0.9rem;
        }

        .arrow {
            color: var(--accent-color);
            font-weight: bold;
            font-size: 1.2rem;
        }

        .formula-box {
            width: 100%;
            text-align: center;
            margin-top: 10px;
            font-weight: bold;
            color: var(--error-color);
            border-top: 1px solid #eee;
            padding-top: 10px;
        }

        /* Question Area */
        .question-box {
            margin-bottom: 1.5rem;
        }

        .question-text {
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 1rem;
        }

        .options-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .option-label {
            display: flex;
            align-items: center;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: all 0.2s;
        }

        .option-label:hover {
            background-color: #f9f9f9;
            border-color: var(--accent-color);
        }

        .option-label input[type="checkbox"] {
            width: 20px;
            height: 20px;
            margin-right: 15px;
            accent-color: var(--accent-color);
        }

        /* Feedback & Buttons */
        .controls {
            margin-top: 1.5rem;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            transition: opacity 0.2s;
        }

        .btn:hover { opacity: 0.9; }

        .btn-submit { background-color: var(--accent-color); color: white; }
        .btn-reset { background-color: #95a5a6; color: white; }
        .btn-explain { background-color: var(--success-color); color: white; display: none; }
        
        .feedback-area {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: var(--border-radius);
            font-weight: bold;
            display: none;
        }

        .feedback-success { background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .feedback-error { background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }

        /* Explanation Section */
        .explanation-container {
            display: none; /* Default hidden */
            margin-top: 2rem;
            border-top: 2px dashed #ccc;
            padding-top: 1rem;
        }

        .exp-section {
            margin-bottom: 1.5rem;
        }

        .exp-title {
            background-color: var(--primary-color);
            color: #fff;
            padding: 5px 10px;
            display: inline-block;
            border-radius: 4px;
            font-size: 1rem;
            margin-bottom: 0.5rem;
        }

        .exp-content {
            padding-left: 10px;
        }

        .highlight {
            background-color: #fff3cd; /* Highlighter yellow */
            font-weight: bold;
            padding: 0 4px;
        }

        .option-analysis-item {
            margin-bottom: 8px;
            padding-left: 1rem;
            border-left: 3px solid #ddd;
        }
        
        .option-analysis-item.correct { border-left-color: var(--success-color); }
        .option-analysis-item.incorrect { border-left-color: var(--error-color); }

        .tag-concept {
            background-color: #e2e6ea;
            color: #495057;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.85em;
            margin-right: 5px;
        }

        /* Self Check */
        .self-check-item {
            background: #f8f9fa;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 4px;
        }
        
        .self-check-answer {
            color: var(--success-color);
            font-weight: bold;
            font-size: 0.9em;
            margin-top: 10px;
            display: none; /* Hidden by default */
            border-top: 1px dashed #ddd;
            padding-top: 5px;
        }

        .btn-show-answer {
            background-color: transparent;
            border: 1px solid var(--accent-color);
            color: var(--accent-color);
            padding: 4px 8px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.85rem;
            margin-top: 5px;
        }

        .btn-show-answer:hover {
            background-color: var(--accent-color);
            color: white;
        }

        footer {
            margin-top: 3rem;
            text-align: center;
            font-size: 0.9rem;
            color: #777;
        }

        .clear-storage-btn {
            background: none;
            border: none;
            text-decoration: underline;
            color: #999;
            cursor: pointer;
        }

        @media (max-width: 600px) {
            .controls { flex-direction: column; }
            .btn { width: 100%; }
        }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>iPAS è³‡å®‰è¡åˆº - ç¬¬36é¡Œ</h1>
        <div class="stats" id="progressStats">æœ¬é¡Œç·´ç¿’ï¼š0 æ¬¡ | æ­£ç¢ºï¼š0 æ¬¡</div>
    </header>

    <div class="intro-text">
        <strong>ä¸€å¥è©±èªªæ˜ï¼š</strong> æœ¬é å°‡å¸¶ä½ å»ºç«‹ã€Œè³‡ç”¢â€”å¨è„…â€”å¼±é»ã€çš„é—œè¯ï¼Œä¸¦ææ‡‚é¢¨éšªè­˜åˆ¥èˆ‡åˆ†æçš„å·®ç•°ã€‚
    </div>

    <!-- è¦–è¦ºåŒ–æ¦‚å¿µåœ– -->
    <div class="concept-visual" aria-label="é¢¨éšªæµç¨‹åœ–" role="img">
        <div class="flow-item">è³‡ç”¢</div>
        <div class="arrow">â†’</div>
        <div class="flow-item">å¼±é»</div>
        <div class="arrow">â†’</div>
        <div class="flow-item">å¨è„…</div>
        <div class="arrow">â†’</div>
        <div class="flow-item">äº‹ä»¶</div>
        <div class="arrow">â†’</div>
        <div class="flow-item">è¡æ“Š</div>
        <div class="formula-box">â˜… è§€å¿µï¼šé¢¨éšª = å¯èƒ½æ€§ Ã— å½±éŸ¿</div>
    </div>

    <!-- ä½œç­”å€ -->
    <div class="question-box">
        <div class="question-text">
            36. é—œæ–¼ã€Œé¢¨éšªã€èˆ‡ã€Œé¢¨éšªç®¡ç†ã€çš„æ•˜è¿°ï¼Œä¸‹åˆ—å“ªäº›æ­£ç¢ºï¼Ÿï¼ˆè¤‡é¸é¡Œï¼‰
        </div>
        <div class="options-group" role="group" aria-label="é¸é …æ¸…å–®">
            <label class="option-label">
                <input type="checkbox" name="option" value="A">
                (A) é¢¨éšªæ˜¯å¤–éƒ¨å¨è„…åˆ©ç”¨å¼±é»å°å…§éƒ¨è³‡ç”¢é€ æˆè¡æ“Šçš„å¯èƒ½æ€§
            </label>
            <label class="option-label">
                <input type="checkbox" name="option" value="B">
                (B) é€šå¸¸é¢¨éšªç®¡ç†éƒ½æœƒä»¥ ISO/IEC 27005 é¢¨éšªç®¡ç†æŒ‡å¼•ä½œç‚ºåƒè€ƒ
            </label>
            <label class="option-label">
                <input type="checkbox" name="option" value="C">
                (C) é¢¨éšªåˆ†æå¯ä¾å¯ç”¨æ€§ã€å®Œæ•´æ€§ã€æ©Ÿå¯†æ€§åŠ ä»¥è³ªåŒ–å¾Œï¼Œæ±ºå®šé¢¨éšªç­‰ç´š
            </label>
            <label class="option-label">
                <input type="checkbox" name="option" value="D">
                (D) é€²è¡Œé¢¨éšªè­˜åˆ¥é ˆåŒ…å«å¨è„…è­˜åˆ¥èˆ‡å¼±é»è­˜åˆ¥
            </label>
        </div>
    </div>

    <!-- æ§åˆ¶æŒ‰éˆ• -->
    <div class="controls">
        <button class="btn btn-submit" onclick="checkAnswer()" aria-label="æäº¤ç­”æ¡ˆ">æäº¤ç­”æ¡ˆ</button>
        <button class="btn btn-explain" id="btnExplain" onclick="toggleExplanation()" aria-label="é¡¯ç¤ºæˆ–éš±è—è§£æ">é¡¯ç¤ºè§£æ</button>
        <button class="btn btn-reset" onclick="resetQuiz()" aria-label="é‡ä½œæœ¬é¡Œ">é‡ä½œ</button>
    </div>

    <!-- åé¥‹è¨Šæ¯ -->
    <div id="feedback" class="feedback-area" aria-live="polite"></div>

    <!-- è§£æå€ï¼ˆå›ºå®šæ ¼å¼ï¼‰ -->
    <div id="explanation" class="explanation-container">
        
        <div class="exp-section">
            <div class="exp-title">é¡Œç›®</div>
            <div class="exp-content">é—œæ–¼ã€Œé¢¨éšªã€èˆ‡ã€Œé¢¨éšªç®¡ç†ã€çš„æ•˜è¿°ï¼Œä¸‹åˆ—å“ªäº›æ­£ç¢ºï¼Ÿ</div>
        </div>

        <div class="exp-section">
            <div class="exp-title">ç¬¬ä¸€æ­¥ï¼šæ‰¾é—œéµå­—</div>
            <div class="exp-content">
                <span class="highlight">é¢¨éšª</span>ã€<span class="highlight">é¢¨éšªç®¡ç†</span>ã€<span class="highlight">ISO/IEC 27005</span>ã€<span class="highlight">é¢¨éšªåˆ†æ</span>ã€<span class="highlight">é¢¨éšªè­˜åˆ¥</span>ã€‚
            </div>
        </div>

        <div class="exp-section">
            <div class="exp-title">ç¬¬äºŒæ­¥ï¼šç™½è©±ç¿»è­¯</div>
            <div class="exp-content">
                é€™é¡Œåœ¨å•ä½ æ‡‚ä¸æ‡‚ã€Œé¢¨éšªã€æ˜¯æ€éº¼å½¢æˆçš„ï¼Ÿé‚„æœ‰ä¸€å¥—æ¨™æº–çš„ã€Œç®¡ç†æµç¨‹ã€è©²æ€éº¼åšï¼ˆå…ˆæ‰¾å•é¡Œï¼Œå†åˆ†æåš´é‡æ€§ï¼‰ã€‚
            </div>
        </div>

        <div class="exp-section">
            <div class="exp-title">ç¬¬ä¸‰æ­¥ï¼šè§£é¡Œæ€è·¯</div>
            <div class="exp-content">
                <ul>
                    <li><strong>è€ƒé»è§€å¿µï¼š</strong> é¢¨éšªç®¡ç†çš„å®šç¾©èˆ‡æµç¨‹æ­¥é©Ÿã€‚</li>
                    <li><strong>è§£é¡Œæ­¥é©Ÿï¼š</strong>
                        <ol>
                            <li>å…ˆç¢ºèªä½ æ˜¯å¦çŸ¥é“ã€Œé¢¨éšªã€çš„å…¬å¼ï¼ˆå¯èƒ½æ€§ Ã— è¡æ“Šï¼‰ã€‚</li>
                            <li>æª¢è¦– ISO æ¨™æº–æ˜¯å¦æ­£ç¢ºã€‚</li>
                            <li>å€åˆ†ã€Œè­˜åˆ¥ã€ï¼ˆæ‰¾å‡ºä¾†ï¼‰è·Ÿã€Œåˆ†æã€ï¼ˆç®—åˆ†æ•¸ï¼‰çš„å·®åˆ¥ã€‚</li>
                        </ol>
                    </li>
                    <li><strong>åŸç†èˆ‡è¦å‰‡ï¼š</strong> é¢¨éšªä¸æ˜¯ä¸€å€‹å–®ä¸€åè©ï¼Œè€Œæ˜¯ä¸€æ¢ã€Œå› æœéˆã€ï¼š<br>
                    å› ç‚ºä½ æœ‰<span class="highlight">è³‡ç”¢</span>ï¼ˆå…¬å¸è¦ä¿è­·çš„æ±è¥¿ï¼‰ï¼Œä¸Šé¢æœ‰<span class="highlight">å¼±é»</span>ï¼ˆè¢«æ”»æ“Šçš„ç ´æ´ï¼‰ï¼Œå°è‡´<span class="highlight">å¨è„…</span>ï¼ˆé§­å®¢/å¤©ç½ï¼‰è¶è™›è€Œå…¥ï¼Œé€ æˆ<span class="highlight">è¡æ“Š</span>ï¼ˆå¾Œæœï¼‰ã€‚</li>
                </ul>
            </div>
        </div>

        <div class="exp-section">
            <div class="exp-title">ç¬¬å››æ­¥ï¼šé¸é …åˆ†æ</div>
            <div class="exp-content">
                <div class="option-analysis-item correct">
                    <strong>(A) æ­£ç¢ºï¼š</strong> é€™æ˜¯é¢¨éšªçš„æ¨™æº–å®šç¾©ã€‚é¢¨éšª = <span class="highlight">å¨è„…</span>ï¼ˆå¯èƒ½ä¾†å®³ä½ çš„æ±è¥¿ï¼‰åˆ©ç”¨<span class="highlight">å¼±é»</span>ï¼ˆæ¼æ´ï¼‰å°<span class="highlight">è³‡ç”¢</span>ï¼ˆè³‡æ–™/ç³»çµ±ï¼‰é€ æˆå½±éŸ¿çš„<span class="highlight">å¯èƒ½æ€§</span>ã€‚
                </div>
                <div class="option-analysis-item correct">
                    <strong>(B) æ­£ç¢ºï¼š</strong> <span class="highlight">ISO/IEC 27005</span> æ­£æ˜¯é‡å°ã€Œè³‡è¨Šå®‰å…¨é¢¨éšªç®¡ç†ã€çš„åœ‹éš›æ¨™æº–æŒ‡å¼•æ–‡ä»¶ï¼Œæ•™ä½ æ€éº¼åšé¢¨éšªè©•é‘‘èˆ‡è™•ç†ã€‚
                </div>
                <div class="option-analysis-item incorrect">
                    <strong>(C) éŒ¯èª¤ï¼š</strong> é›–ç„¶ CIAï¼ˆæ©Ÿå¯†æ€§/å®Œæ•´æ€§/å¯ç”¨æ€§ï¼‰æ˜¯è©•ä¼°è¡æ“Šçš„é‡è¦æ§‹é¢ï¼Œä½†æ±ºå®šã€Œé¢¨éšªç­‰ç´šã€å¿…é ˆåŒæ™‚è€ƒé‡<strong>ã€Œç™¼ç”Ÿçš„å¯èƒ½æ€§ã€</strong>èˆ‡<strong>ã€Œè¡æ“Šç¨‹åº¦ã€</strong>ã€‚å…‰çœ‹ CIA åªæ˜¯åœ¨çœ‹è¡æ“Šé¢ï¼Œå¿½ç•¥äº†å¯èƒ½æ€§ï¼Œé‚è¼¯ä¸å®Œæ•´ã€‚ä¸”é¢¨éšªåˆ†æé€šå¸¸æœƒç”¢å‡ºé¢¨éšªå€¼ï¼Œè€Œéåƒ…é è³ªåŒ– CIA å°±æ±ºå®šç­‰ç´šã€‚
                </div>
                <div class="option-analysis-item correct">
                    <strong>(D) æ­£ç¢ºï¼š</strong> é¢¨éšªè­˜åˆ¥ï¼ˆRisk Identificationï¼‰å°±æ˜¯ã€Œé»åã€çš„éç¨‹ï¼Œä½ å¿…é ˆæŠŠ<span class="highlight">è³‡ç”¢</span>ã€<span class="highlight">å¨è„…</span>ã€<span class="highlight">å¼±é»</span>é€šé€šåˆ—å‡ºä¾†ï¼Œæ‰èƒ½é€²è¡Œä¸‹ä¸€æ­¥åˆ†æã€‚
                </div>
            </div>
        </div>

        <div class="exp-section">
            <div class="exp-title">è§€å¿µè£œå……èˆ‡å»¶ä¼¸</div>
            <div class="exp-content">
                <ul>
                    <li><strong>æ ¸å¿ƒè§€å¿µå®šä½ï¼š</strong> iPAS å¿…è€ƒåŸºç¤ã€‚é¢¨éšªç®¡ç†æµç¨‹ï¼šè­˜åˆ¥ â†’ åˆ†æ â†’ è©•ä¼° â†’ è™•ç†ã€‚</li>
                    <li><strong>æ³•æ¢æˆ–å®šç¾©ï¼š</strong>
                        <ul>
                            <li><strong>é¢¨éšªï¼š</strong> äº‹ä»¶ç™¼ç”Ÿçš„å¯èƒ½æ€§èˆ‡å½±éŸ¿çš„ç¶œåˆã€‚</li>
                            <li><strong>ISO/IEC 27005ï¼š</strong> è³‡è¨Šå®‰å…¨é¢¨éšªç®¡ç†çš„æŒ‡å¼•æ–‡ä»¶ã€‚</li>
                            <li><strong>CIA ä¸‰è¦ç´ ï¼š</strong> æ©Ÿå¯†æ€§ï¼ˆä¸è©²çœ‹çš„äººçœ‹ä¸åˆ°ï¼‰ã€å®Œæ•´æ€§ï¼ˆè³‡æ–™ä¸è¢«äº‚æ”¹ï¼‰ã€å¯ç”¨æ€§ï¼ˆéœ€è¦æ™‚ç”¨å¾—åˆ°ï¼‰ã€‚</li>
                        </ul>
                    </li>
                    <li><strong>è§¸é¡æ—é€šï¼š</strong>
                        <ul>
                            <li><strong>å°æ¯”æ¦‚å¿µï¼š</strong>
                                <br>1. <span class="tag-concept">é¢¨éšªè­˜åˆ¥</span> æ‰¾å‡ºæœ‰å“ªäº›é¢¨éšªä¾†æºï¼ˆåˆ—æ¸…å–®ï¼‰ã€‚
                                <br>2. <span class="tag-concept">é¢¨éšªåˆ†æ</span> ä¼°ç®—å¯èƒ½æ€§èˆ‡å½±éŸ¿ï¼ˆç®—åˆ†æ•¸ï¼‰ã€‚
                                <br>3. <span class="tag-concept">é¢¨éšªè©•ä¼°</span> è·Ÿæº–å‰‡æ¯”å°ï¼Œæ’å„ªå…ˆé †åºï¼ˆæ±ºå®šèª°å…ˆä¿®ï¼‰ã€‚
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>

        <div class="exp-section">
            <div class="exp-title">è¨˜æ†¶å£è¨£</div>
            <div class="exp-content">
                <ul>
                    <li>ã€Œè³‡å¼±å¨äº‹è¡ã€ï¼šè³‡ç”¢â†’å¼±é»â†’å¨è„…â†’äº‹ä»¶â†’è¡æ“Šã€‚</li>
                    <li>ã€Œç®¡é¢¨éšªã€ï¼šå…ˆæ‰¾ï¼ˆè­˜åˆ¥ï¼‰ã€å†ç®—ï¼ˆåˆ†æï¼‰ã€å†æ’ï¼ˆè©•ä¼°ï¼‰ã€å†åšï¼ˆè™•ç†ï¼‰ã€‚</li>
                </ul>
            </div>
        </div>

        <div class="exp-section">
            <div class="exp-title">å¸¸è¦‹é™·é˜±</div>
            <div class="exp-content">
                <ul>
                    <li>æŠŠ CIA ç•¶æˆã€Œç›´æ¥æ±ºå®šé¢¨éšªç­‰ç´šã€ï¼šå…¶å¯¦ CIA ç”¨ä¾†æè¿°å½±éŸ¿é¢å‘ï¼Œä½†é¢¨éšªç­‰ç´šä»éœ€çµåˆã€Œå¯èƒ½æ€§ã€èˆ‡ã€Œå½±éŸ¿ã€ã€‚</li>
                    <li>æŠŠã€Œå¨è„…ã€ç•¶æˆã€Œé¢¨éšªã€ï¼šå¨è„…åªæ˜¯åŸå› ä¹‹ä¸€ï¼Œé¢¨éšªæ˜¯æ•´é«”çµæœï¼ˆåŒ…å«æ©Ÿç‡ï¼‰ã€‚</li>
                    <li><strong>é¿å‘æŒ‡å—ï¼š</strong> çœ‹åˆ°ã€Œæ±ºå®šé¢¨éšªç­‰ç´šã€å°±è¦æƒ³åˆ°é‚„éœ€è¦æº–å‰‡ã€å¯èƒ½æ€§èˆ‡å½±éŸ¿ï¼Œä¸åª CIAã€‚</li>
                </ul>
            </div>
        </div>

        <div class="exp-section">
            <div class="exp-title">æ­£ç¢ºç­”æ¡ˆ</div>
            <div class="exp-content">
                <strong>ç­”æ¡ˆï¼šAã€Bã€D</strong><br>
                ä¸€å¥è©±ç†ç”±ï¼šA æ˜¯é¢¨éšªéˆçš„ç™½è©±å®šç¾©ï¼›B æ˜¯å¸¸è¦‹åƒè€ƒæŒ‡å¼•ï¼›D æ˜¯é¢¨éšªè­˜åˆ¥å¿…åšå…§å®¹ï¼›C æŠŠ CIA èªªæˆå¯ç›´æ¥æ±ºå®šé¢¨éšªç­‰ç´šï¼Œéåº¦ç°¡åŒ–ä¸”æ¼äº†ã€Œå¯èƒ½æ€§ã€ã€‚
            </div>
        </div>

        <div class="exp-section">
            <div class="exp-title">è‡ªæˆ‘æª¢æ¸¬</div>
            <div class="exp-content">
                <div class="self-check-item">
                    <div>Q1ï¼šå¦‚æœã€Œæœ‰å¼±é»ä½†æ²’æœ‰å¨è„…ã€ï¼ˆä¾‹å¦‚å®¶è£¡é–€æ²’é–ï¼Œä½†ä½åœ¨ç„¡äººå³¶ï¼‰ï¼Œé¢¨éšªæœƒæ€æ¨£ï¼Ÿ</div>
                    <button class="btn-show-answer" onclick="toggleAnswer(this)">é¡¯ç¤ºç­”æ¡ˆ</button>
                    <div class="self-check-answer">Aï¼šé¢¨éšªæ¥µä½ï¼ˆå› ç‚ºå¯èƒ½æ€§å¹¾ä¹ç‚º 0ï¼‰ã€‚</div>
                </div>
                <div class="self-check-item">
                    <div>Q2ï¼šå¦‚æœã€Œå¨è„…å¾ˆå¼·ä½†è³‡ç”¢ä¸é‡è¦ã€ï¼ˆä¾‹å¦‚é§­å®¢æ”»æ“Šäº†ä¸€å°ç©ºçš„å ±å»¢é›»è…¦ï¼‰ï¼Œé¢¨éšªæœƒæ€æ¨£ï¼Ÿ</div>
                    <button class="btn-show-answer" onclick="toggleAnswer(this)">é¡¯ç¤ºç­”æ¡ˆ</button>
                    <div class="self-check-answer">Aï¼šé¢¨éšªå¾ˆä½ï¼ˆå› ç‚ºè¡æ“Š/å½±éŸ¿å¹¾ä¹ç‚º 0ï¼‰ã€‚</div>
                </div>
                <div class="self-check-item">
                    <div>Q3ï¼šæŠŠä¾‹å­åˆ†é¡ï¼šå‹’ç´¢è»Ÿé«”ã€æœªæ›´æ–°çš„ç³»çµ±ã€æª”æ¡ˆè¢«åŠ å¯†ã€‚</div>
                    <button class="btn-show-answer" onclick="toggleAnswer(this)">é¡¯ç¤ºç­”æ¡ˆ</button>
                    <div class="self-check-answer">Aï¼šå‹’ç´¢è»Ÿé«”ï¼å¨è„…ï¼›æœªæ›´æ–°ï¼å¼±é»ï¼›è¢«åŠ å¯†ï¼äº‹ä»¶ï¼ˆé€ æˆå¯ç”¨æ€§å–ªå¤±çš„è¡æ“Šï¼‰ã€‚</div>
                </div>
            </div>
        </div>

    </div>

    <footer>
        <button class="clear-storage-btn" onclick="clearProgress()">æ¸…é™¤å­¸ç¿’ç´€éŒ„</button>
    </footer>
</div>

<script>
    // æ­£ç¢ºç­”æ¡ˆå®šç¾©
    const correctAnswers = ['A', 'B', 'D'];
    const storageKey = 'ipas_risk_q36_stats';

    // åˆå§‹åŒ–é é¢
    document.addEventListener('DOMContentLoaded', () => {
        loadProgress();
    });

    function checkAnswer() {
        const checkboxes = document.querySelectorAll('input[name="option"]');
        const feedbackDiv = document.getElementById('feedback');
        const btnExplain = document.getElementById('btnExplain');
        
        let userSelection = [];
        checkboxes.forEach(cb => {
            if (cb.checked) {
                userSelection.push(cb.value);
            }
        });

        // æ’åºä»¥ä¾¿æ¯”è¼ƒ
        userSelection.sort();
        const sortedCorrect = [...correctAnswers].sort();

        // åˆ¤æ–·é‚è¼¯
        const isCorrect = JSON.stringify(userSelection) === JSON.stringify(sortedCorrect);
        
        // è©³ç´°éŒ¯èª¤åˆ†æ
        let missing = sortedCorrect.filter(x => !userSelection.includes(x));
        let extra = userSelection.filter(x => !sortedCorrect.includes(x));

        let msg = '';
        if (isCorrect) {
            msg = 'ğŸ‰ å®Œå…¨æ­£ç¢ºï¼ä½ å·²ç¶“æŒæ¡é¢¨éšªç®¡ç†çš„æ ¸å¿ƒæ¦‚å¿µäº†ã€‚';
            feedbackDiv.className = 'feedback-area feedback-success';
        } else {
            feedbackDiv.className = 'feedback-area feedback-error';
            if (userSelection.length === 0) {
                msg = 'âš ï¸ ä½ é‚„æ²’ä½œç­”å–”ï¼è«‹è©¦è‘—é¸å‡ºæ­£ç¢ºçš„é¸é …ã€‚';
            } else {
                msg = 'âŒ ç­”éŒ¯äº†ã€‚';
                if (missing.length > 0) msg += ` æ¼é¸äº†ï¼š${missing.join(', ')}ã€‚`;
                if (extra.length > 0) msg += ` å¤šé¸äº†ï¼š${extra.join(', ')}ã€‚`;
                msg += ' è«‹åƒè€ƒä¸‹æ–¹è§£æã€‚';
            }
        }

        feedbackDiv.innerText = msg;
        feedbackDiv.style.display = 'block';
        btnExplain.style.display = 'inline-block';

        // æ¨™è¨˜é¸é …å°éŒ¯è¦–è¦ºæ•ˆæœ
        checkboxes.forEach(cb => {
            const parent = cb.parentElement;
            // æ¸…é™¤èˆŠç‹€æ…‹
            parent.style.borderColor = '#ddd';
            parent.style.backgroundColor = '#fff';

            if (correctAnswers.includes(cb.value)) {
                // é€™æ˜¯æ­£ç¢ºé¸é …
                if (cb.checked) {
                    parent.style.backgroundColor = '#d4edda'; // é¸å°äº†
                    parent.style.borderColor = '#28a745';
                } else {
                    parent.style.borderColor = '#28a745'; // æ¼é¸æç¤º
                    parent.style.borderStyle = 'dashed';
                }
            } else {
                // é€™æ˜¯éŒ¯èª¤é¸é …
                if (cb.checked) {
                    parent.style.backgroundColor = '#f8d7da'; // é¸éŒ¯äº†
                    parent.style.borderColor = '#dc3545';
                }
            }
        });

        // è¨˜éŒ„é€²åº¦ (åªåœ¨æœ‰ä½œç­”æ™‚è¨˜éŒ„)
        if (userSelection.length > 0) {
            saveProgress(isCorrect);
        }
    }

    function toggleExplanation() {
        const exp = document.getElementById('explanation');
        const btn = document.getElementById('btnExplain');
        if (exp.style.display === 'none' || exp.style.display === '') {
            exp.style.display = 'block';
            btn.innerText = 'éš±è—è§£æ';
            // å¹³æ»‘æ»¾å‹•åˆ°è§£æå€
            exp.scrollIntoView({ behavior: 'smooth' });
        } else {
            exp.style.display = 'none';
            btn.innerText = 'é¡¯ç¤ºè§£æ';
        }
    }

    // Toggle Self-Check Answers
    function toggleAnswer(btn) {
        const answerDiv = btn.nextElementSibling;
        if (answerDiv.style.display === 'block') {
            answerDiv.style.display = 'none';
            btn.innerText = 'é¡¯ç¤ºç­”æ¡ˆ';
        } else {
            answerDiv.style.display = 'block';
            btn.innerText = 'éš±è—ç­”æ¡ˆ';
        }
    }

    function resetQuiz() {
        const checkboxes = document.querySelectorAll('input[name="option"]');
        checkboxes.forEach(cb => {
            cb.checked = false;
            cb.parentElement.style.borderColor = '#ddd';
            cb.parentElement.style.backgroundColor = '#fff';
            cb.parentElement.style.borderStyle = 'solid';
        });
        
        document.getElementById('feedback').style.display = 'none';
        document.getElementById('explanation').style.display = 'none';
        document.getElementById('btnExplain').style.display = 'none';
        document.getElementById('btnExplain').innerText = 'é¡¯ç¤ºè§£æ';

        // Reset self-check answers too
        const answerDivs = document.querySelectorAll('.self-check-answer');
        const answerBtns = document.querySelectorAll('.btn-show-answer');
        answerDivs.forEach(div => div.style.display = 'none');
        answerBtns.forEach(btn => btn.innerText = 'é¡¯ç¤ºç­”æ¡ˆ');
    }

    // LocalStorage Functions
    function loadProgress() {
        const stats = JSON.parse(localStorage.getItem(storageKey)) || { total: 0, correct: 0 };
        updateStatsUI(stats);
    }

    function saveProgress(isCorrect) {
        let stats = JSON.parse(localStorage.getItem(storageKey)) || { total: 0, correct: 0 };
        stats.total++;
        if (isCorrect) stats.correct++;
        localStorage.setItem(storageKey, JSON.stringify(stats));
        updateStatsUI(stats);
    }

    function updateStatsUI(stats) {
        document.getElementById('progressStats').innerText = `æœ¬é¡Œç·´ç¿’ï¼š${stats.total} æ¬¡ | æ­£ç¢ºï¼š${stats.correct} æ¬¡`;
    }

    function clearProgress() {
        if(confirm('ç¢ºå®šè¦æ¸…é™¤æ‰€æœ‰å­¸ç¿’ç´€éŒ„å—ï¼Ÿ')) {
            localStorage.removeItem(storageKey);
            loadProgress();
        }
    }
</script>

</body>
</html>