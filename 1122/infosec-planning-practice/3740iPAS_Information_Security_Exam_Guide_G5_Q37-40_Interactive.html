<!-- filename: ipas_risk_management_group5_q37-40_interactive.html -->
<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iPAS è³‡è¨Šå®‰å…¨è¦åŠƒå¯¦å‹™ - é¡Œçµ„ 5 äº’å‹•æ•™å­¸</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --accent-color: #3498db;
            --success-color: #27ae60;
            --error-color: #c0392b;
            --bg-color: #f8f9fa;
            --card-bg: #ffffff;
            --text-color: #333333;
            --border-radius: 8px;
            --spacing: 16px;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans TC", sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        /* Header & Scenario */
        header {
            text-align: center;
            margin-bottom: 30px;
        }

        h1 {
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .subtitle {
            color: #666;
            font-size: 1.1em;
        }

        .scenario-card {
            background-color: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 20px;
            border-radius: var(--border-radius);
            margin-bottom: 25px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .scenario-title {
            font-weight: bold;
            color: #856404;
            margin-bottom: 10px;
            display: block;
        }

        /* Navigation Tabs */
        .tabs {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            gap: 10px;
        }

        .tab-btn {
            flex: 1;
            padding: 12px;
            border: none;
            background-color: #e9ecef;
            cursor: pointer;
            border-radius: var(--border-radius);
            font-weight: bold;
            color: #6c757d;
            transition: all 0.3s ease;
            position: relative;
        }

        .tab-btn.active {
            background-color: var(--primary-color);
            color: white;
        }

        .tab-btn.completed::after {
            content: 'âœ“';
            position: absolute;
            top: 5px;
            right: 5px;
            font-size: 0.8em;
            color: var(--success-color);
        }
        
        .tab-btn.active.completed::after {
            color: #add1b2;
        }

        /* Question Card */
        .question-card {
            background-color: var(--card-bg);
            padding: 30px;
            border-radius: var(--border-radius);
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        .q-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            border-bottom: 2px solid #eee;
            padding-bottom: 15px;
        }

        .q-badge {
            background-color: var(--accent-color);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.85em;
        }

        .q-text {
            font-size: 1.2em;
            font-weight: 500;
            margin-bottom: 20px;
        }

        .keyword-highlight {
            background-color: #fff176;
            padding: 2px 4px;
            border-radius: 4px;
            cursor: pointer;
            border-bottom: 2px solid #fbc02d;
        }
        
        .keyword-interactive {
            border-bottom: 1px dashed #999;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .keyword-interactive:hover {
            background-color: #e3f2fd;
        }
        
        .keyword-interactive.active {
            background-color: #fff176;
            border-bottom: 2px solid #fbc02d;
            color: #000;
        }

        .img-container {
            text-align: center;
            margin: 20px 0;
        }
        
        .img-container img {
            max-width: 100%;
            height: auto;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        /* Options */
        .options-list {
            list-style: none;
            padding: 0;
            margin-bottom: 25px;
        }

        .option-item {
            margin-bottom: 12px;
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
        }

        .option-item:hover {
            border-color: var(--accent-color);
            background-color: #f8fbff;
        }

        .option-item.selected {
            border-color: var(--accent-color);
            background-color: #ebf5fb;
        }
        
        .option-item.correct-answer {
            border-color: var(--success-color);
            background-color: #d4edda;
        }
        
        .option-item.wrong-answer {
            border-color: var(--error-color);
            background-color: #f8d7da;
        }

        .option-input {
            margin-right: 15px;
            transform: scale(1.2);
        }

        /* Controls */
        .controls {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: background 0.3s;
        }

        .btn-submit {
            background-color: var(--primary-color);
            color: white;
            flex: 2;
        }

        .btn-submit:hover {
            background-color: #1a252f;
        }
        
        .btn-submit:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }

        .btn-explain {
            background-color: #6c757d;
            color: white;
            flex: 1;
            display: none; /* Hidden by default */
        }

        /* Analysis Section */
        .analysis-section {
            margin-top: 30px;
            border-top: 2px dashed #ccc;
            padding-top: 20px;
            display: none; /* Hidden by default */
        }
        
        .step-block {
            margin-bottom: 20px;
            padding: 15px;
            background-color: #f8f9fa;
            border-left: 4px solid var(--accent-color);
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
        }

        .step-title {
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 8px;
            display: block;
            text-transform: uppercase;
            font-size: 0.9em;
            letter-spacing: 0.5px;
        }

        .concept-tag {
            display: inline-block;
            background-color: #e1f5fe;
            color: #0277bd;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.9em;
            margin-right: 5px;
            margin-bottom: 5px;
        }

        /* Dictionary & Footer */
        .footer-section {
            margin-top: 50px;
            background-color: #fff;
            padding: 20px;
            border-radius: var(--border-radius);
            border-top: 4px solid #6c757d;
        }

        .dict-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .dict-item {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 4px;
        }

        .dict-term {
            font-weight: bold;
            color: var(--primary-color);
            display: block;
            margin-bottom: 4px;
        }

        /* Spoiler for Self Check */
        .spoiler {
            background-color: #333;
            color: #333;
            padding: 2px 8px;
            border-radius: 4px;
            cursor: pointer;
            user-select: none;
            transition: all 0.3s;
        }

        .spoiler:hover, .spoiler.revealed {
            background-color: #eee;
            color: #333;
        }
        
        .status-msg {
            margin-top: 10px;
            font-weight: bold;
            text-align: center;
            min-height: 1.5em;
        }
        
        .status-correct { color: var(--success-color); }
        .status-wrong { color: var(--error-color); }
        
        .completion-banner {
            background-color: var(--success-color);
            color: white;
            text-align: center;
            padding: 15px;
            border-radius: var(--border-radius);
            margin-bottom: 20px;
            display: none;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>iPAS è³‡å®‰è¦åŠƒèˆ‡é˜²è­·å¯¦å‹™</h1>
        <div class="subtitle">é«˜ä¸­ç”Ÿä¹Ÿèƒ½æ‡‚çš„è³‡å®‰è¡åˆºç­ - é¡Œçµ„ 5 (37-40é¡Œ)</div>
    </header>

    <div id="completionBanner" class="completion-banner">
        ğŸ‰ æ­å–œå®Œæˆæ‰€æœ‰é¡Œç›®ï¼ä½ å·²ç¶“æŒæ¡äº†é¢¨éšªè©•ä¼°èˆ‡å›æ‡‰çš„æ ¸å¿ƒè§€å¿µï¼
    </div>

    <!-- Scenario Card -->
    <div class="scenario-card">
        <span class="scenario-title">ğŸ“š é¡Œçµ„æƒ…å¢ƒå¡</span>
        T å…¬å¸ç‚ºè³‡æœ¬é¡è¶…éç™¾å„„ä»¥ä¸Šä¹‹è‚¡ç¥¨ä¸Šå¸‚é›»å­å…¬å¸ï¼Œæ—¥å‰å‰›å®Œæˆ<span class="concept-tag">é¢¨éšªè©•ä¼°ï¼ˆæª¢æŸ¥å…¬å¸å“ªè£¡æœ‰å±éšªï¼‰</span>ä½œæ¥­ï¼Œç™¼ç¾ 5 å€‹é«˜é¢¨éšªäº‹é …ã€10 å€‹ä¸­é¢¨éšªäº‹é …åŠå¤šå€‹ä½é¢¨éšªäº‹é …ã€‚ä¾ç…§å…¬å¸æ‰€è¨‚å®šä¹‹é¢¨éšªç®¡ç†è¾¦æ³•ï¼Œé«˜é¢¨éšªäº‹é …å¿…é ˆè¦åŠƒ<span class="concept-tag">é¢¨éšªæ”¹å–„å°ç­–ï¼ˆè§£æ±ºå±éšªçš„æ–¹æ³•ï¼‰</span>ï¼Œä¸¦å…·ä»¥åŸ·è¡Œã€‚
    </div>

    <!-- Navigation -->
    <div class="tabs" id="tabsContainer">
        <!-- Generated by JS -->
    </div>

    <!-- Question Container -->
    <div id="questionContainer" class="question-card">
        <!-- Generated by JS -->
    </div>

    <!-- Dictionary Section -->
    <div class="footer-section">
        <h3>ğŸ“– åè©å°å­—å…¸ (æ–°æ‰‹å¿…çœ‹)</h3>
        <div class="dict-grid">
            <div class="dict-item">
                <span class="dict-term">é¢¨éšªè©•ä¼° (Risk Assessment)</span>
                åƒèº«é«”æª¢æŸ¥ä¸€æ¨£ï¼Œæ‰¾å‡ºå…¬å¸è³‡è¨Šç³»çµ±å“ªè£¡ç”Ÿç—…æˆ–å¯èƒ½å—å‚·çš„éç¨‹ã€‚
            </div>
            <div class="dict-item">
                <span class="dict-term">é¢¨éšªåˆ†ç´š (Risk Grading)</span>
                æŠŠå±éšªåˆ†æˆã€Œé«˜ã€ä¸­ã€ä½ã€ç­‰ç´šï¼Œå°±åƒæ€¥è¨ºå®¤æª¢å‚·åˆ†é¡ï¼Œåš´é‡çš„å…ˆæ•‘ã€‚
            </div>
            <div class="dict-item">
                <span class="dict-term">é«˜é¢¨éšªäº‹é … (High Risk)</span>
                ç™¼ç”Ÿæ©Ÿç‡é«˜ä¸”å¾Œæœåš´é‡çš„äº‹ï¼Œä¾‹å¦‚ã€Œé§­å®¢éš¨æ™‚èƒ½å·èµ°å®¢æˆ¶å€‹è³‡ã€ã€‚
            </div>
            <div class="dict-item">
                <span class="dict-term">é¢¨éšªå›æ‡‰ (Risk Response)</span>
                æ±ºå®šæ€éº¼é¢å°å±éšªçš„ç­–ç•¥ï¼šæ˜¯è¦é™ä½å®ƒã€è½‰ç§»å®ƒã€é¿é–‹å®ƒï¼Œé‚„æ˜¯æ¥å—å®ƒã€‚
            </div>
            <div class="dict-item">
                <span class="dict-term">æ³•éµé¢¨éšª (Compliance Risk)</span>
                å› ç‚ºä¸éµå®ˆæ³•å¾‹ï¼ˆå¦‚å€‹è³‡æ³•ï¼‰è€Œè¢«ç½°æ¬¾æˆ–å‘Šä¸Šæ³•é™¢çš„é¢¨éšªã€‚
            </div>
            <div class="dict-item">
                <span class="dict-term">å…¬å¸æ²»ç† (Corporate Governance)</span>
                å…¬å¸é«˜å±¤ç”¨ä¾†ç®¡ç†ã€ç›£ç£å…¬å¸çš„åˆ¶åº¦ï¼Œç¢ºä¿å…¬å¸è³ºéŒ¢ä¸”å®ˆæ³•ã€‚
            </div>
            <div class="dict-item">
                <span class="dict-term">é›²ç«¯æœå‹™ (Cloud Service)</span>
                æŠŠè³‡æ–™å­˜åœ¨ç¶²è·¯ä¸Šåˆ¥äººçš„å¼·å¤§é›»è…¦è£¡ï¼Œè€Œä¸æ˜¯è‡ªå·±å…¬å¸çš„ç¡¬ç¢Ÿã€‚
            </div>
            <div class="dict-item">
                <span class="dict-term">SI å» å•† (System Integrator)</span>
                ç³»çµ±æ•´åˆå•†ï¼Œå°ˆé–€å¹«å…¬å¸æŠŠå„ç¨®è»Ÿç¡¬é«”çµ„è£èµ·ä¾†å¼„åˆ°å¥½çš„å¤–éƒ¨å°ˆå®¶ã€‚
            </div>
        </div>
    </div>
</div>

<script>
    // Data Structure
    const questions = [
        {
            id: 37,
            type: 'single',
            title: 'é¡Œç›® 37ï¼šé¢¨éšªèª¿æ•´åŸå› ',
            text: 'T å…¬å¸æœªè˜é›‡<span class="keyword-interactive" data-k="1">è³‡å®‰é•·</span>äº¦ç„¡å°ˆè²¬è³‡å®‰ç®¡ç†å–®ä½ï¼Œåˆæ­¥è©•ä¼°ç‚ºä¸­é¢¨éšªäº‹é …ã€‚å¾Œä¾†ç¶“éå…§éƒ¨è¨è«–ï¼Œ<span class="keyword-interactive" data-k="2">å…¬å¸æ²»ç†ä¸»ç®¡</span>è¦æ±‚å°‡å…¶èª¿æ•´ç‚º<span class="keyword-interactive" data-k="3">é«˜é¢¨éšªäº‹é …</span>ï¼Œè«‹å•æ­¤é …èª¿æ•´ã€Œæœ€ã€å¯èƒ½çš„åŸå› ç‚ºä½•ï¼Ÿ',
            options: [
                { id: 'A', text: 'è³‡è¨Šå®‰å…¨ç‚ºå„ç•Œé‡è¦–é …ç›®ï¼Œå„é …è³‡å®‰æªæ–½çš†æ‡‰ä»¥æœ€é«˜æ¨™æº–è¦æ±‚' },
                { id: 'B', text: 'å…¬å¸äººå“¡ç·¨åˆ¶è¨­æœ‰è³‡å®‰é•·ä¹‹è·ä½ï¼Œä½†å°šæœªæ‹›è˜å°ˆæ¥­ä¸»ç®¡' },
                { id: 'C', text: 'æ³•ä»¤æ³•è¦è¦æ±‚' },
                { id: 'D', text: 'å»å¹´åŸ·è¡Œé¢¨éšªè©•é‘‘æ™‚ï¼Œæ­¤é …ç›®äº¦åˆ—ç‚ºä¸­é¢¨éšªäº‹é …' }
            ],
            correct: ['C'],
            analysis: {
                step1: 'é—œéµå­—ï¼šä¸Šå¸‚é›»å­å…¬å¸ï¼ˆæƒ…å¢ƒï¼‰ã€è³‡å®‰é•·ã€å…¬å¸æ²»ç†ä¸»ç®¡ã€èª¿æ•´ç‚ºé«˜é¢¨éšªã€‚',
                step2: 'ç™½è©±ç¿»è­¯ï¼šæœ¬ä¾†è¦ºå¾—æ²’è³‡å®‰ä¸»ç®¡åªæ˜¯ä¸­ç­‰å±éšªï¼Œä½†ç®¡å…¬å¸çš„å¤§é ­èªªé€™æ˜¯ã€Œé«˜é¢¨éšªã€ï¼Œç‚ºä»€éº¼ï¼Ÿé€šå¸¸æ˜¯å› ç‚ºã€Œä¸æ”¹æœƒé•æ³•ã€ã€‚',
                step3: 'è§£é¡Œæ€è·¯ï¼šT å…¬å¸æ˜¯ã€Œè³‡æœ¬é¡ç™¾å„„ä»¥ä¸Šä¸Šå¸‚å…¬å¸ã€ã€‚ä¾ç…§é‡‘ç®¡æœƒè¦å®šï¼Œé€™é¡å…¬å¸ã€Œå¿…é ˆã€è¨­ç½®è³‡å®‰é•·èˆ‡å°ˆè²¬å–®ä½ã€‚å¦‚æœä¸åšï¼Œå°±æ˜¯é•æ³•ï¼Œé€™æ˜¯æœ€åš´é‡çš„ã€Œæ³•éµé¢¨éšªã€ã€‚',
                step4: 'é¸é …åˆ†æï¼š(A) æœ€é«˜æ¨™æº–ä¸åˆ‡å¯¦éš›ï¼Œé€šå¸¸æ˜¯ä¾é¢¨éšªèª¿æ•´ã€‚(B) è·ä½ç©ºç¼ºæ˜¯äº‹å¯¦ï¼Œä½†è®Šæˆé«˜é¢¨éšªçš„ä¸»å› æ˜¯ã€Œæ³•è¦å¼·åˆ¶æ€§ã€ã€‚(C) æ­£è§£ï¼Œé‡‘ç®¡æœƒè¦æ±‚å¤§å‹ä¸Šå¸‚å…¬å¸å¿…é ˆè¨­è³‡å®‰é•·ï¼Œæœªè¨­ç«‹å±¬é‡å¤§ç¼ºå¤±ã€‚(D) å»å¹´çš„çµæœä¸å½±éŸ¿ä»Šå¹´çš„æ³•è¦è¦æ±‚ã€‚',
                concepts: 'æ³•éµé¢¨éšªã€é‡‘ç®¡æœƒè³‡å®‰æ²»ç†æŒ‡å¼•',
                mnemonic: 'ä¸Šå¸‚å¤§å…¬å¸ï¼Œæ²’å®˜æœƒçŠ¯æ³•ã€‚',
                traps: 'å®¹æ˜“é¸ (A) æˆ– (B)ï¼Œè¦ºå¾—æ˜¯å› ç‚ºé‡è¦–è³‡å®‰ã€‚å…¶å¯¦é—œéµåœ¨æ–¼ã€Œä¸Šå¸‚ç™¾å„„ã€é€™å€‹æƒ…å¢ƒæš—ç¤ºäº†æ³•è¦å¼·åˆ¶åŠ›ã€‚',
                selfCheck: [
                    { q: 'å¦‚æœæ˜¯å°éºµåº—æ²’è¨­è³‡å®‰é•·ï¼Œç®—æ˜¯é«˜é¢¨éšªå—ï¼Ÿ', a: 'é€šå¸¸ä¸ç®—ï¼Œå› ç‚ºæ³•è¦æ²’å¼·åˆ¶è¦æ±‚å°åƒåº—ï¼Œä¸”å…¶è³‡è¨Šè³‡ç”¢åƒ¹å€¼ç›¸å°ä½ã€‚' },
                    { q: 'æ³•éµé¢¨éšªé€šå¸¸è¢«æ­¸é¡åœ¨å“ªå€‹ç­‰ç´šï¼Ÿ', a: 'é€šå¸¸æ˜¯é«˜é¢¨éšªï¼Œå› ç‚ºæ¶‰åŠç½°æ¬¾ã€å•†è­½æå¤±æˆ–å‹’ä»¤åœæ¥­ã€‚' }
                ]
            }
        },
        {
            id: 38,
            type: 'single',
            title: 'é¡Œç›® 38ï¼šé¢¨éšªå›æ‡‰ç­–ç•¥',
            text: 'é¢¨éšªè©•é‘‘ç™¼ç¾çš„ 5 å€‹é«˜é¢¨éšªäº‹é …ï¼Œçš†èˆ‡å…¬å¸ç›®å‰<span class="keyword-interactive" data-k="1">æœ€ä¸»è¦ä¹‹æ¥­å‹™</span>æˆ–ä¸»è¦ä½œæ¥­æµç¨‹ç›¸é—œï¼Œä¸‹åˆ—ä½•é …<span class="keyword-interactive" data-k="2">é¢¨éšªå›æ‡‰</span>æ˜¯å…¬å¸æœ€<span class="keyword-interactive" data-k="3">ã€Œä¸ã€å¯èƒ½</span>é¸æ“‡ï¼Ÿ',
            options: [
                { id: 'A', text: 'å¢åŠ æ§åˆ¶ä½œæ¥­ä»¥é™ä½é¢¨éšª' },
                { id: 'B', text: 'è³¼ç½®ä¿éšªï¼Œé™ä½å¯èƒ½æå¤±' },
                { id: 'C', text: 'å°‹æ±‚åˆæ ¼å¤–éƒ¨åˆä½œå» å•†ï¼Œé™ä½é¢¨éšª' },
                { id: 'D', text: 'çµæŸè©²é …æ¥­å‹™ï¼Œé¿å…æ‰¿æ“”é¢¨éšª' }
            ],
            correct: ['D'],
            analysis: {
                step1: 'é—œéµå­—ï¼šæœ€ä¸»è¦æ¥­å‹™ã€é¢¨éšªå›æ‡‰ã€ä¸å¯èƒ½ã€‚',
                step2: 'ç™½è©±ç¿»è­¯ï¼šé€™äº›å±éšªéƒ½ç™¼ç”Ÿåœ¨å…¬å¸æœ€è³ºéŒ¢çš„æ ¸å¿ƒç”Ÿæ„ä¸Šã€‚å“ªä¸€ç¨®è§£æ±ºæ–¹æ³•æ˜¯è€é—†çµ•å°ä¸æœƒé¸çš„ï¼Ÿ',
                step3: 'è§£é¡Œæ€è·¯ï¼šé¢¨éšªå›æ‡‰æœ‰å››ç¨®ï¼šè¦é¿ï¼ˆä¸åšï¼‰ã€é™ä½ï¼ˆåšé˜²è­·ï¼‰ã€è½‰ç§»ï¼ˆè²·ä¿éšª/å¤–åŒ…ï¼‰ã€æ¥å—ï¼ˆç”±å®ƒå»ï¼‰ã€‚æ ¸å¿ƒæ¥­å‹™æ˜¯å…¬å¸å‘½è„ˆï¼Œä¸å¯èƒ½ç‚ºäº†æ€•é§­å®¢å°±ç›´æ¥ã€Œé—œé–€ä¸åšç”Ÿæ„ã€ï¼ˆè¦é¿é¢¨éšªï¼‰ã€‚',
                step4: 'é¸é …åˆ†æï¼š(A) é™ä½é¢¨éšªï¼Œæœ€å¸¸è¦‹ã€‚(B) è½‰ç§»é¢¨éšªï¼Œåˆç†ã€‚(C) é™ä½æˆ–è½‰ç§»é¢¨éšªï¼Œåˆç†ã€‚(D) è¦é¿é¢¨éšªï¼ˆä¸åšï¼‰ï¼Œä½†é€™æ˜¯æ ¸å¿ƒæ¥­å‹™ï¼Œé—œäº†å…¬å¸å°±å€’äº†ï¼Œæ•…ä¸å¯èƒ½ã€‚',
                concepts: 'é¢¨éšªå›æ‡‰ç­–ç•¥ï¼ˆè¦é¿ã€é™ä½ã€è½‰ç§»ã€æ¥å—ï¼‰',
                mnemonic: 'æ ¸å¿ƒæ¥­å‹™ä¸èƒ½åœï¼Œå¯ä»¥é˜²ã€å¯ä»¥ä¿ã€å¯ä»¥å¤–åŒ…ï¼Œå°±æ˜¯ä¸èƒ½é—œã€‚',
                traps: 'èª¤ä»¥ç‚ºé«˜é¢¨éšªå°±ä¸€å®šè¦ã€Œé¿å…ã€ã€‚åªæœ‰éæ ¸å¿ƒã€é«˜é¢¨éšªä¸”ç„¡åˆ©å¯åœ–çš„æ¥­å‹™æ‰æœƒé¸æ“‡ã€Œé¿å…/çµæŸã€ã€‚',
                selfCheck: [
                    { q: 'å¦‚æœæ˜¯ã€Œè³ éŒ¢åˆé«˜è³‡å®‰é¢¨éšªã€çš„èˆŠæ¥­å‹™ï¼Œæœƒé¸å“ªå€‹ï¼Ÿ', a: 'é€™æ™‚å°±å¯èƒ½é¸ (D) çµæŸè©²æ¥­å‹™ï¼ˆè¦é¿ï¼‰ã€‚' },
                    { q: 'è²·ä¿éšªå±¬æ–¼å“ªç¨®é¢¨éšªç­–ç•¥ï¼Ÿ', a: 'é¢¨éšªè½‰ç§» (Risk Transfer)ã€‚' }
                ]
            }
        },
        {
            id: 39,
            type: 'single',
            title: 'é¡Œç›® 39ï¼šæŒçºŒé«˜é¢¨éšªåŸå› ',
            text: '<div><img src="https://i.meee.com.tw/fGnclcA.jpg" alt="é¢¨éšªè©•ä¼°æµç¨‹åœ–" style="max-height:200px; display:block; margin:0 auto;"></div>å…¬å¸é¢¨éšªè©•é‘‘å¾Œç™¼ç¾ï¼Œå…¶ä¸­ä¸€å€‹é«˜é¢¨éšªäº‹é …<span class="keyword-interactive" data-k="1">å»å¹´åº¦äº¦åˆ—ç‚ºé«˜é¢¨éšª</span>äº‹é …ã€‚è«‹å•ç™¼ç”Ÿæ­¤ç¾è±¡æœ€å¯èƒ½çš„åŸå› ç‚ºä½•ï¼Ÿ<br><br>å‡è¨­åŸå› å¦‚ä¸‹ï¼š<br>1. æ—¢æœ‰æ§åˆ¶æªæ–½æœªè½å¯¦<br>2. æ—¢æœ‰æ§åˆ¶æªæ–½è¨­è¨ˆç„¡æ•ˆ<br>3. é¢¨éšªè©•ä¼°æ¨™æº–æ”¾å¯¬<br>4. æ–°å¢å¨è„…æˆ–å¼±é»',
            options: [
                { id: 'A', text: '1ã€2ã€3' },
                { id: 'B', text: '2ã€3ã€4' },
                { id: 'C', text: '1ã€2ã€4' },
                { id: 'D', text: '1ã€2' }
            ],
            correct: ['C'],
            analysis: {
                step1: 'é—œéµå­—ï¼šå»å¹´åº¦äº¦ç‚ºé«˜é¢¨éšªã€æŒçºŒå­˜åœ¨ã€‚',
                step2: 'ç™½è©±ç¿»è­¯ï¼šå»å¹´å°±å¾ˆå±éšªï¼Œä»Šå¹´é‚„æ˜¯å¾ˆå±éšªï¼Œç‚ºä»€éº¼ï¼Ÿä¸€å®šæ˜¯æ²’ä¿®å¥½ï¼Œæˆ–è€…ç—…æƒ…æƒ¡åŒ–äº†ã€‚',
                step3: 'è§£é¡Œæ€è·¯ï¼šé«˜é¢¨éšªæŒçºŒå­˜åœ¨é€šå¸¸æœ‰å¹¾å€‹åŸå› ï¼š(1) èªªè¦æ”¹ä½†æ²’åšï¼ˆæœªè½å¯¦ï¼‰ã€‚(2) åšäº†ä½†æ–¹æ³•çˆ›ï¼ˆè¨­è¨ˆç„¡æ•ˆï¼‰ã€‚(4) ç’°å¢ƒè®Šæ›´ç³Ÿäº†ï¼ˆæ–°å¢å¨è„…ï¼‰ã€‚è‡³æ–¼ (3) æ¨™æº–æ”¾å¯¬é€šå¸¸æœƒè®“é¢¨éšªè®Šä½ï¼ˆä¾‹å¦‚æœ¬ä¾†60åˆ†ä¸åŠæ ¼ï¼Œæ”¹æˆ40åˆ†å°±ä¸åŠæ ¼ï¼Œé‚£é«˜é¢¨éšªåè€Œå®¹æ˜“è®Šä¸­é¢¨éšª...æ­¤é‚è¼¯è¼ƒæ€ªï¼Œä¸€èˆ¬è€Œè¨€æ¨™æº–è®Šæ›´æ˜¯ä¸­æ€§ï¼Œä½†å‰ä¸‰è€…æ˜¯é€ æˆã€Œæ®˜é¤˜é¢¨éšªã€ä»é«˜çš„ä¸»å› ï¼‰ã€‚<br>ä¾ iPAS è€ƒé¡Œé‚è¼¯ï¼Œ1ã€2ã€4 æ˜¯æœ€ç›´æ¥å°è‡´é¢¨éšªé™ä¸ä¸‹ä¾†çš„åŸå› ã€‚',
                step4: 'é¸é …åˆ†æï¼š(A)(B) åŒ…å« 3ï¼Œé‚è¼¯é—œè¯è¼ƒå¼±ã€‚(C) 1(æ²’åš)ã€2(æ²’æ•ˆ)ã€4(è®Šæ›´ç³Ÿ) éƒ½æ˜¯å°è‡´é«˜é¢¨éšªçš„ä¸»å› ã€‚',
                concepts: 'æ®˜é¤˜é¢¨éšª (Residual Risk)ã€æŒçºŒæ”¹å–„',
                mnemonic: 'æ²’åšã€æ²’æ•ˆã€ç’°å¢ƒè®Šç³Ÿï¼Œç—…ç•¶ç„¶ä¸æœƒå¥½ã€‚',
                traps: 'è¦æ³¨æ„é¡Œç›®æ˜¯å•ã€Œå¯èƒ½åŸå› ã€ã€‚å¦‚æœæ§åˆ¶æªæ–½æœ‰æ•ˆï¼Œæ®˜é¤˜é¢¨éšªæ‡‰è©²æœƒé™ä½ã€‚',
                selfCheck: [
                    { q: 'å¦‚æœé¢¨éšªå·²ç¶“é™åˆ°ã€Œå¯æ¥å—æ°´æº–ã€ï¼Œé‚„éœ€è¦åšä»€éº¼å—ï¼Ÿ', a: 'éœ€è¦æŒçºŒç›£æ§ï¼Œç¢ºä¿å®ƒç¶­æŒåœ¨ä½é¢¨éšªã€‚' }
                ]
            }
        },
        {
            id: 40,
            type: 'multi',
            title: 'é¡Œç›® 40ï¼šé›²ç«¯é·ç§»é¢¨éšª',
            text: 'å…¬å¸é«˜å±¤è©•ä¼°å¾Œï¼Œæ±ºå®šå°‡ä¸»è¦ç‡Ÿé‹ç³»çµ±<span class="keyword-interactive" data-k="1">æ¶è¨­æ–¼é›²ç«¯</span>ä¸¦å·²ç·¨åˆ—é ç®—ã€‚é¢¨éšªè©•ä¼°å°‡ã€Œç¼ºä¹å»ºç½®é›²ç«¯ç³»çµ±ä¹‹è»Ÿç¡¬é«”ã€åˆ—ç‚ºé«˜é¢¨éšªã€‚ä¸‹åˆ—å“ªäº›æ˜¯å¯èƒ½çš„<span class="keyword-interactive" data-k="2">é¢¨éšªå›æ‡‰</span>ï¼Ÿï¼ˆè¤‡é¸ï¼‰',
            options: [
                { id: 'A', text: 'å°‹æ‰¾ç¬¦åˆå…¬å¸è¦æ±‚ä¹‹é›²ç«¯æœå‹™å» å•†å…±åŒåˆä½œ' },
                { id: 'B', text: 'å°‹æ‰¾å°ˆæ¥­ SI å» å•†å”åŠ©ç³»çµ±è½‰ç§»è‡³é›²ç«¯' },
                { id: 'C', text: 'å¢è˜å°ˆæ¥­äººå“¡ã€è³¼è²·è»Ÿç¡¬é«”ä¸¦å¢è¨­åˆæ ¼æ©Ÿæˆ¿è‡ªè¡Œå»ºç½®' },
                { id: 'D', text: 'å› ç¶“è²»è¶…éé ç®— 5%ï¼Œè¦æ±‚å…¬å¸åœæ­¢æ­¤é …è®Šæ›´' }
            ],
            correct: ['A', 'B', 'C'],
            analysis: {
                step1: 'é—œéµå­—ï¼šæ±ºå®šæ¶è¨­æ–¼é›²ç«¯ã€å·²ç·¨åˆ—é ç®—ã€ç¼ºä¹è»Ÿç¡¬é«”ï¼ˆé«˜é¢¨éšªï¼‰ã€‚',
                step2: 'ç™½è©±ç¿»è­¯ï¼šè€é—†å·²ç¶“æ‹æ¿å®šæ¡ˆè¦ä¸Šé›²ç«¯äº†ï¼ŒéŒ¢ä¹Ÿæº–å‚™äº†ã€‚ç¾åœ¨å•é¡Œæ˜¯ã€Œæˆ‘å€‘æ²’æŠ€è¡“æ²’è¨­å‚™ã€ã€‚æ€éº¼è¾¦ï¼Ÿ',
                step3: 'è§£é¡Œæ€è·¯ï¼šæ—¢ç„¶æ±ºç­–æ˜¯ã€Œè¦åšã€ï¼ˆä¸èƒ½è¦é¿ï¼‰ï¼Œé‚£å°±è¦è§£æ±ºã€Œç¼ºä¹èƒ½åŠ›ã€çš„å•é¡Œã€‚è§£æ±ºæ–¹æ³•å¯ä»¥æ˜¯ï¼šæ‰¾äººå¹«å¿™ï¼ˆAã€Bï¼‰æˆ–è‡ªå·±ç·´åŠŸè²·è£å‚™ï¼ˆCï¼‰ã€‚é¸é … (D) å«è€é—†ä¸è¦åšäº†ï¼Œé€™é•èƒŒé¡Œç›®ã€Œå·²æ±ºå®šä¸”ç·¨åˆ—é ç®—ã€çš„å‰æï¼Œä¸”é€šå¸¸ 5% é ç®—è¶…æ”¯ä¸è¶³ä»¥æ¨ç¿»é‡å¤§æ±ºç­–ã€‚',
                step4: 'é¸é …åˆ†æï¼š(A) å§”å¤–/åˆä½œï¼ˆé™ä½/è½‰ç§»é¢¨éšªï¼‰ã€‚(B) æ‰¾ SI å”åŠ©ï¼ˆé™ä½/è½‰ç§»é¢¨éšªï¼‰ã€‚(C) è‡ªå»ºï¼ˆå…§éƒ¨æ§åˆ¶ï¼Œé™ä½é¢¨éšªï¼‰ã€‚(D) åœæ­¢è®Šæ›´ï¼ˆè¦é¿é¢¨éšªï¼‰ï¼Œä½†é€™ä¸ç¬¦åˆå…¬å¸ç™¼å±•ç­–ç•¥ã€‚',
                concepts: 'ç‡Ÿé‹ç­–ç•¥èˆ‡é¢¨éšªç®¡ç†çš„ä¸€è‡´æ€§',
                mnemonic: 'è€é—†èªªè¦åšï¼Œä½ å°±æƒ³è¾¦æ³•åšï¼ˆæ‰¾äººæˆ–è‡ªå·±åšï¼‰ï¼Œä¸è¦èªªä¸åšã€‚',
                traps: 'å®¹æ˜“é¸ Dï¼Œè¦ºå¾—è¶…éé ç®—å°±ä¸è¦åšã€‚ä½†åœ¨ä¼æ¥­å¯¦å‹™èˆ‡è€ƒé¡Œæƒ…å¢ƒä¸­ï¼Œæˆ°ç•¥ç›®æ¨™ï¼ˆä¸Šé›²ï¼‰å„ªå…ˆæ–¼å¾®å¹…é ç®—å·®ç•°ã€‚',
                selfCheck: [
                    { q: 'å¦‚æœæ˜¯ã€Œæ³•è¦ç¦æ­¢ä¸Šé›²ã€ï¼Œé‚£èƒ½ä¸èƒ½é¸ Dï¼Ÿ', a: 'å¯ä»¥ï¼Œå¦‚æœé•æ³•ï¼Œé¢¨éšªå›æ‡‰å°±æ‡‰è©²åŒ…å«ã€Œè¦é¿ï¼ˆä¸åšï¼‰ã€ã€‚' },
                    { q: 'é¸é … A å’Œ B æœ‰ä»€éº¼å·®åˆ¥ï¼Ÿ', a: 'A æ˜¯ç›´æ¥ç”¨åˆ¥äººçš„é›²ï¼ˆå¦‚ AWS/Azureï¼‰ï¼ŒB æ˜¯æ‰¾äººå¹«ä½ æ¬å®¶æˆ–æ¶è¨­ã€‚' }
                ]
            }
        }
    ];

    // State
    let currentTabId = 37;
    let userAnswers = {}; // { 37: ['A'], 40: ['A', 'B'] }
    let questionStatus = {}; // { 37: 'correct' | 'wrong' | null }

    // DOM Elements
    const tabsContainer = document.getElementById('tabsContainer');
    const questionContainer = document.getElementById('questionContainer');
    const completionBanner = document.getElementById('completionBanner');

    // Init
    function init() {
        renderTabs();
        renderQuestion(currentTabId);
    }

    function renderTabs() {
        tabsContainer.innerHTML = '';
        questions.forEach(q => {
            const btn = document.createElement('button');
            btn.className = `tab-btn ${q.id === currentTabId ? 'active' : ''} ${questionStatus[q.id] ? 'completed' : ''}`;
            btn.innerText = `Q${q.id}`;
            btn.onclick = () => switchTab(q.id);
            tabsContainer.appendChild(btn);
        });
    }

    function switchTab(id) {
        currentTabId = id;
        renderTabs();
        renderQuestion(id);
    }

    function renderQuestion(id) {
        const q = questions.find(item => item.id === id);
        if (!q) return;

        const isMulti = q.type === 'multi';
        const hasAnswered = !!questionStatus[id];
        const currentAns = userAnswers[id] || [];

        let optionsHtml = '';
        q.options.forEach(opt => {
            const isSelected = currentAns.includes(opt.id);
            let statusClass = '';
            if (hasAnswered) {
                if (q.correct.includes(opt.id)) statusClass = 'correct-answer';
                else if (isSelected) statusClass = 'wrong-answer';
            } else if (isSelected) {
                statusClass = 'selected';
            }

            const inputType = isMulti ? 'checkbox' : 'radio';
            const checked = isSelected ? 'checked' : '';
            
            optionsHtml += `
                <li class="option-item ${statusClass}" onclick="selectOption(${id}, '${opt.id}', '${q.type}')">
                    <input type="${inputType}" name="q${id}" class="option-input" value="${opt.id}" ${checked} ${hasAnswered ? 'disabled' : ''}>
                    <span><strong>(${opt.id})</strong> ${opt.text}</span>
                </li>
            `;
        });

        // Generate Self Check HTML
        let selfCheckHtml = '';
        q.analysis.selfCheck.forEach((item, idx) => {
            selfCheckHtml += `
                <div style="margin-top:10px;">
                    <strong>Q${idx+1}: </strong>${item.q}<br>
                    <strong>A: </strong><span class="spoiler" onclick="this.classList.toggle('revealed')">${item.a}</span>
                </div>
            `;
        });

        const html = `
            <div class="q-header">
                <span class="q-badge">${isMulti ? 'è¤‡é¸é¡Œ' : 'å–®é¸é¡Œ'}</span>
                <span>${questionStatus[id] ? (questionStatus[id] === 'correct' ? 'âœ… å·²ç­”å°' : 'âŒ å·²ç­”éŒ¯') : 'å°šæœªä½œç­”'}</span>
            </div>
            
            <div class="q-text">
                ${q.text}
            </div>

            <ul class="options-list">
                ${optionsHtml}
            </ul>

            <div class="controls">
                <button class="btn btn-submit" onclick="submitAnswer(${id})" ${hasAnswered ? 'disabled' : ''}>
                    ${hasAnswered ? 'å·²é€å‡º' : 'é€å‡ºç­”æ¡ˆ'}
                </button>
                <button class="btn btn-explain" id="btnExplain" onclick="toggleAnalysis()" style="display: ${hasAnswered ? 'block' : 'none'}">
                    é¡¯ç¤º/éš±è—è§£æ
                </button>
            </div>

            <div class="status-msg" id="statusMsg">
                ${hasAnswered 
                    ? (questionStatus[id] === 'correct' 
                        ? '<span class="status-correct">ç­”å°äº†ï¼å¤ªæ£’äº†ï¼è«‹æŸ¥çœ‹ä¸‹æ–¹è§£æã€‚</span>' 
                        : `<span class="status-wrong">ç­”éŒ¯äº†ã€‚æ­£ç¢ºç­”æ¡ˆæ˜¯ ${q.correct.join('ã€')}ã€‚</span>`)
                    : ''
                }
            </div>

            <div class="analysis-section" id="analysisSection" style="display: ${hasAnswered ? 'block' : 'none'}">
                <div class="step-block">
                    <span class="step-title">ç¬¬ä¸€æ­¥ï¼šæ‰¾é—œéµå­— (é»æ“Šé¡Œç›®é»ƒåº•å­—)</span>
                    <p>${q.analysis.step1}</p>
                </div>
                <div class="step-block">
                    <span class="step-title">ç¬¬äºŒæ­¥ï¼šç™½è©±ç¿»è­¯</span>
                    <p>${q.analysis.step2}</p>
                </div>
                <div class="step-block">
                    <span class="step-title">ç¬¬ä¸‰æ­¥ï¼šè§£é¡Œæ€è·¯</span>
                    <p>${q.analysis.step3}</p>
                </div>
                <div class="step-block">
                    <span class="step-title">ç¬¬å››æ­¥ï¼šé¸é …åˆ†æ</span>
                    <p>${q.analysis.step4}</p>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div class="step-block" style="background-color: #e8f5e9; border-color: #2e7d32;">
                        <span class="step-title" style="color: #2e7d32;">ğŸ’¡ è§€å¿µè£œå……</span>
                        <p>${q.analysis.concepts}</p>
                    </div>
                    <div class="step-block" style="background-color: #fff3e0; border-color: #ef6c00;">
                        <span class="step-title" style="color: #ef6c00;">ğŸ”‘ è¨˜æ†¶å£è¨£</span>
                        <p>${q.analysis.mnemonic}</p>
                    </div>
                </div>

                <div class="step-block" style="background-color: #ffebee; border-color: #c62828;">
                    <span class="step-title" style="color: #c62828;">âš ï¸ å¸¸è¦‹é™·é˜±</span>
                    <p>${q.analysis.traps}</p>
                </div>

                <div class="step-block" style="background-color: #e3f2fd; border-color: #1565c0;">
                    <span class="step-title" style="color: #1565c0;">â“ è‡ªæˆ‘æª¢æ¸¬ (é»æ“Šé»‘æ¢çœ‹ç­”æ¡ˆ)</span>
                    ${selfCheckHtml}
                </div>
            </div>
        `;

        questionContainer.innerHTML = html;
        attachKeywordEvents();
    }

    function selectOption(qId, optId, type) {
        if (questionStatus[qId]) return; // Already submitted

        if (!userAnswers[qId]) userAnswers[qId] = [];
        
        if (type === 'single') {
            userAnswers[qId] = [optId];
        } else {
            // Toggle for multi
            const idx = userAnswers[qId].indexOf(optId);
            if (idx > -1) userAnswers[qId].splice(idx, 1);
            else userAnswers[qId].push(optId);
        }
        renderQuestion(qId);
    }

    function submitAnswer(qId) {
        const ans = userAnswers[qId];
        if (!ans || ans.length === 0) {
            alert('è«‹å…ˆé¸æ“‡ç­”æ¡ˆï¼');
            return;
        }

        const q = questions.find(item => item.id === qId);
        
        // Check answer (simple array comparison for sorting)
        const sortedUser = [...ans].sort().join(',');
        const sortedCorrect = [...q.correct].sort().join(',');
        
        const isCorrect = sortedUser === sortedCorrect;
        
        questionStatus[qId] = isCorrect ? 'correct' : 'wrong';
        
        renderTabs(); // Update badge
        renderQuestion(qId);
        checkAllCompleted();
    }

    function toggleAnalysis() {
        const section = document.getElementById('analysisSection');
        if (section.style.display === 'none') section.style.display = 'block';
        else section.style.display = 'none';
    }

    function attachKeywordEvents() {
        document.querySelectorAll('.keyword-interactive').forEach(el => {
            el.addEventListener('click', function() {
                this.classList.toggle('active');
            });
        });
    }

    function checkAllCompleted() {
        const allDone = questions.every(q => questionStatus[q.id]);
        if (allDone) {
            completionBanner.style.display = 'block';
            window.scrollTo(0, 0);
        }
    }

    // Start
    init();

</script>

</body>
</html>